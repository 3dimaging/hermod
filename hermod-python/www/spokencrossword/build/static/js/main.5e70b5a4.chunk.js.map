{"version":3,"sources":["../vanilla/porcupine/downsampling_worker.js","images/waiting_small.gif","logo.svg","../vanilla/index.js","../vanilla/wav2mqtt.js","../vanilla/porcupine/porcupine_manager.js","../vanilla/porcupine/web_voice_processor.js","../vanilla/porcupine/keyword_data_edison.js","PropsRoute.js","HomeContentComponent.js","crossword/context.js","crossword/Cell.js","crossword/Clue.js","crossword/DirectionClues.js","crossword/util.js","crossword/Crossword.js","crossword/index.js","CrosswordComponent.js","MicrophoneComponent.js","SpeechBubbleComponent.js","SuggestionButtonsComponent.js","NluFixerComponent.js","HeaderComponent.js","SlotListComponent.js","FooterComponent.js","IFrameComponent.js","YoutubeComponent.js","AboutComponent.js","ImageListComponent.js","LoginComponent.js","HermodClient.js","CrosswordListComponent.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","self","inputSampleRate","onmessage","e","data","command","x","inputFrame","i","length","inputBuffer","push","outputFrame","Int16Array","sum","num","outputIndex","inputIndex","Math","min","postMessage","slice","process","hark","require","mqtt","wav2mqtt","HermodWebClient","config","PorcupineManager","KeywordData","window","mqttClient","isRecording","isSending","isPlaying","waitingFor","onCallbacks","hotwordInitialised","hotwordStarted","audioContext","AudioContext","webkitAudioContext","microphoneContext","microphoneGainNode","speakerContext","speakerGainNode","urlAudioPlayer","speakingTimeout","speaking","microphoneAudioBuffer","bufferSource","currentVolume","speakerCache","SENSITIVITIES","Float32Array","messageFunctions","topic","site","payload","console","log","url","parts","split","uid","json","JSON","parse","hasOwnProperty","Promise","resolve","reject","Audio","addEventListener","event","play","then","publish","stringify","playSound","arrays","totalLength","reduce","acc","value","result","Uint8Array","array","set","concat_arrays","name","user","intent","message","entities","entity","join","payloadIn","volume","setVolume","muteVolume","startMicrophone","stopMicrophone","unmuteVolume","startHotword","stopHotword","sendInitMessage","onMessageArrived","unsubscribe","multiSite","sendMessage","location","origin","connect","options","clientId","username","protocolId","protocolVersion","clean","password","rejectUnauthorized","protocol","mqttServer","server","hostname","on","subscribe","err","sendAudioMessage","sendAndWaitFor","sendTopic","waitTopic","gain","webpack","javascript_environment","start","keyword","ex","bindSpeakingEvents","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","audio","stream","speechEvents","clearTimeout","a","sendAudioBuffer","setTimeout","gotDevices","deviceInfos","device","devices","deviceInfo","kind","label","deviceId","toLowerCase","indexOf","createGain","audioInput","createMediaStreamSource","convertFloat32ToInt16","buffer","l","buf","recorder","createScriptProcessor","onaudioprocess","sourceAudioBuffer","TARGET_SAMPLE_RATE","onComplete","offlineCtx","OfflineAudioContext","numberOfChannels","duration","createBuffer","sampleRate","channel","copyToChannel","getChannelData","source","createBufferSource","destination","oncomplete","leftFloat32Array","renderedBuffer","startRendering","resample","res","Buffer","from","shift","activateRecording","handleError","error","bytes","playTime","decodeAudioData","audioBuffer","onended","onerror","mediaDevices","enumerateDevices","info","catch","stopPlaying","stop","pause","say","text","stopAll","bind","key","callback","unbind","sendAudioAndWaitFor","sendNLUMessage","sendASRTextMessage","authenticate","disconnect","end","Chunker","fs","Readable","Writable","dastream","siteId","filename","chunker","flush","createReadStream","wavReader","Reader","inBody","format","write","pipe","destroy","WebVoiceProcessor","porcupineWorkerScript","porcupineWorker","keywordIDs","sensitivities","detectionCallback","errorCallback","readyCallback","Worker","ready","this","processFrame","frame","work","workwp","engines","downsampler","audioSource","node","context","forEach","engine","KEYWORDS_ID","PropsRoute","component","rest","render","routeProps","finalProps","Object","assign","React","createElement","renderMergedProps","ContentOne","that","className","style","marginLeft","clear","marginTop","Button","variant","onClick","props","target","innerText","to","size","Component","HomePageContent","CrosswordContext","createContext","focused","selectedDirection","selectedNumber","CrosswordSizeContext","cellSize","cellPadding","cellInner","cellHalf","fontSize","Cell","cellData","focus","highlight","useContext","ThemeContext","cellBackground","cellBorder","textColor","numberColor","focusBackground","highlightBackground","handleClick","useCallback","preventDefault","row","col","guess","number","y","cursor","width","height","fill","stroke","strokeWidth","textAnchor","dominantBaseline","defaultProps","ClueWrapper","styled","div","attrs","correct","Clue","direction","children","onClueSelected","aria-label","DirectionClues","clues","toUpperCase","map","clue","undefined","directionInfo","across","primary","orthogonal","down","bothDirections","keys","isAcross","otherDirection","calculateExtents","dir","primaryMax","orthogonalMax","entries","answer","emptyCellData","used","locked","fillClues","gridData","rowStart","colStart","sort","byNumber","createGridData","acrossMax","downMax","max","values","Array","r","c","createEmptyGrid","b","Number","parseInt","saveGuesses","storageKey","localStorage","guesses","memo","memoInner","serializeGuesses","saveData","date","Date","now","setItem","loadGuesses","saveRaw","getItem","val","deserializeGuesses","defaultTheme","columnBreakpoint","gridBackground","OuterWrapper","theme","GridWrapper","CluesWrapper","Crossword","forwardRef","ref","onCorrect","onLoadedCorrect","onCrosswordCorrect","onCellChange","useStorage","defaultStorageKey","useState","setSize","setGridData","setClues","setFocused","focusedRow","setFocusedRow","focusedCol","setFocusedCol","currentDirection","setCurrentDirection","currentNumber","setCurrentNumber","bulkChange","setBulkChange","checkQueue","setCheckQueue","crosswordCorrect","setCrosswordCorrect","inputRef","useRef","contextTheme","getCellData","outOfBounds","setCellCharacter","char","cell","produce","draft","notifyCorrect","checkCorrectness","find","useEffect","every","clueInfo","current","moveTo","directionOverride","candidate","moveRelative","dRow","dCol","moveForward","moveBackward","handleSingleCharacter","handleInputKeyDown","ctrlKey","altKey","metaKey","other","handleInputChange","substring","loadedCorrect","correctAnswers","findCorrectAnswers","handleCellClick","handleInputClick","handleClueSelected","useImperativeHandle","reset","rowData","removeItem","clearGuesses","fillAnswer","toString","fillAllAnswers","isCrosswordCorrect","finalTheme","cells","Provider","margin","padding","position","viewBox","type","onKeyDown","onChange","autoComplete","spellCheck","autoCorrect","top","left","textAlign","backgroundColor","caretColor","border","displayName","CrosswordComponent","state","_id","title","forcereload","loadCrossword","match","setState","api","connected","hermodClient","stash","params","id","startWaiting","fetch","response","crossword","saveMe","author","copyright","replace","copyright_link","link","finally","stopWaiting","slots","client","slot","float","href","marginRight","zIndex","crosswordRef","MicrophoneComponent","borderColor","microphoneState","buttonStyle","right","borderRadius","textDecoration","outline","micImage","aria-hidden","focusable","data-prefix","data-icon","role","xmlns","d","toggleMicrophone","isWaiting","opacity","alt","src","waitingIcon","SpeechBubbleComponent","visible","transcript","minWidth","background","minHeight","fontWeight","SuggestionButtonsComponent","renderedButtons","getAttribute","showFrame","showWindow","buttons","data-message","data-frame","data-url","NluFixerComponent","getPrettyIntentName","onIntentChanged","onEntityChanged","onEntityClicked","sendForm","sendFormQuestion","onQuestionSelect","onQuestionBlur","onQuestionFocus","onQuestionKeyup","getQuestionSelection","getQuestionSelectionRange","newEntity","addOrUpdateEntityValue","addOrUpdateEntityType","onEntityDeleted","setQuestionSelection","onEntityListExpanded","allowIntent","canShowEntity","questionInput","createRef","selection","selectionRange","keyupTimeout","changed","questionIsFocussed","showAddButton","intentName","intentNames","entityName","entityNames","nlu","nlu_json_original","attributes","textContent","setNluJson","oldvalue","nlu_json","newEntities","found","range","allowedIntents","parsedIntent","parsedEntities","entityIndex","parsedEntity","entityOptions","form","question","domain","intentUsed","intent_ranking","Dropdown","Item","intents","getPrettyEntityName","innerEntityOptions","j","entityNameInner","Divider","as","ButtonGroup","Toggle","Menu","addEntityOptions","onSubmit","display","show","onKeyUp","onFocus","onBlur","onSelect","setQuestion","selectionStart","selectionEnd","createSelection","field","createTextRange","selRange","collapse","moveStart","moveEnd","select","setSelectionRange","HeaderComponent","SlotListComponent","overflowY","borderTop","bottom","rel","color","divStyle","overflow","opts","playerVars","autoplay","_onReady","youtube","videoId","onReady","ImageListComponent","images","attribution","responseGoogle","LoginComponent","buttonText","onSuccess","onFailure","cookiePolicy","withRouter","isListening","isSpeaking","image","useAnalytics","initClient","analyticsEvent","navigateTo","history","clearSpeechTimeout","ReactGA","initialize","pageview","pathname","search","hotwordReady","pl","jsonPayload","altparts","alttopic","bindTopic","showUrl","showYoutube","showImages","navigate","cleanEntities","page","category","action","displayWindow","close","open","CrosswordListComponent","crosswords","searchFor","difficulty","searchCrosswords","updateSearchFor","searchDifficulty","searchTimeout","queryParts","list","searchResults","difficultyMap","categoryItems","categoryStyle","align","categories","placeholder","App","fillCrossword","word","path","exact","HomeContentComponent","IFrameComponent","YoutubeComponent","AboutComponent","FooterComponent","adsenseClient","adsenseSlot","Boolean","ReactDOM","StrictMode","document","getElementById","serviceWorker","registration","unregister"],"mappings":"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AAM,IAAM,GAAM,IAAM,GAAM,GAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAClE,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,EAAM,IAClE,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAClE,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAClE,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,GAClE,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,EAAM,GAAM,IAAM,IAAM,GAAM,GAClE,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,EAAM,IAClE,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAClE,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAClE,EAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,EAAM,GAClE,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAClE,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,EAAM,IAAM,IAAM,IAAM,IAClE,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,GAAM,EAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAClE,EAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAClE,GAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,EAAM,IAAM,GAAM,IAAM,GAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,EAClE,IAAM,GAAM,IAAM,EAAM,IAAM,EAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAClE,IAAM,IAAM,GAAM,IAAM,EAAM,GAAM,GAAM,IAAM,EAAM,GAAM,GAAM,GAClE,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAClE,IAAM,EAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAClE,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,EAAM,IAAM,IAAM,IAClE,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAClE,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAClE,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAClE,IAAM,GAAM,IAAM,EAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAClE,IAAM,IAAM,EAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAClE,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAClE,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAClE,IAAM,GAAM,IAAM,GAAM,EAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAClE,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,EAAM,GAAM,GAClE,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,EAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,EAClE,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,EAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,EAAM,IAAM,GAAM,GAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAClE,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAClE,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAClE,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAClE,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,EAAM,IAAM,GAAM,IAAM,IAAM,IAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,EAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,EAAM,GAAM,IAAM,EAClE,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAClE,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,EAAM,GAAM,IAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAClE,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,EAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAClE,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAClE,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,GAAM,EAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAClE,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAClE,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,GAAM,EAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAClE,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAClE,GAAM,GAAM,IAAM,IAAM,GAAM,EAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAClE,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,EAAM,IAClE,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAClE,GAAM,EAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAClE,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAClE,IAAM,EAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAClE,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAClE,IAAM,EAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAClE,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAClE,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAClE,EAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAClE,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAClE,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,EAAM,GAAM,GAAM,GAAM,EAAM,GAClE,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAClE,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAClE,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAClE,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,EAAM,GAAM,IAAM,GAClE,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAClE,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,EAClE,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,IAAM,EAAM,IAAM,GAAM,IAClE,GAAM,IAAM,GAAM,EAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAClE,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,EAAM,IAAM,GAAM,IAAM,IAAM,EAClE,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,EAAM,IAAM,GAAM,IAClE,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAClE,IAAM,GAAM,GAAM,IAAM,GAAM,EAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAClE,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAClE,GAAM,IAAM,EAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,EAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAClE,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAClE,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,EAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,EAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAClE,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,EAClE,GAAM,EAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAClE,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,EAClE,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,EAAM,GAAM,GAAM,GAAM,IAClE,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAClE,EAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAClE,EAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAClE,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAClE,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,EAAM,IAAM,IAAM,GAClE,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAClE,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,IAAM,EAAM,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAClE,EAAM,IAAM,IAAM,EAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,EAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,EAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,EAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,GAAM,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,GAClE,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,EAAM,GAAM,IAAM,GAClE,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAClE,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAClE,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAClE,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAClE,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,EAAM,GAClE,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAClE,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAClE,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,GAClE,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAClE,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,GAClE,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,EAAM,IAAM,IAAM,GAAM,IAClE,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAClE,GAAM,IAAM,IAAM,GAAM,EAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAClE,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAClE,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAClE,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,GAAM,GAClE,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,EAAM,GAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAClE,IAAM,GAAM,EAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAClE,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,GAClE,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,EAAM,IAAM,IAAM,GAAM,IAClE,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAClE,GAAM,EAAM,IAAM,IAAM,GAAM,EAAM,GAAM,IAAM,GAAM,EAAM,GAAM,EAClE,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAClE,IAAM,GAAM,EAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAClE,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,EAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAClE,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAClE,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAClE,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAClE,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM,GAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAClE,IAAM,GAAM,GAAM,EAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAClE,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,EAClE,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAClE,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAClE,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,EAAM,GAAM,GAAM,GAClE,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,EAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAClE,EAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAClE,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,EAAM,IAClE,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAClE,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAClE,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAClE,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,EAClE,IAAM,IAAM,IAAM,GAAM,EAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAClE,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,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","file":"static/js/main.5e70b5a4.chunk.js","sourcesContent":["module.exports = function (self) {\n    onmessage = function (e) {\n        switch (e.data.command) {\n            case \"init\":\n                init(e.data.inputSampleRate);\n                break;\n            case \"process\":\n                process(e.data.inputFrame);\n                break;\n            case \"reset\":\n                reset();\n                break;\n        }\n    };\n\n    let inputSampleRate;\n    let inputBuffer = [];\n\n    function init(x) {\n        inputSampleRate = x;\n    }\n\n    function process(inputFrame) {\n        for (let i = 0; i < inputFrame.length; i++) {\n            inputBuffer.push((inputFrame[i]) * 32767);\n        }\n\n        const PV_SAMPLE_RATE = 16000;\n        const PV_FRAME_LENGTH = 512;\n\n        while ((inputBuffer.length * PV_SAMPLE_RATE / inputSampleRate) > PV_FRAME_LENGTH) {\n            let outputFrame = new Int16Array(PV_FRAME_LENGTH);\n            let sum = 0;\n            let num = 0;\n            let outputIndex = 0;\n            let inputIndex = 0;\n\n            while (outputIndex < PV_FRAME_LENGTH) {\n                sum = 0;\n                num = 0;\n                while (inputIndex < Math.min(inputBuffer.length, (outputIndex + 1) * inputSampleRate / PV_SAMPLE_RATE)) {\n                    sum += inputBuffer[inputIndex];\n                    num++;\n                    inputIndex++;\n                }\n                outputFrame[outputIndex] = sum / num;\n                outputIndex++;\n            }\n\n            postMessage(outputFrame);\n\n            inputBuffer = inputBuffer.slice(inputIndex);\n        }\n    }\n\n    function reset() {\n        inputBuffer = [];\n    }\n}\n","module.exports = __webpack_public_path__ + \"static/media/waiting_small.d362cb3f.gif\";","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","/* global window */\n    \n//console.log(HermodWebClient)\n\n//var Module = require('./porcupine/pv_porcupine')\n   \nvar hark = require('hark');\n//var getUserMedia = require('getusermedia')  \nvar mqtt = require('mqtt')\nvar wav2mqtt = require('./wav2mqtt')\n\nfunction logAnalyticsEvent(name,user) {\n    console.log(['LOG ANLYT',name,user])\n    //analyticsClient.track({\n      //event: name,\n      //userId: user\n    //});\n}\n\n\nvar HermodWebClient = function(config) {\n    \n    //{\n                    //\"server\": \"https://localhost:3000\", \n                    //\"mqttServer\": \"wss://peppertrees.asuscomm.com:9001\", \n                    //\"username\": \"hermod_admin\",\n                    //\"password\": \"talk2mebaby\",\n                    //\"subscribe\": \"hermod/hermod_admin_web/#\",\n                    //\"hotwordsensitivity\" : 0.5    ,\n                    //\"site\" :\"hermod_admin_web\",\n                    //\"analytics_code\": \"UA-3712973-3\"\n                //}\n        \n        var PorcupineManager = require('./porcupine/porcupine_manager')\n        \n        var KeywordData =  require('./porcupine/keyword_data_edison')\n\n        try {\n            window.PorcupineManager = PorcupineManager\n            //window.WebVoiceProcessor = WebVoiceProcessor\n            //window.KeywordData = KeywordData\n            //window.PorcupineModule = PorcupineModule()\n            //window.PorcupineWorker = PorcupineWorker\n            //window.DownsampleWorker = DownsampleWorker\n        } catch(e) {} //\n          \n        \n        var mqttClient = null;\n        var isRecording = false;\n        var isSending = false;\n        var isPlaying = false;\n        var waitingFor = {}\n        var onCallbacks = {}\n        \n        //var hotwordManager = null;\n        var hotwordInitialised = false;\n        var hotwordStarted = false;\n        // default volumes\n        var inputvolume = 1.0  // TODO also hotword volume?\n        var outputvolume = 1.0\n        var hotwordReady = false;\n        //var site = null;\n        \n        //var inputGainNodes=[];\n        \n        let audioContext = window.AudioContext || window.webkitAudioContext;\n        let microphoneContext = null\n        var microphoneGainNode = null;\n        let speakerContext = null\n        var speakerGainNode = null;\n         \n        var urlAudioPlayer = null;                          \n        \n        var porcupineManager;\n        var speakingTimeout = null;     \n        var speaking = false;\n        var microphoneAudioBuffer = []\n        var bufferSource = null;\n        var currentVolume = null;\n        \n        var speakerCache = []\n        //var streamingAudioQueue = []\n        //var streamingTimeout = null\n        //var WAV_HEADER = 'RIFF$\\xe2\\x04\\x00WAVEfmt \\x10\\x00\\x00\\x00\\x01\\x00\\x01\\x00\\x80>\\x00\\x00\\x00}\\x00\\x00\\x02\\x00\\x10\\x00data\\x00\\xe2\\x04\\x00' \n             \n        //var streamingGainNode = null;\n        //var streamingTimeout = null;\n        //var is_streaming = false;\n        //var bufferSize = 256\n        //var silence = new Uint8Array(bufferSize);\n        //var scriptNode = null;\n        //var startTime = 0;\n        //var streamCount = 0\n        \n    \n        var SENSITIVITIES = new Float32Array([\n                0.9 //, // \"Hey Edison\"\n                //0.5, // \"Hot Pink\"\n                //0.5, // \"Deep Pink\"\n                //0.5, // \"Fire Brick\"\n                //0.5, // \"Papaya Whip\"\n                //0.5, // \"Peach Puff\"\n                //0.5, // \"Sandy Brown\"\n                //0.5, // \"Lime Green\"\n                //0.5, // \"Forest Green\"\n                //0.5, // \"Midnight Blue\"\n                //0.5, // \"Magenta\"\n                //0.5, // \"White Smoke\"\n                //0.5, // \"Lavender Blush\"\n                //0.5 // \"Dim Gray\"\n            ]);\n        \n        var messageFunctions = {\n            // SPEAKER\n             //elif topic.startswith('hermod/' + self.site + '/speaker/cache'):\n            ////self.log('CACHE PLAYING')\n            //// limit length of direct audio, alt use url streaming for unlimited\n            //if len(self.speaker_cache) < 800:\n                //self.speaker_cache.append(msg.payload)\n                \n            'hermod/+/speaker/cache/+' : function(topic,site,payload) {\n                //console.log(['speaker cache',speakerCache.length,payload]);\n                speakerCache.push(payload)\n                \n                //if (speakerCache.length >5) {\n                    //playNow = speakerCache.splice(0, 4); \n                    //playSound(concat_arrays(playNow)).then(function() {\n                        //console.log(['DONE speaker play part']);\n                    //});    \n                //}\n\n                 \n            }, \n            'hermod/+/speaker/play/+' : function(topic,site,payload) {\n                console.log(['speaker play',site,payload]);\n                var parts = topic.split(\"/\")\n                var uid = 'no_id'\n                if (parts.length > 4)  {\n                    uid = parts[4]\n                }\n                if (site && site.length > 0) { \n                    var json = {}\n                    try {\n                        json = JSON.parse(payload)\n                    } catch(e) {}\n                    if (json && json.url) {\n                        if (onCallbacks.hasOwnProperty('startPlaying')) {\n                            onCallbacks['startPlaying']()\n                         } \n                         playUrl(json.url).then(function() {\n                            //console.log(['DONE speaker play']);\n                            mqttClient.publish(\"hermod/\"+site+\"/speaker/finished\",JSON.stringify({\"id\":uid})); \n                            if (onCallbacks.hasOwnProperty('stopPlaying')) {\n                                onCallbacks['stopPlaying']()\n                            } \n                        }); \n                    } else {\n                        mqttClient.publish(\"hermod/\"+site+\"/speaker/started\",JSON.stringify({\"id\":uid})); \n                        if (onCallbacks.hasOwnProperty('startPlaying')) {\n                            onCallbacks['startPlaying']()\n                        } \n                         //console.log(['START speaker play']);\n                        speakerCache.push(payload)\n                        playSound(concat_arrays(speakerCache)).then(function() {\n                            //console.log(['DONE speaker play']);\n                            speakerCache = []\n                            mqttClient.publish(\"hermod/\"+site+\"/speaker/finished\",JSON.stringify({\"id\":uid})); \n                            if (onCallbacks.hasOwnProperty('stopPlaying')) {\n                                onCallbacks['stopPlaying']()\n                             } \n                        }); \n                    }\n                }\n            }, \n            //'hermod/+/speaker/stream_mp3/+' : function(topic,site,payload) {\n                //console.log('STREAM')\n                //console.log(typeof payload)\n                //console.log(payload.length)\n                ////if (payload instanceof Blob) {\n                //var parts = topic.split(\"/\")\n                //var uid = 'no_id'\n                //if (parts.length > 4)  {\n                    //uid = parts[4]\n                //}\n                    //////audioQueue.write(payload);\n                //var reader = new FileReader();\n                //reader.onload = function() {\n                    ////console.log('RR')\n                    ////console.log(reader.result)\n                    ////audioQueue.write(new Uint8Array(reader.result));\n                    //// On the first message set the startTime to the currentTime from the audio context\n                    //if (streamCount ==0){\n                        //startTime = speakerAudioContext.currentTime;\n                    //}\n\n                    //speakerAudioContext.decodeAudioData(reader.result, function(data) {\n                        //streamCount ++; // Keep a count of how many messages have been received\n                        //var playTime = startTime + (streamCount *0.2) //Play each at file 200ms\n                        //playSound(data, playTime); //call the function to play the sample at the appropriate time\n                    //});\n\n                //};\n                //reader.readAsArrayBuffer(new Blob([new Uint8Array(payload)], { type: 'audio/wav' }));\n                \n                   \n                \n\n                //function playSoundSegment(buffer, playTime) {\n                    //var source = streamingAudioContext.createBufferSource(); //Create a new BufferSource fr the\n                    //source.buffer = buffer; // Put the sample content into the buffer\n                    //source.start(playTime); // Set the starting time of the sample to the scheduled play time\n                    //source.connect(streamingAudioContext.destination); // Also Connect the source to the audio output\n                    //if (streamingTimeout) clearTimeout(streamingTimeout)\n                    //streamingTimeout = setTimeout(function() {\n                        //mqttClient.publish(\"hermod/\"+site+\"/speaker/finished\",JSON.stringify({\"id\":uid}));\n                    //},2000)\n                //}\n            //},  \n            'hermod/+/nlu/intent': function(topic,site,payload) {\n                //console.log('NLU INTENT')\n                var json = JSON.parse(payload)\n                if (json && json.intent && json.intent.name) {\n                    var message = json.intent.name\n                    var entities = []\n                    if (json.entities) {\n                        for (var i in json.entities) {\n                            entities.push(json.entities[i].entity)\n                        }\n                        if (entities.length > 0) {\n                            message += '::'+entities.join(\"__\")\n                        }\n                    }\n                    //console.log(JSON.parse(payload))\n                    logAnalyticsEvent(message,site)\n                }\n            },\n            'hermod/+/tts/say': function(topic,site,payload) {\n              \n              if (onCallbacks.hasOwnProperty('startSpeaking')) {\n                    onCallbacks['startSpeaking']() \n                }\n            }, \n            'hermod/+/tts/finished': function(topic,site,payload) {\n               \n              if (onCallbacks.hasOwnProperty('stopSpeaking')) {\n                    onCallbacks['stopSpeaking']() \n                }\n            }, \n            \n            'hermod/+/speaker/volume': function(topic,site,payloadIn) {\n                // quarter volume for 10 seconds\n                var payload = {}\n                try {\n                    payload = JSON.parse(payloadIn)\n                    if (payload.volume) setVolume(payload.volume)\n                } catch(e) {\n                    \n                }\n            } ,  \n            \n            //'hermod/+/microphone/start' : function(topic,site,payload) {\n                //startMicrophone()\n            //},\n            //'hermod/+/microphone/stop' : function(topic,site,payload) {\n                //stopMicrophone()\n            //},\n            //'hermod/+/asr/start': function(topic,site,payload) {\n                //// quarter volume for 10 seconds\n                //muteVolume()\n            //},\n            //'hermod/+/asr/stop': function(topic,site,payload) {\n                //// quarter volume for 10 seconds\n                //console.log('stop message unmute')\n                //unmuteVolume()\n            //} ,\n            'hermod/+/asr/start' : function(topic,site,payload) {\n                 muteVolume()\n                 startMicrophone()\n            },\n            'hermod/+/asr/stop' : function(topic,site,payload) {\n                stopMicrophone()\n                unmuteVolume()\n            },\n            'hermod/+/hotword/start' : function(topic,site,payload) {\n                startHotword();\n            },\n            'hermod/+/hotword/stop' : function(topic,site,payload) {\n                stopHotword();\n            },\n            \n            \n            //'hermod/+/dialog/start' : function(topic,site,payload) {\n                //startMicrophone();\n            //},\n            //'hermod/+/dialog/continue' : function(topic,site,payload) {\n                //startMicrophone();\n            //},\n            //'hermod/+/asr/text' : function(topic,site,payload) {\n                //stopMicrophone()\n                //startHotword()\n            //},\n            //'hermod/+/asr/timeout' : function(topic,site,payload) {\n                //stopMicrophone()\n                //startHotword()\n            //},\n            \n            \n            'hermod/+/ready' : function(topic,site,payload) {\n                console.log('reload on server restart')\n                //window.location.reload()\n                sendInitMessage(site)\n            }        \n        }\n        \n        \n         \n        \n        function concat_arrays(arrays) {\n          // sum of individual array lengths\n          let totalLength = arrays.reduce((acc, value) => acc + value.length, 0);\n\n          if (!arrays.length) return null;\n\n           let result = new Uint8Array(totalLength);\n\n              // for each array - copy it over result\n              // next array is copied right after the previous one\n              let length = 0;\n              for(let array of arrays) {\n                    result.set(array, length);\n                    length += array.length;\n              }\n\n              return result;\n        }\n        \n        function onMessageArrived(message,payload) {\n            console.log(['MESSAGE ',message,payload])\n            if (waitingFor.hasOwnProperty(message)) {\n                // callback for sendAndWaitFor\n                //console.log('run callback')\n                mqttClient.unsubscribe(message)\n                waitingFor[message](message,payload)\n                delete waitingFor[message]\n            } else {\n                // handle messageFunction\n                var parts = message.split(\"/\")\n                // special handling for id in speaker/play/<id>\n                if ((parts.length > 4 && parts[2] === \"speaker\" && parts[3] === \"play\") || (parts.length > 4 && parts[2] === \"speaker\" && parts[3] === \"cache\") || \n                (parts.length > 4 && parts[2] === \"speaker\" && parts[3] === \"stream_mp3\") || (parts.length > 4 && parts[2] === \"speaker\" && parts[3] === \"stream_wav\")) {\n                    //console.log('SPAKE ')\n                    parts[4]=\"+\";\n                }\n                var site = parts[1]\n                parts[1] = '+'\n                var multiSite = parts.join(\"/\")\n                //console.log('MATCH '+multiSite)\n                //console.log(messageFunctions)\n                //console.log(messageFunctions[multiSite])  \n                if (messageFunctions.hasOwnProperty(multiSite)) { \n                    //console.log(['CALL ',messageFunctions[multiSite]])\n                \n                    messageFunctions[multiSite](message,site,payload)\n                }\n            }\n            if (onCallbacks.hasOwnProperty('message')) {\n                onCallbacks['message'](message,payload)\n            }\n        }\n\n        function sendInitMessage(site) {\n            sendMessage('hermod/'+site+'/dialog/init',{\"platform\":\"web\",\"url\":window.location.origin,\"supports\":[\"audio\",\"display\"]})\n        }\n    \n        function connect() {\n            \n            return new Promise(function(resolve,reject) {\n                function onConnect() {\n                    console.log('connected')\n                    console.log(config)\n                    if (config.subscribe && config.subscribe.length  > 0) { \n                        mqttClient.subscribe('hermod/rasa/ready',function(err) { \n                            mqttClient.unsubscribe(config.subscribe,function(err) {\n                               if (err) console.log(['unSUBSCRIBE ERROR',err])\n                                mqttClient.subscribe(config.subscribe,function(err) {\n                                   if (err) console.log(['SUBSCRIBE ERROR',err])\n                                   console.log(['init subscribed to '+config.subscribe])\n                                   sendMessage('hermod/'+config.site+'/asr/activate',{})\n                                   if (onCallbacks.hasOwnProperty('connect')) {\n                                        onCallbacks['connect']()\n                                    }\n                                    sendInitMessage(config.site)\n                                   resolve()\n                                });\n                            });\n                        });\n                    } else {\n                        sendInitMessage(config.site)\n                        if (onCallbacks.hasOwnProperty('connect')) {\n                            onCallbacks['connect']()\n                        }\n                        resolve()\n                    }\n                }\n                //console.log('connect')\n                \n                var options = {\n                  clientId: config.username,\n                  protocolId: 'MQTT',\n                  protocolVersion: 4,\n                  clean: false,\n                  username: config.username,\n                  password: config.password,\n                  rejectUnauthorized: false\n                }\n                \n                \n                //console.log(config)\n                //console.log(options)\n                //console.log(config.server)\n                //mqttClient  = mqtt.connect(config.server,{username:config.username,password:config.password}) //host:server,port:port,\n                //var protocol = 'ws://'\n                //var port = 9001\n                //var mqttServer = '';\n                //if (config.server.slice(0,6) === \"https:\") {\n                    //protocol = 'wss://'\n                    //hostname = config.server.slice(0,8)\n                    //mqttServer = protocol+hostname;\n                //} else {\n                    //protocol = 'ws://'\n                    //hostname = config.server.slice(0,7)\n                    //mqttServer = protocol+hostname;\n                //}\n                \n                var protocol = 'ws://'\n                var port = 9001\n                if (window.location.protocol == \"https:\") {\n                    protocol = 'wss://' \n                }\n                var mqttServer = null;\n                if (config.server) {\n                    mqttServer = config.server\n                } else {\n                    mqttServer = protocol + window.location.hostname + \":\"+port\n                }\n                \n                mqttClient = mqtt.connect(mqttServer, options);\n                \n                mqttClient.on('connect', onConnect)\n                mqttClient.on('error', function(e) {\n                    console.log('error')\n                    console.log(e)\n                    if (onCallbacks.hasOwnProperty('disconnect')) {\n                        onCallbacks['disconnect']()\n                    }\n                })\n                mqttClient.on('disconnect', function(e) {\n                    console.log('disconnect')\n                    console.log(e)\n                    if (onCallbacks.hasOwnProperty('disconnect')) {\n                        onCallbacks['disconnect']()\n                    }\n                })\n                mqttClient.on('reconnect', function(e) {\n                    console.log('reconnect')\n                    if (onCallbacks.hasOwnProperty('reconnect')) {\n                        onCallbacks['reconnect']() \n                    }\n                })\n\n                mqttClient.on('message',onMessageArrived);\n                //console.log('connect done')\n                \n\n            })\n            \n        }\n      \n        function disconnect() {\n            //console.log('discon')\n            //console.log(mqttClient)\n            if (onCallbacks.hasOwnProperty('disconnect')) {\n                onCallbacks['disconnect']()\n            }\n            mqttClient.end()\n            setTimeout(function() {\n                connect()\n            },3000)\n        }\n         \n        function sendMessage(topic,payload) {\n            mqttClient.publish(topic,JSON.stringify(payload));    \n        }\n        \n        function sendNLUMessage(site,intent,entities) {\n            if (!entities) entities = []\n            mqttClient.publish('hermod/'+site+'/nlu/intent',JSON.stringify({intent:{name:intent}, entities:entities}));    \n        }\n        \n         \n        function sendASRTextMessage(site,text) {\n            console.log('send text message '+site+text)\n            mqttClient.publish('hermod/'+site+'/asr/text',JSON.stringify({text:text}));    \n        }\n        \n        \n        function sendAudioMessage(topic,payload) {\n            mqttClient.publish(topic,payload);    \n        }\n        \n        function sendAndWaitFor(sendTopic,payload,waitTopic) {\n           // console.log(['send and wait',sendTopic,payload,waitTopic])\n            //var innerMqttClient = null;\n            return new Promise(function(resolve,reject) {\n                mqttClient.subscribe(waitTopic)\n                waitingFor[waitTopic] = function() {resolve()};\n                mqttClient.publish(sendTopic,JSON.stringify(payload));  \n            })\n        }\n        \n        function say(text) {\n            return sendAndWaitFor('hermod/'+config.site+'/tts/say',{text:text},'hermod/'+config.site+'/tts/finished')\n        }\n        \n        function sendAudioAndWaitFor(site,audio,waitTopic) {\n            //var sendTopic = 'hermod/' + site +'/microphone/audio'\n           // console.log(['send audio and wait',site,audio,waitTopic])\n            return new Promise(function(resolve,reject) {\n                mqttClient.subscribe(waitTopic)\n                waitingFor[waitTopic] = function() {wav2mqtt.stop(); resolve()};\n                wav2mqtt.start(mqttClient,site,audio);  \n            })\n        }\n        \n        function authenticate() {\n            \n        }\n\n        function setVolume(volume) {\n            //console.log('set volume '+volume)\n            if (speakerGainNode && speakerGainNode.gain) speakerGainNode.gain.value = volume/100;\n        }\n        \n        function muteVolume() {\n            //console.log('mute')\n            if (speakerGainNode && speakerGainNode.gain) {\n                currentVolume = speakerGainNode.gain.value\n                speakerGainNode.gain.value = 0.05;\n            }\n            \n        }\n        \n        function unmuteVolume() {\n            //console.log('unmute to '+ currentVolume)\n            if (currentVolume != null) {\n                if (speakerGainNode && speakerGainNode.gain) {\n                    speakerGainNode.gain.value = currentVolume;\n                    currentVolume = speakerGainNode.gain.value;\n                }\n            }\n        }\n         \n        // event functions\n        // accept callback for trigger on lifecycle events\n        function bind(key,callback) {\n            onCallbacks[key] = callback;\n        } \n         \n        function unbind(key) {\n            delete onCallbacks[key]\n        } \n         \n        function startHotword() {\n            //console.log('start hw')\n            if (onCallbacks.hasOwnProperty('hotwordStart')) {\n                onCallbacks['hotwordStart']()\n            }\n            hotwordStarted = true;\n            if (!hotwordInitialised) {\n                let processCallback = function (keyword) {\n                    //console.log('heard '+keyword)\n                    if (keyword && hotwordStarted) {\n                        //console.log('heard and accept '+keyword)\n                        startMicrophone()\n                        sendMessage('hermod/'+config.site+'/hotword/detected',{})\n                        if (onCallbacks.hasOwnProperty('hotwordDetected')) {\n                            onCallbacks['hotwordDetected'](keyword)\n                        }\n                        \n                        //startMicrophone()\n                    }\n                };\n                let readyCallback = function() {\n                    console.log('hotword ready')\n                    hotwordReady = true;\n                    if (onCallbacks.hasOwnProperty('hotwordReady')) {\n                        onCallbacks['hotwordReady']()\n                    }\n                }\n\n                \n                let audioManagerErrorCallback = function (ex) {\n                    console.log(ex);\n                };\n\n                //if (!porcupineManager) {\n                    //console.log('CREATE NEW porc WORKER')\n                    var webpack = false ;\n                    console.log(config.javascript_environment)\n                    console.log(config)\n                    if (config.javascript_environment === 'react') {\n                        webpack = true\n                    } \n                    porcupineManager = PorcupineManager(\"./porcupine/porcupine_worker.js\",webpack  );\n                //}\n                porcupineManager.start(KeywordData, SENSITIVITIES, processCallback, audioManagerErrorCallback, readyCallback);\n                console.log(    'HOW STARYTED')\n                hotwordInitialised = true;\n            }\n        };\n\n        function stopHotword() {\n            if (onCallbacks.hasOwnProperty('hotwordStop')) {\n                onCallbacks['hotwordStop']()\n            }\n            //console.log('stop how')\n            //console.log(porcupineManager)\n            //porcupineManager.stop();\n            hotwordStarted = false;\n        };\n        \n\n        \n        /**\n         * HELPER FUNCTIONS\n         */\n       \n           \n        /**\n         * Bind silence recognition events to set speaking state\n         */ \n        function bindSpeakingEvents() {\n             console.log('bind speaking')\n             if (!navigator.getUserMedia) {\n                navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n             }\n             try {\n                if (navigator.getUserMedia) {\n                  navigator.getUserMedia({audio:true}, function(stream) {\n                    console.log('bind speaking have audoi')\n                    var options = {};\n                    var speechEvents = hark(stream, options);\n\n                    speechEvents.on('speaking', function() {\n                      clearTimeout(speakingTimeout)\n                      console.log('speaking');\n                      sendAudioBuffer(config.site) \n                      speaking = true\n                      if (onCallbacks.hasOwnProperty('speaking')) {\n                        onCallbacks['speaking']()\n                      }\n                    });\n\n                    speechEvents.on('stopped_speaking', function() {\n                      // send an extra second of silence for ASR\n                      speakingTimeout = setTimeout(function() {\n                             clearTimeout(speakingTimeout)\n                             //console.log('stop speaking');\n                             speaking = false\n                             if (onCallbacks.hasOwnProperty('stopspeaking')) {\n                                onCallbacks['stopspeaking']()\n                             }\n                      },3000);\n                    });    \n                      \n                  }, function(e) {\n                    console.log(['MIC Error capturing audio.',e]);\n                  });\n                } else {\n                    console.log('MIC getUserMedia not supported in this browser.');\n                }\n             }   catch (e) {\n                 console.log(e);\n             }\n            \n        };\n        \n        //function getThreshholdFromVolume(volume) {\n            //return 10 * Math.log((101 - volume )/800);\n        //};\n        \n        \n        function bufferAudio(audio) {\n            microphoneAudioBuffer.push(audio);\n            if (microphoneAudioBuffer.length > 30) {\n                microphoneAudioBuffer.shift();\n            }\n        }\n        \n        function sendAudioBuffer(site) {\n            console.log(['SEND BUFFER'])\n            for (var a in microphoneAudioBuffer) {\n                sendAudioMessage('hermod/'+site+'/microphone/audio',microphoneAudioBuffer[a]);\n            }\n            microphoneAudioBuffer = [];\n        }\n        \n        \n        function startMicrophone() {\n            //console.log('start rec -'+config.site)\n            isSending = true;\n            //stopPlaying()\n            muteVolume()\n            if (onCallbacks.hasOwnProperty('microphoneStart')) {\n                onCallbacks['microphoneStart']()\n            }\n            //sendMessage('hermod/'+config.site+'/asr/start',{})\n            \n        }\n        \n            \n        function gotDevices(deviceInfos,site) {\n          // Handles being called several times to update labels. Preserve values.\n          //console.log(['GOT DEV',site,deviceInfos])\n          var device = 'default'\n          var devices={}\n          for (let i = 0; i !== deviceInfos.length; ++i) {\n            const deviceInfo = deviceInfos[i];\n            if (deviceInfo.kind === 'audioinput') {\n                console.log(deviceInfo.label)\n                console.log(deviceInfo.deviceId)\n                devices[deviceInfo.label] = deviceInfo.deviceId\n                if (deviceInfo.label && deviceInfo.label.toLowerCase().indexOf('speakerphone') !== -1) {\n                    //console.log('found speakerphone')\n                    device = deviceInfo.deviceId\n                }\n            }\n            devices['FINAL'] = device\n            //showSlots(devices)\n          }\n          activateRecording(site,device)\n        }\n\n        function handleError(error) {\n          console.log('navigator.MediaDevices.getUserMedia error: ', error.message, error.name);\n        }\n        \n        \n        function activateRecording(site,deviceId) {\n            //console.log('activate rec'+site + deviceId)\n            //this.setState({sending:true});\n            //if (onCallbacks.hasOwnProperty('microphoneStart')) {\n                //onCallbacks['microphoneStart']()\n            //}\n            //bindSpeakingEvents()z\n            if (isRecording) return;\n            isRecording = true;\n            \n            if (!navigator.getUserMedia) {\n                navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia ||\n            navigator.mozGetUserMedia || navigator.msGetUserMedia;\n            }\n            \n            try {\n                if (navigator.getUserMedia) {\n                    // TODO https://github.com/webrtc/samples/blob/gh-pages/src/content/devices/input-output/js/main.js\n                    // SELECT AUDIO INPUT DEVICE, PREFER SPEAKERPHONE IF AVAILABLE TO HELP MOBILE\n                    // NOTE CAN SET GAIN VOLUME > 1 \n                    //{deviceId: {exact: deviceId}}\n                  navigator.getUserMedia({audio:true}, success, function(e) {\n                    console.log(['dMIC Error capturing audio.',e]);\n                  });\n                } else {\n                    console.log('MIC getUserMedia not supported in this browser.');\n                }\n             }   catch (e) {\n                 console.log(e);\n             }\n            function success(e) {\n                  //console.log('got navigator')\n                  microphoneContext = new audioContext();\n                  microphoneGainNode = microphoneContext.createGain();\n                  microphoneGainNode.gain.value = inputvolume;\n                  \n                  var audioInput = microphoneContext.createMediaStreamSource(e);\n                  \n                  var bufferSize = 4096;\n                  \n                    function convertFloat32ToInt16(buffer) {\n                      if (buffer) {\n                          let l = buffer.length;\n                          let buf = new Int16Array(l);\n                          while (l--) {\n                            buf[l] = Math.min(1, buffer[l])*0x7FFF;\n                          }\n                          return buf.buffer;\n                      }\n                    }\n                    \n                    function resample(sourceAudioBuffer,TARGET_SAMPLE_RATE,onComplete) {\n                          var offlineCtx = new OfflineAudioContext(sourceAudioBuffer.numberOfChannels, sourceAudioBuffer.duration * sourceAudioBuffer.numberOfChannels * TARGET_SAMPLE_RATE, TARGET_SAMPLE_RATE);\n                          var buffer = offlineCtx.createBuffer(sourceAudioBuffer.numberOfChannels, sourceAudioBuffer.length, sourceAudioBuffer.sampleRate);\n                          // Copy the source data into the offline AudioBuffer\n                          for (var channel = 0; channel < sourceAudioBuffer.numberOfChannels; channel++) {\n                              buffer.copyToChannel(sourceAudioBuffer.getChannelData(channel), channel);\n                          }\n                          // Play it from the beginning.\n                          var source = offlineCtx.createBufferSource();\n                          source.buffer = sourceAudioBuffer;\n                          source.connect(offlineCtx.destination); \n                          source.start(0);\n                          offlineCtx.oncomplete = function(e) {\n                            // `resampled` contains an AudioBuffer resampled at 16000Hz.\n                            // use resampled.getChannelData(x) to get an Float32Array for channel x.\n                            var resampled = e.renderedBuffer;\n                            var leftFloat32Array = resampled.getChannelData(0);\n                            // use this float32array to send the samples to the server or whatever\n                            onComplete(leftFloat32Array);\n                          }\n                          offlineCtx.startRendering();\n                    }\n         \n                  let recorderTimeout = null;  \n                  let recorder = microphoneContext.createScriptProcessor(bufferSize, 1, 1);\n                  recorder.onaudioprocess = function(e){\n                      //console.log(['onaudio',isRecording  ,isSending ])\n                        \n                      //  var left = e.inputBuffer.getChannelData(0);\n                      // && that.state.speaking && that.state.started\n                      if (isRecording  && isSending) { // && speaking) {\n                          //console.log(['REC'])\n                          resample(e.inputBuffer,16000,function(res) {\n                            if (! isPlaying) { \n                                if (speaking && isRecording  && isSending) {\n                                    if (recorderTimeout) clearTimeout(recorderTimeout)\n                                    //console.log(['SEND '+'hermod/'+site+'/microphone/audio'])\n                                    sendAudioMessage('hermod/'+site+'/microphone/audio',Buffer.from(convertFloat32ToInt16(res)))\n                                } else {\n                                    if (!recorderTimeout) setTimeout(function() {stopMicrophone(); startHotword()},5000)\n                                    //console.log(['BUFFER'])\n                                    bufferAudio(Buffer.from(convertFloat32ToInt16(res)));\n                                }\n                            } else {\n                                console.log('BAN DURING PLAY')\n                            }\n                          });\n                      }\n                  }\n                  \n                microphoneGainNode.connect(recorder);\n                audioInput.connect(microphoneGainNode);\n                recorder.connect(microphoneContext.destination); \n               //   console.log(['REC started'])\n                        \n            }\n        \n        }\n        \n        \n        \n        \n        \n //function playSound(byteArray) {\n            //console.log('play sopuid')\n            //console.log(byteArray)\n            //return new Promise(function(resolve,reject) {\n                //console.log('in prom')\n                //// Create blob from Uint8Array & Object URL.\n                //const blob = new Blob([new Uint8Array(byteArray)], { type: 'audio/wav' });\n                //const url = URL.createObjectURL(blob);\n                //console.log('got url')\n                //console.log(url);\n                //// Get DOM elements.\n                //const audio = document.createElement('audio');\n                //const source = document.createElement('source');\n\n                //// Insert blob object URL into audio element & play.\n                //source.src = url;\n                    //console.log('set src')\n                \n                //audio.load();\n                    //console.log('loaded')\n                //audio.play();\n                    //console.log('played')\n                //audio.on('ended',function() {\n                    //console.log('ended')\n                    //resolve()\n                //})\n\n                \n            //})\n        //}\n        \n        function stopPlaying() {\n            console.log('STOP PLAY')\n            isPlaying = false\n            if (bufferSource) {\n                 console.log('STOP PLAY real')\n                 bufferSource.stop()\n             }\n            if (urlAudioPlayer) {\n                urlAudioPlayer.pause()\n            }\n            if (onCallbacks.hasOwnProperty('stopPlaying')) {\n                onCallbacks['stopPlaying']()\n            }\n        };\n        \n        \n                \n        //var startTime; // Make startTime a global var\n\n        //ws.onmessage = function(event) {\n            //// On the first message set the startTime to the currentTime from the audio context\n            //if (count ==0){\n            //startTime = audioContext.currentTime;\n            //}\n\n            //audioContext.decodeAudioData(event.data, function(data) {\n            //count ++; // Keep a count of how many messages have been received\n            //var playTime = startTime + (count *0.2) //Play each at file 200ms\n            //playSound(data, playTime); //call the function to play the sample at the appropriate time\n            //});\n            //};\n\n            //function playSound(buffer, playTime) {\n            //var source = audioContext.createBufferSource(); //Create a new BufferSource fr the\n            //source.buffer = buffer; // Put the sample content into the buffer\n            //source.start(playTime); // Set the starting time of the sample to the scheduled play time\n            //source.connect(analyserNode); //Connect the source to the visualiser\n            //source.connect(audioContext.destination); // Also Connect the source to the audio output\n        //}\n \n        \n        function playSound(bytes,playTime) {\n            if (!playTime) playTime = 0;\n            isPlaying = true\n            // console.log('PLAY SOUND BYTES')\n            return new Promise(function(resolve,reject) {\n                try {\n                    if (bytes) {\n                       // var myAudio = document.createElement('audio');\n\n                        //if (myAudio.canPlayType('audio/mpeg')) {\n                          //myAudio.setAttribute('src','audiofile.mp3');\n                        //}\n                        \n                       // console.log('PLAY SOUND BYTES have bytes'+bytes.length)\n                        var buffer = new Uint8Array( bytes.length );\n                        buffer.set( new Uint8Array(bytes), 0 );\n                        //speakerGainNode = context.createGain();\n                        speakerContext = new audioContext();\n                        speakerGainNode = speakerContext.createGain();\n        \n                        speakerGainNode.gain.value =  outputvolume; //config.speakervolume/100 ? config.speakervolume/100 :\n                        //console.log('PLAY SOUND BYTES decode')\n                        speakerContext.decodeAudioData(buffer.buffer, function(audioBuffer) {\n                            //console.log('PLAY SOUND BYTES decoded')\n                           // console.log(audioBuffer);\n                            // global bufferSource for share with stopPlaying\n                            bufferSource = speakerContext.createBufferSource();\n                            bufferSource.buffer = audioBuffer;\n                            bufferSource.connect(speakerGainNode);\n                            speakerGainNode.connect( speakerContext.destination );\n                            \n                            try {\n                                bufferSource.start(0);\n                                //resolve()\n                            } catch (e) {\n                                console.log('play sound error starting')\n                                console.log(e)\n                                isPlaying = false\n                                resolve()\n                            }\n                            bufferSource.onended = function() {\n                                console.log('PLAY SOUND BYTES source ended')\n                                //setTimeout(stopPlaying,100)\n                                isPlaying = false\n                                resolve();\n                            };\n                            bufferSource.onerror = function() {\n                                console.log('PLAY SOUND BYTES source error')\n                                isPlaying = false\n                                resolve();\n                            };\n                        },function(e) {\n                             console.log('PLAY SOUND BYTES decode FAIL')\n                             console.log(e)\n                             isPlaying = false\n                             resolve()   \n                        });\n                        //resolve()\n                    } else {\n                        console.log('PLAY SOUND BYTES no bytes')\n                        isPlaying = false\n                        resolve();\n                    }\n                } catch (e) {\n                    console.log('PLAY SOUND BYTES err')\n                    isPlaying = false\n                    console.log(e)\n                    resolve()\n                }\n            });                        \n        }\n        \n        function playUrl(url) {\n            console.log('PLAY url '+ url)\n            isPlaying = true \n            return new Promise(function(resolve,reject) {\n                urlAudioPlayer = new Audio(url);\n                urlAudioPlayer.addEventListener(\"canplaythrough\", event => {\n                  /* the audio is now playable; play it if permissions allow */\n                  urlAudioPlayer.play();\n                });\n                urlAudioPlayer.addEventListener(\"ended\", event => {\n                    isPlaying = false \n                    resolve()\n                })\n                urlAudioPlayer.addEventListener(\"error\", event => {\n                    isPlaying = false\n                    resolve()\n                })\n            })\n            //return new Promise(function(resolve,reject) {\n                //console.log('PLAY url')\n                //console.log(url);\n                //// Get DOM elements.\n                //const audio = document.createElement('audio');\n                //const source = document.createElement('source');\n\n                //// Insert blob object URL into audio element & play.\n                //source.src = url;\n                //console.log('set src')\n                \n                //audio.load();\n                    //console.log('loaded')\n                //audio.play();\n                    //console.log('played')\n                ////audio.on('ended',function() {\n                    ////console.log('ended')\n                    //resolve()\n                ////})\n            //})\n\n        }    \n        \n        function stopMicrophone() {\n            isSending = false;\n            \n            if (onCallbacks.hasOwnProperty('microphoneStop')) {\n                onCallbacks['microphoneStop']()\n            }\n            //sendMessage('hermod/'+config.site+'/asr/stop',{})\n            //console.log('stop mic unmute')\n            unmuteVolume()\n        }\n        function stopAll() {\n            stopHotword()\n            stopMicrophone()\n            //disconnect() \n        }   \n        \n        function init() {\n            if (navigator && navigator.mediaDevices) {\n                navigator.mediaDevices.enumerateDevices().then(function(info){ gotDevices(info,config.site)} ).catch(handleError);\n            //activateRecording(config.site)\n                bindSpeakingEvents()\n            }\n        }\n        \n        init()\n             \n        return {setVolume: setVolume, muteVolume: muteVolume, unmuteVolume: unmuteVolume, playSound: playSound, stopPlaying: stopPlaying, say:say, stopAll:stopAll, bind:bind,unbind:unbind,startMicrophone: startMicrophone, stopMicrophone: stopMicrophone, sendAndWaitFor:sendAndWaitFor,sendAudioAndWaitFor:sendAudioAndWaitFor,sendMessage:sendMessage,sendNLUMessage:sendNLUMessage,sendASRTextMessage:sendASRTextMessage,authenticate:authenticate,connect:connect,disconnect:disconnect,startHotword:startHotword,stopHotword:stopHotword}\n}\n\n\nmodule.exports=HermodWebClient \ntry {\n    if (window) {\n        window.HermodWebClient = HermodWebClient\n    }\n} catch (e) {}\n","var Chunker = require('stream-chunker');\nvar stream = require('stream') \nvar Readable = stream.Readable;\nvar Writable = stream.Writable;\nvar fs = require('fs')\n\nlet started = false;\nlet dastream = null;\nlet voiceDetected = false;\nlet silenceTimeout = null;\n// stream selected audio file onto mqtt bus\nfunction  start(mqttClient,siteId,filename) {\n\t// const vad = new VAD(VAD.Mode.NORMAL);\n\t\n\tvar chunker = Chunker(512,{flush:true});\n\tchunker.on('data', function(data) {\n\t\t//console.log('send audio data to '+\"hermod/\"+siteId+\"/microphone/audio\")\n\t\t//console.log(data ? data.length : -1)\n\t\tmqttClient.publish(\"hermod/\"+siteId+\"/microphone/audio\",data);\n\t});\n\t\n\t \n\tvar wavConfig = {\n\t  \"channels\": 1,\n\t  \"sampleRate\": 16000,\n\t  \"bitDepth\": 16\n\t};\n\t//this.micInstance = Microphone(Object.assign({debug:false},wavConfig));\n\tdastream = fs.createReadStream(filename);\n\t//this.micInstance.getAudioStream()\n\tconsole.log('stream '+filename)\n\t\n\tvar wav = require('wav');\n\tvar wavReader = new wav.Reader(wavConfig);\n\tvar inBody = false;\n\t// strip the wav header\n\twavReader.on('format', function (format) {\t\t\t\t\t \n\t//   the WAVE header is stripped from the output of the reader\n\t //console.log('read hgeader')\n\t inBody = true;\n\t});\n\twavReader.on('data', function (data) {\n\t\tif (inBody ) { //&& data && data.length > 0\n\t\t\tconsole.log('read body')\n\t\t\tconsole.log(data && data.buffer ? data.buffer.length : -1)\n\t\t\t//console.log(data.buffer)\n\t\t\tchunker.write(data);\n\t\t}\n\t});\n\tdastream.pipe(wavReader);\n}\n    \nfunction stopRecording(siteId) {\n\t\tstarted = false;\n       // voiceDetected = false;\n       // if (this.micInstance && this.micInstance.stop) this.micInstance.stop()\n\t\tif (dastream) {\n\t\t\tdastream.pause();\n\t\t\tdastream.destroy();\n\t\t}\n\t}\n\n\nmodule.exports = {start : start, stop:stopRecording}\n","/*\n    Copyright 2018 Picovoice Inc.\n\n    You may not use this file except in compliance with the license. A copy of the license is located in the \"LICENSE\"\n    file accompanying this source.\n\n    Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\n    an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\n    specific language governing permissions and limitations under the License.\n*/\n\n//var work = require('webworkify');\nvar WebVoiceProcessor = require('./web_voice_processor')\n\nPorcupineManager = (function (porcupineWorkerScript, webpack = false) {\n    let porcupineWorker;\n    \n    let start = function (keywordIDs, sensitivities, detectionCallback, errorCallback, readyCallback) {\n        porcupineWorker = new Worker(porcupineWorkerScript); //\n        //porcupineWorker = work(require('./porcupine_worker.js')) //window.PorcupineWorker);\n        porcupineWorker.postMessage({\n            command: \"init\",\n            keywordIDs: keywordIDs,\n            sensitivities: sensitivities\n        });\n\n        porcupineWorker.onmessage = function (e) {\n            \n            if (e.data.ready) {\n                console.log('WORKER MSG')\n                console.log(e.data)\n                readyCallback()\n            } else {\n                detectionCallback(e.data.keyword);\n            }\n        };\n\n       WebVoiceProcessor.start([this], errorCallback, webpack);\n    };\n\n    let stop = function () {\n        WebVoiceProcessor.stop();\n        porcupineWorker.postMessage({command: \"release\"});\n    };\n\n    let processFrame = function (frame) {\n        porcupineWorker.postMessage({command: \"process\", inputFrame: frame});\n    };\n\n    return {start: start, processFrame: processFrame, stop: stop}\n});\ntry {\n    module.exports = PorcupineManager\n} catch (e) {}\n\ntry {\n    window.PorcupineManager = PorcupineManager\n} catch (e) {}\n","/* global window */\nvar work = require('webworkify');\nvar workwp = require('webworkify-webpack');\n\nWebVoiceProcessor = (function () {\n    let downsampler;\n\n    let isRecording = false;\n\n    let start = function (engines, errorCallback,webpack = false) {\n        if (!downsampler) {\n            navigator.mediaDevices.getUserMedia({audio: true})\n                .then(stream => {\n                    let audioContext = new (window.AudioContext || window.webkitAudioContext)();\n                    let audioSource = audioContext.createMediaStreamSource(stream);\n                    let node = audioContext.createScriptProcessor(4096, 1, 1);\n                    node.onaudioprocess = function (e) {\n                        if (!isRecording) {\n                            return;\n                        }\n\n                        downsampler.postMessage({command: \"process\", inputFrame: e.inputBuffer.getChannelData(0)});\n                    };\n                    audioSource.connect(node);\n                    node.connect(audioContext.destination);\n                    // react\n                    let downsampler;\n                    if (webpack) {\n                        downsampler = workwp(require.resolve('./downsampling_worker.js'));\n                    } else {\n                    // vanilla\n                        downsampler = work(require('./downsampling_worker.js'));\n                    }\n                    //downsampler = new Worker(downsamplerScript);\n                    downsampler.postMessage({command: \"init\", inputSampleRate: audioSource.context.sampleRate});\n                    downsampler.onmessage = function (e) {\n                        engines.forEach(function (engine) {\n                            engine.processFrame(e.data);\n                        });\n                    };\n                })\n                .catch(errorCallback);\n        }\n\n        isRecording = true;\n    };\n\n    let stop = function () {\n        isRecording = false;\n        downsampler.postMessage({command: \"reset\"});\n    };\n\n    return {start: start, stop: stop};\n})();\n\nmodule.exports = WebVoiceProcessor\ntry {\n    window.WebVoiceProcessor = WebVoiceProcessor;\n} catch(e) {}\n","const KEYWORDS_ID = {\n    \"Hey Edison\": new Uint8Array([\n        0x76, 0xed, 0x94, 0x87, 0x9f, 0xdc, 0x24, 0xc9, 0x38, 0xef, 0x91, 0xed,\n        0xb4, 0x5d, 0x02, 0x8d, 0x34, 0x19, 0x92, 0xb9, 0x40, 0x39, 0xd7, 0xe8,\n        0xce, 0x7e, 0x51, 0xe1, 0x94, 0xdc, 0xe9, 0x7d, 0xd0, 0x14, 0x9b, 0x63,\n        0xfa, 0x6f, 0x55, 0x3e, 0x89, 0xd5, 0x62, 0x7e, 0x5f, 0x99, 0x48, 0x34,\n        0x6f, 0xf9, 0x2c, 0xd5, 0xc5, 0x7b, 0x6e, 0x46, 0xe4, 0xd8, 0x73, 0x46,\n        0x97, 0x62, 0x19, 0x82, 0x39, 0xde, 0x51, 0x70, 0xd7, 0xe5, 0x7f, 0xe8,\n        0xa5, 0xc5, 0xc0, 0x9c, 0xc9, 0xf4, 0x89, 0x14, 0x32, 0x6d, 0x09, 0xee,\n        0x3a, 0xf7, 0xde, 0x26, 0xe5, 0xbb, 0xf1, 0xce, 0x0a, 0x15, 0x29, 0x7c,\n        0xc0, 0x3f, 0x18, 0x18, 0x30, 0xb0, 0x35, 0x68, 0xd9, 0x86, 0xe9, 0xa0,\n        0xc6, 0xec, 0x8c, 0xac, 0x64, 0x86, 0x92, 0x48, 0x0c, 0x34, 0xbc, 0xd6,\n        0xe5, 0x89, 0x3d, 0x99, 0x55, 0x1c, 0xd9, 0xd9, 0xb6, 0x93, 0xf5, 0x97,\n        0xf7, 0x09, 0xe2, 0xca, 0xa5, 0xb8, 0x48, 0x27, 0x25, 0xa7, 0x34, 0x11,\n        0x85, 0x31, 0xb4, 0x7f, 0x4a, 0x43, 0x64, 0x29, 0x7c, 0x48, 0x70, 0xac,\n        0xfc, 0x47, 0xd1, 0xd2, 0xbd, 0x8f, 0x00, 0x31, 0xac, 0xd5, 0x15, 0x53,\n        0xcd, 0x42, 0x4f, 0x2e, 0xf5, 0xe5, 0xf6, 0xea, 0x59, 0xa9, 0x06, 0x82,\n        0xbc, 0x0b, 0x25, 0xc0, 0x6c, 0x65, 0xdb, 0x82, 0x40, 0x25, 0x4a, 0x39,\n        0x3c, 0xe6, 0x86, 0x8e, 0xce, 0x68, 0xb9, 0x80, 0xb2, 0x58, 0xb7, 0x37,\n        0x65, 0xd5, 0xe3, 0xd4, 0x9c, 0x6b, 0x77, 0x70, 0x81, 0x39, 0xb6, 0xd1,\n        0x07, 0xa4, 0x37, 0xc7, 0xbb, 0x76, 0x76, 0x84, 0xc7, 0x99, 0xff, 0xac,\n        0xf3, 0x14, 0x84, 0x24, 0x4d, 0x6f, 0x38, 0x57, 0x9c, 0x4c, 0x07, 0x5f,\n        0xc7, 0x89, 0x7d, 0x5e, 0x21, 0xd2, 0xd3, 0x67, 0x10, 0x43, 0x54, 0xff,\n        0x0c, 0x58, 0x9d, 0x33, 0x95, 0x99, 0x22, 0x09, 0xd1, 0xaf, 0xb1, 0xd2,\n        0x1b, 0xd3, 0x59, 0xcc, 0xbd, 0x75, 0x22, 0xad, 0x3f, 0x1f, 0xac, 0x61,\n        0x76, 0xf5, 0xcf, 0xb3, 0x16, 0x01, 0x32, 0x41, 0xe4, 0x82, 0xb9, 0x44,\n        0x04, 0xaf, 0xad, 0x94, 0x2a, 0x46, 0xd3, 0x07, 0xc6, 0x69, 0xbf, 0x7d,\n        0xed, 0xca, 0x93, 0xd9, 0x69, 0xe3, 0xbf, 0x25, 0x84, 0xda, 0xb8, 0x9d,\n        0xb8, 0x17, 0x41, 0x18, 0x9b, 0xce, 0x9b, 0x68, 0xd5, 0x3f, 0x14, 0xf3,\n        0x21, 0xb8, 0x12, 0x41, 0x61, 0x32, 0x83, 0x03, 0x94, 0x4e, 0xc4, 0x55,\n        0xfc, 0xd2, 0xb7, 0x0a, 0xe4, 0xac, 0x19, 0x96, 0xe9, 0x0a, 0x68, 0x04,\n        0xb3, 0x62, 0xc2, 0x05, 0x6a, 0x01, 0xcf, 0x94, 0x5b, 0x87, 0x98, 0x39,\n        0x85, 0xd7, 0x1c, 0xec, 0xff, 0xd9, 0x3a, 0xe1, 0x40, 0x3b, 0x5f, 0xcf,\n        0x95, 0x89, 0x0f, 0x96, 0x08, 0x1a, 0x53, 0x78, 0x01, 0x44, 0x60, 0x34,\n        0xfe, 0xab, 0x91, 0x0a, 0xfc, 0x31, 0xea, 0x0f, 0x12, 0xb4, 0x49, 0x7e,\n        0x87, 0x00, 0x25, 0x6d, 0xbc, 0x36, 0xde, 0x85, 0x3a, 0xf9, 0xa2, 0xdc,\n        0x38, 0x14, 0xcc, 0x85, 0x2e, 0x5b, 0xd0, 0xba, 0xb0, 0xcc, 0x5d, 0x7e,\n        0x24, 0x97, 0x33, 0x12, 0xcf, 0x35, 0x4e, 0xb1, 0x02, 0x69, 0xa7, 0x6b,\n        0x42, 0xb7, 0xb8, 0xd2, 0x4b, 0xd2, 0xfb, 0xa9, 0x88, 0x61, 0xeb, 0x11,\n        0xa1, 0x51, 0x39, 0x7d, 0x53, 0xc1, 0xe0, 0x9f, 0x11, 0x5e, 0xf3, 0x94,\n        0xb5, 0xa7, 0x1c, 0x5d, 0xd0, 0x6f, 0xc6, 0xbe, 0x7b, 0x86, 0x3b, 0x60,\n        0xde, 0x9e, 0xb2, 0xc6, 0xe1, 0x5a, 0xc4, 0xbf, 0xe7, 0x4f, 0xac, 0x33,\n        0x55, 0x55, 0x64, 0x9d, 0x5d, 0x89, 0xf6, 0x57, 0x71, 0xee, 0x2c, 0x11,\n        0xa8, 0x1d, 0xd5, 0x01, 0x74, 0x1b, 0x66, 0x1d, 0xc0, 0xb1, 0x61, 0xa0,\n        0xb6, 0xea, 0x06, 0x92, 0x4a, 0x6a, 0x83, 0x9d, 0xd4, 0xe3, 0x5d, 0xd5,\n        0xb2, 0xe5, 0x2f, 0x4b, 0xe2, 0x39, 0x6d, 0xbb, 0xc9, 0x27, 0x4d, 0x88,\n        0xce, 0x70, 0x7a, 0x9a, 0x8a, 0x04, 0xf5, 0xbb, 0x69, 0x7d, 0xa6, 0x9f,\n        0x54, 0x2a, 0x56, 0xe7, 0x50, 0x7f, 0x25, 0xb6, 0xe8, 0xe5, 0x23, 0x3d,\n        0xd4, 0x41, 0x63, 0x0a, 0xf9, 0xec, 0xff, 0xfc, 0x12, 0x57, 0x5b, 0xac,\n        0xb0, 0xaf, 0xc3, 0xee, 0x4d, 0xf3, 0x16, 0x70, 0xc3, 0x33, 0x29, 0xfb,\n        0x9d, 0x3a, 0xea, 0x19, 0x02, 0xbc, 0x3b, 0xab, 0x6e, 0xa8, 0xa4, 0x69,\n        0x96, 0xe2, 0x27, 0x5b, 0x86, 0x60, 0xe8, 0x74, 0xf3, 0x7d, 0x8c, 0xa5,\n        0x3a, 0x9c, 0xd4, 0xf1, 0x5d, 0x6f, 0xf2, 0x26, 0x69, 0xcf, 0xed, 0xcf,\n        0x89, 0xd9, 0x09, 0xd2, 0x68, 0xf3, 0x33, 0xf8, 0xc6, 0xc5, 0x8a, 0x44,\n        0x14, 0x88, 0x2c, 0xa2, 0x6e, 0x15, 0x36, 0x63, 0x7a, 0x68, 0x8d, 0x0b,\n        0x9c, 0xa4, 0xe9, 0x8d, 0xe0, 0xf4, 0x98, 0x79, 0x44, 0x07, 0x4d, 0x5b,\n        0x4c, 0x8b, 0xf9, 0x59, 0xd6, 0x2b, 0x97, 0x35, 0xf7, 0x59, 0x86, 0x6c,\n        0x95, 0x08, 0x47, 0xdd, 0x87, 0x67, 0xc4, 0x35, 0xeb, 0xc6, 0xaf, 0x01,\n        0xf8, 0x5e, 0x0b, 0x4e, 0xee, 0x84, 0x08, 0xa1, 0x72, 0xc5, 0x94, 0xf3,\n        0x81, 0x06, 0xc1, 0x2f, 0x91, 0x0a, 0xbd, 0x87, 0x60, 0x70, 0xc8, 0xa3,\n        0xe2, 0x6d, 0x00, 0xaa, 0x8b, 0xd4, 0x2c, 0x4e, 0x9d, 0x6b, 0xcf, 0xdd,\n        0x36, 0x9a, 0x30, 0xa2, 0x21, 0xf2, 0xa0, 0x38, 0x12, 0x65, 0xa3, 0xfa,\n        0x66, 0x9a, 0x8f, 0xae, 0x9b, 0x61, 0x80, 0xf8, 0xdd, 0xe0, 0xf5, 0xe4,\n        0xfa, 0xdb, 0xeb, 0x6a, 0x55, 0x96, 0x19, 0x24, 0xaa, 0x9a, 0xce, 0xfa,\n        0xae, 0x23, 0x8a, 0x5b, 0x4a, 0xc1, 0x46, 0x08, 0xc5, 0x33, 0x34, 0x62,\n        0xf3, 0xca, 0xb1, 0x8a, 0xf2, 0xba, 0x8e, 0x2e, 0xb1, 0x2d, 0x26, 0x41,\n        0x87, 0xc7, 0xf0, 0xa8, 0x86, 0x4e, 0xac, 0xe7, 0x9c, 0x40, 0x21, 0x66,\n        0x13, 0xe2, 0x51, 0xbe, 0x1f, 0xcd, 0x40, 0x39, 0xef, 0x70, 0x2e, 0x2f,\n        0x17, 0xba, 0x26, 0x13, 0x4b, 0xfc, 0xb9, 0x54, 0x60, 0x6f, 0xc7, 0x68,\n        0xed, 0x69, 0x3c, 0x5a, 0xc0, 0x78, 0xf0, 0xcf, 0x4f, 0x9f, 0x35, 0xfe,\n        0x43, 0xfc, 0xd4, 0x8b, 0xbc, 0x41, 0x5e, 0x19, 0x80, 0x8b, 0xa6, 0x29,\n        0xaf, 0x57, 0xf3, 0xb8, 0xc8, 0xb3, 0xa6, 0xe4, 0xf7, 0xaa, 0x4b, 0x2b,\n        0xfd, 0x2a, 0x2c, 0x0f, 0xe0, 0x0f, 0x8c, 0xb8, 0xac, 0xd2, 0x8a, 0xf0,\n        0xef, 0x34, 0x56, 0x94, 0x35, 0x14, 0x02, 0x70, 0x57, 0xf4, 0xe6, 0xc5,\n        0x82, 0x26, 0x81, 0x6b, 0xd2, 0xc8, 0x80, 0x70, 0xc1, 0xa6, 0x6b, 0x64,\n        0x09, 0xe7, 0x52, 0xaf, 0xb2, 0x7f, 0xaa, 0xa0, 0xfc, 0x1a, 0x4d, 0x1c,\n        0xe9, 0x35, 0xe2, 0xa8, 0xf9, 0x7c, 0x34, 0x88, 0x01, 0x39, 0x7d, 0x02,\n        0xff, 0x6f, 0x40, 0x17, 0x59, 0xe3, 0xe8, 0x56, 0x18, 0x87, 0x74, 0x4f,\n        0xe1, 0x2f, 0xf2, 0x9d, 0x57, 0xd1, 0x5d, 0x42, 0xe5, 0x01, 0x21, 0xf4,\n        0x8d, 0xff, 0x0b, 0x0f, 0xd1, 0x8a, 0x81, 0x40, 0xa4, 0xad, 0x70, 0x72,\n        0x75, 0x3a, 0xb0, 0xa1, 0x9a, 0xbf, 0xdf, 0x3c, 0xab, 0x61, 0x52, 0xf7,\n        0xd6, 0xf1, 0x0f, 0x40, 0x15, 0x57, 0x46, 0xa6, 0xc6, 0x8c, 0x75, 0x39,\n        0xc0, 0x8a, 0xb6, 0xfa, 0x0e, 0x11, 0x96, 0xf8, 0x96, 0x69, 0xb8, 0x1f,\n        0xb1, 0xf9, 0xf4, 0xb4, 0x02, 0x3c, 0xb9, 0x43, 0xce, 0xd7, 0x2b, 0xf4,\n        0x76, 0x63, 0x28, 0x2d, 0xeb, 0x55, 0x83, 0x92, 0x54, 0x98, 0xf3, 0x16,\n        0x43, 0x33, 0x29, 0xc9, 0xce, 0x2f, 0x47, 0x28, 0xd2, 0x81, 0xef, 0xe8,\n        0x95, 0xdc, 0xa0, 0x44, 0xe5, 0x64, 0x69, 0x79, 0x34, 0x7f, 0x70, 0x80,\n        0xf5, 0xf0, 0x91, 0x43, 0x51, 0x05, 0xf4, 0xbf, 0x12, 0x6b, 0x2e, 0x75,\n        0xb9, 0x7c, 0x3b, 0x7d, 0xba, 0x92, 0x22, 0x25, 0xd1, 0x83, 0x16, 0x80,\n        0x93, 0x21, 0x8b, 0x61, 0x7c, 0xcf, 0x11, 0x26, 0xad, 0x8e, 0x67, 0xf9,\n        0xf1, 0x0c, 0x53, 0xaa, 0x47, 0xf3, 0x33, 0x21, 0x9c, 0xdd, 0xc4, 0x7d,\n        0x62, 0xf7, 0x29, 0x8f, 0xd1, 0x3c, 0x20, 0x53, 0x1b, 0xf6, 0xac, 0x99,\n        0x58, 0x48, 0xf4, 0xff, 0x41, 0x7c, 0x5f, 0x29, 0x75, 0xd3, 0x86, 0xd0,\n        0xe3, 0x66, 0x44, 0x09, 0x37, 0x86, 0x35, 0x21, 0x81, 0x7b, 0xc4, 0x86,\n        0x6c, 0x97, 0xb8, 0x21, 0xd9, 0xda, 0x4a, 0xdd, 0xab, 0xbd, 0xef, 0x93,\n        0xa3, 0x11, 0x48, 0xaa, 0x3c, 0xfe, 0x1c, 0xa5, 0x1f, 0xac, 0x3d, 0x50,\n        0x65, 0x98, 0xb5, 0xce, 0xe3, 0x4a, 0xbf, 0x4d, 0xa0, 0xb6, 0x86, 0x63,\n        0x83, 0x36, 0x96, 0x43, 0x19, 0x8d, 0xea, 0xaf, 0x0e, 0x34, 0xef, 0xbc,\n        0x37, 0x5f, 0xc2, 0xe6, 0x30, 0x08, 0x1c, 0x45, 0xdf, 0xe5, 0x29, 0x49,\n        0x3c, 0x7d, 0x4a, 0x0a, 0xa5, 0x2b, 0xb4, 0xa2, 0xb1, 0xad, 0x73, 0x75,\n        0x9b, 0x1e, 0x19, 0x80, 0x31, 0x0c, 0xec, 0xa0, 0xc5, 0xaf, 0x08, 0xfe,\n        0x12, 0x1e, 0xee, 0xa0, 0x4d, 0xa2, 0x93, 0x70, 0xbf, 0x3f, 0x16, 0xb2,\n        0x3e, 0x00, 0x1d, 0x5c, 0x9c, 0x4c, 0xbf, 0xb4, 0x62, 0xab, 0x2a, 0xf3,\n        0xe4, 0xce, 0x23, 0xed, 0xb4, 0xa6, 0xc6, 0x76, 0x55, 0xbb, 0x1b, 0x7d,\n        0xc6, 0x9a, 0xc8, 0xe4, 0xc2, 0xe7, 0x26, 0x53, 0x8c, 0x2e, 0x12, 0xd2,\n        0x0d, 0x24, 0x90, 0x60, 0xcc, 0xbf, 0xd1, 0x26, 0xa1, 0x5e, 0x21, 0xfa,\n        0xa6, 0x00, 0x18, 0x96, 0x65, 0xe8, 0xae, 0xd6, 0x3e, 0x33, 0x2f, 0xa8,\n        0xe4, 0xab, 0xb6, 0x01, 0x98, 0xf7, 0xab, 0x8c, 0x9a, 0x0e, 0xe4, 0x6c,\n        0xcc, 0xf2, 0xaa, 0x10, 0x85, 0xf6, 0x67, 0x9a, 0x62, 0x29, 0x38, 0x3f,\n        0x6f, 0x08, 0x4b, 0xaa, 0xbb, 0x22, 0x4d, 0x6c, 0x24, 0x3a, 0xe7, 0x3b,\n        0xe8, 0xb8, 0x54, 0x20, 0xdf, 0xd7, 0x96, 0x3e, 0x99, 0x1d, 0x52, 0x55,\n        0x82, 0x1d, 0x71, 0x23, 0xf5, 0x9a, 0x5c, 0x67, 0xf1, 0x36, 0xf6, 0xd8,\n        0x4e, 0xae, 0x94, 0xa0, 0xc7, 0x4e, 0xd0, 0xc4, 0x77, 0xf5, 0xff, 0x7f,\n        0xc8, 0x86, 0x1f, 0xf6, 0xfe, 0xa0, 0xd0, 0x3c, 0x19, 0xbf, 0xc0, 0x40,\n        0x04, 0x13, 0x1b, 0x6e, 0x27, 0xc4, 0xc3, 0x7a, 0x22, 0xb6, 0xdc, 0x50,\n        0xd6, 0xec, 0x63, 0x83, 0x75, 0xac, 0x18, 0x50, 0xb9, 0x40, 0xdc, 0xac,\n        0x79, 0xb9, 0x79, 0x54, 0x45, 0x8b, 0x2e, 0x0d, 0x5c, 0x27, 0x9c, 0xc2,\n        0x5e, 0x32, 0x4d, 0x91, 0x15, 0x15, 0xa5, 0xed, 0xb4, 0x88, 0x2f, 0xdf,\n        0x3c, 0x47, 0x13, 0x6d, 0x91, 0xb8, 0x03, 0xf8, 0xbf, 0xac, 0x72, 0x62,\n        0x9b, 0x65, 0x56, 0xc8, 0xcf, 0x17, 0x2d, 0xa6, 0xd3, 0x16, 0x37, 0x68,\n        0x5e, 0x11, 0xd9, 0xad, 0x40, 0x24, 0x07, 0x56, 0x61, 0x0c, 0x00, 0x17,\n        0x18, 0xf6, 0x6d, 0xac, 0xe8, 0x86, 0x88, 0xc2, 0x52, 0xac, 0x12, 0xbd,\n        0x47, 0x9e, 0x8a, 0xf6, 0xb6, 0x65, 0x6e, 0x97, 0xd6, 0xd2, 0x40, 0xc0,\n        0xc0, 0x4c, 0x2e, 0x6b, 0x4e, 0x23, 0x27, 0x90, 0x5f, 0x4a, 0xe0, 0x64,\n        0x55, 0xae, 0xf9, 0x34, 0x1a, 0xae, 0x17, 0xec, 0xf8, 0x91, 0x78, 0xb4,\n        0x6f, 0x3a, 0x9d, 0x3c, 0xac, 0x10, 0x59, 0xfa, 0x7c, 0x83, 0xa5, 0x0a,\n        0x21, 0x63, 0xc8, 0x30, 0x7b, 0xea, 0x59, 0xd6, 0x5c, 0xd4, 0x6a, 0xaf,\n        0xe2, 0xbe, 0xca, 0x6d, 0x07, 0x69, 0x8e, 0xb0, 0x14, 0x84, 0xa2, 0x73,\n        0x8e, 0xcf, 0x87, 0x48, 0xfb, 0xee, 0x57, 0x11, 0x7b, 0x35, 0xea, 0x3f,\n        0x64, 0xdf, 0xee, 0x78, 0xb0, 0x39, 0x8f, 0xab, 0x00, 0x40, 0xef, 0x38,\n        0x1e, 0x40, 0x17, 0x85, 0x24, 0xfe, 0xe4, 0xbd, 0xe9, 0x38, 0x68, 0x25,\n        0xd8, 0x10, 0x18, 0xda, 0x6c, 0xb4, 0x21, 0x43, 0xb0, 0xfb, 0xa8, 0xa9,\n        0x6c, 0x5a, 0x3d, 0x64, 0x6a, 0x0e, 0xe7, 0x93, 0xd5, 0x3f, 0x4d, 0xbc,\n        0xb0, 0x32, 0xa2, 0xea, 0xda, 0x74, 0x36, 0x60, 0xac, 0x81, 0x7f, 0x02,\n        0x86, 0xb4, 0x03, 0x9d, 0xa0, 0xee, 0x81, 0x7c, 0x05, 0xc6, 0x56, 0x9c,\n        0x41, 0xc4, 0x5d, 0x08, 0x37, 0x12, 0x53, 0xd5, 0xc3, 0xee, 0x12, 0x9a,\n        0xd3, 0x7e, 0x96, 0x27, 0x2e, 0xa5, 0x07, 0xb5, 0x0b, 0xc4, 0xd0, 0x08,\n        0x49, 0x64, 0x5d, 0x43, 0xaa, 0x7d, 0x56, 0x22, 0x48, 0xd1, 0x74, 0x0e,\n        0xe0, 0x8c, 0xa7, 0x3f, 0x84, 0xdd, 0xa1, 0xfc, 0x02, 0xdb, 0x32, 0xa0,\n        0x1c, 0x92, 0x6e, 0xc0, 0x69, 0x5a, 0x45, 0x5b, 0xb7, 0x73, 0x37, 0xd5,\n        0xa1, 0x40, 0x5f, 0xf3, 0x57, 0x07, 0xa4, 0x57, 0x45, 0xb3, 0x3d, 0x12,\n        0x47, 0x2c, 0x5c, 0xbc, 0xe0, 0x31, 0x92, 0xda, 0xb6, 0x29, 0x5a, 0xd3,\n        0x65, 0xd5, 0xd4, 0x67, 0xd0, 0x26, 0x6a, 0x76, 0x0c, 0x5c, 0xb4, 0x1f,\n        0x61, 0xd3, 0x00, 0xa9, 0xce, 0x1d, 0xe9, 0x3d, 0x7e, 0xbe, 0x92, 0xc6,\n        0xa0, 0xe1, 0x77, 0x58, 0x07, 0xc7, 0x31, 0x96, 0x56, 0x69, 0x49, 0x34,\n        0xf6, 0xbd, 0x42, 0x13, 0x86, 0xe4, 0x12, 0x56, 0xae, 0x0b, 0xb2, 0xf1,\n        0xe5, 0xf6, 0xba, 0xc2, 0xcf, 0xa8, 0xe4, 0x22, 0x86, 0xdd, 0x2a, 0x86,\n        0xee, 0x7c, 0xc5, 0x1e, 0x3f, 0x0c, 0xe9, 0x3c, 0x62, 0xc3, 0x97, 0xc6,\n        0x40, 0xa8, 0x53, 0x82, 0xcf, 0xdc, 0x88, 0x42, 0xb7, 0x76, 0x7e, 0x6c,\n        0xc1, 0x03, 0xf6, 0xf9, 0x1a, 0x93, 0x60, 0x44, 0xb1, 0x50, 0xe3, 0x9e,\n        0xa7, 0x00, 0x2e, 0x73, 0x88, 0x35, 0x8e, 0x5e, 0xdb, 0xdf, 0x63, 0xa5,\n        0x22, 0x50, 0x1a, 0x31, 0x2d, 0x28, 0xe6, 0xf1, 0xbe, 0xe4, 0x4d, 0x05,\n        0x60, 0x01, 0x63, 0x58, 0x71, 0x52, 0x11, 0x11, 0xf1, 0x9f, 0xe7, 0x48,\n        0x1d, 0x67, 0xc3, 0x5a, 0x50, 0x35, 0xe9, 0x4e, 0xcf, 0xda, 0x27, 0x04,\n        0x95, 0x60, 0xd6, 0x5a, 0xc2, 0x32, 0xf8, 0x00, 0x29, 0x5b, 0x46, 0xac,\n        0x9a, 0x22, 0xd6, 0x93, 0xe3, 0x1a, 0xa2, 0xea, 0x56, 0x4a, 0xb8, 0xf0,\n        0x08, 0x50, 0x17, 0xcc, 0x9e, 0xf4, 0x80, 0x5c, 0x12, 0xca, 0x87, 0x23,\n        0x03, 0x31, 0xde, 0x63, 0x18, 0x44, 0x92, 0x7f, 0xff, 0xfb, 0xb2, 0x68,\n        0xbb, 0x55, 0x0f, 0xc6, 0x68, 0xcc, 0xcd, 0xda, 0x58, 0x5b, 0x2a, 0x9d,\n        0x59, 0x8e, 0x4c, 0x80, 0x93, 0x6e, 0xf7, 0x60, 0x41, 0x71, 0x13, 0x4e,\n        0x41, 0x5f, 0xda, 0x7f, 0xea, 0x39, 0x1c, 0xc5, 0x06, 0x79, 0xfe, 0x47,\n        0xc0, 0x47, 0x2f, 0x5e, 0x64, 0x4b, 0x91, 0x82, 0x90, 0xe1, 0x17, 0x95,\n        0x5d, 0xeb, 0x0d, 0x93, 0x81, 0xbc, 0x7a, 0x95, 0x7e, 0xd9, 0x67, 0xc6,\n        0xf8, 0xef, 0x17, 0x8a, 0x64, 0x8d, 0x14, 0x52, 0xb0, 0x3a, 0xac, 0xce,\n        0xea, 0x76, 0xd5, 0xd8, 0xc1, 0x64, 0x84, 0xba, 0xff, 0x66, 0x0b, 0x14,\n        0xe4, 0x13, 0x87, 0xa1, 0x6e, 0x38, 0x19, 0x28, 0xe6, 0x47, 0x7c, 0x6a,\n        0xc5, 0xa8, 0x04, 0xd3, 0x24, 0x61, 0x22, 0xf2, 0x28, 0x0b, 0xfc, 0x24,\n        0x05, 0x91, 0xe6, 0x05, 0x48, 0x2e, 0xc1, 0xc3, 0xec, 0xa5, 0x6c, 0xbf,\n        0x03, 0x44, 0x37, 0x16, 0x0b, 0x56, 0xd7, 0xaa, 0x21, 0xae, 0x04, 0x1c,\n        0xcd, 0x8b, 0xf6, 0xe3, 0xab, 0x46, 0x65, 0x3b, 0x71, 0x96, 0x98, 0x0a,\n        0xce, 0x95, 0xc7, 0x8f, 0x6a, 0x1b, 0xfa, 0x0b, 0x6f, 0xea, 0xac, 0x83,\n        0x09, 0x19, 0xd6, 0x69, 0x0b, 0x5b, 0xfe, 0x13, 0x85, 0x81, 0xef, 0xb3,\n        0x0e, 0x79, 0x56, 0x4e, 0x44, 0x5f, 0x4b, 0x2d, 0x18, 0x0a, 0xb9, 0x17,\n        0x5d, 0x51, 0xb2, 0x73, 0xec, 0xdf, 0x98, 0x4c, 0x02, 0x2a, 0xa1, 0x3d,\n        0xfd, 0x89, 0xde, 0x52, 0x4e, 0x5e, 0x7c, 0x8a, 0xb2, 0x31, 0xcb, 0x20,\n        0xea, 0x7d, 0x60, 0x61, 0x1f, 0x1d, 0x92, 0xc1, 0xe6, 0x67, 0xa9, 0x10,\n        0x1a, 0xb0, 0xa1, 0x8c, 0xec, 0x2c, 0xc7, 0xf2, 0x6b, 0x25, 0xa7, 0xf4,\n        0x41, 0xef, 0xb9, 0x34, 0x6c, 0x7d, 0x7c, 0xe5, 0xc1, 0xb0, 0xa5, 0x11,\n        0x94, 0xce, 0x1f, 0xab, 0x39, 0x87, 0xf7, 0x16, 0xb1, 0x2c, 0x0b, 0x42,\n        0x63, 0x30, 0x44, 0x0d, 0x46, 0xbb, 0x8a, 0x2d, 0xdb, 0x81, 0x03, 0x55,\n        0x1c, 0x9d, 0xf1, 0xfa, 0xe7, 0x88, 0xd4, 0xce, 0x98, 0x7b, 0xfc, 0x0e,\n        0x13, 0x6f, 0x10, 0xdc, 0x58, 0x1b, 0x42, 0xf4, 0x89, 0xd0, 0x83, 0xdc,\n        0x9b, 0x97, 0xfe, 0x60, 0xa6, 0xab, 0xff, 0xfb, 0x35, 0xcf, 0x20, 0x36,\n        0xca, 0x45, 0xac, 0xc0, 0x9f, 0x27, 0x1a, 0x8b, 0x61, 0x35, 0x0d, 0x32,\n        0x17, 0x3d, 0xe6, 0x8b, 0x45, 0x82, 0x4c, 0xf0, 0xb9, 0xdf, 0x49, 0x6e,\n        0x2f, 0x2f, 0xd4, 0x85, 0xc0, 0xdb, 0xcf, 0x91, 0x60, 0x20, 0x23, 0x1d,\n        0xba, 0xb0, 0xb3, 0x71, 0xdc, 0x58, 0x3a, 0xab, 0x25, 0x0e, 0x17, 0x52,\n        0x2b, 0xec, 0xf9, 0xcc, 0xc2, 0x22, 0x26, 0x00, 0xe3, 0xb0, 0x53, 0xc4,\n        0x7a, 0x42, 0xab, 0x6a, 0x0e, 0x74, 0x68, 0xcb, 0x6e, 0xb2, 0xf8, 0x5d,\n        0x2c, 0xb7, 0xc0, 0x32, 0x04, 0xec, 0x23, 0xb8, 0xdd, 0x18, 0x6a, 0x98,\n        0x71, 0x13, 0x59, 0x4b, 0xb6, 0x4c, 0x0c, 0xfb, 0x4c, 0x12, 0x2a, 0xa0,\n        0x23, 0xb6, 0x94, 0x1d, 0xb8, 0x20, 0x94, 0x0d, 0x1e, 0x6d, 0x69, 0x41,\n        0x24, 0x3c, 0x83, 0xf5, 0x1b, 0x74, 0x3d, 0x36, 0xfc, 0xf4, 0x91, 0xd9,\n        0xd7, 0x8a, 0x29, 0xcd, 0x6e, 0x9c, 0x02, 0xc0, 0xc7, 0x7d, 0x62, 0x15,\n        0xa8, 0x80, 0xf6, 0x5a, 0x8a, 0x2a, 0x5e, 0xb4, 0x06, 0x1a, 0xf1, 0x0f,\n        0xe0, 0x8d, 0xe7, 0xc5, 0x67, 0x39, 0xc7, 0xb0, 0xf7, 0x0c, 0xf4, 0xf0,\n        0xe4, 0x5f, 0x07, 0x3b, 0x1d, 0xce, 0x44, 0xc9, 0x49, 0xfd, 0x28, 0xa8,\n        0x61, 0x34, 0x54, 0x74, 0x72, 0xf1, 0x20, 0x27, 0x55, 0x34, 0xfe, 0x0d,\n        0x2f, 0xe7, 0xdf, 0x1e, 0xc9, 0x54, 0x0e, 0x06, 0xe2, 0xda, 0x42, 0xc2,\n        0x14, 0x2b, 0x67, 0xae, 0x5b, 0x31, 0x7f, 0x59, 0x0a, 0x73, 0xde, 0xc6,\n        0xfa, 0xe7, 0xac, 0x88, 0x0e, 0x60, 0xa9, 0x42, 0xa5, 0xca, 0x6c, 0x40,\n        0x15, 0x07, 0xff, 0xe5, 0x23, 0x02, 0x0e, 0x97, 0x20, 0x00, 0x17, 0x05,\n        0x1e, 0x93, 0x64, 0x95, 0x79, 0x34, 0x1b, 0x8c, 0x30, 0xce, 0xc5, 0x5e,\n        0x93, 0x16, 0x06, 0x41, 0x81, 0x4a, 0x74, 0xd6, 0x2e, 0xec, 0x60, 0x17,\n        0x90, 0x97, 0x3e, 0x30, 0x48, 0x9e, 0xb9, 0x67, 0xb8, 0xf0, 0xc1, 0xdd,\n        0x97, 0x71, 0xcf, 0x48, 0xd0, 0xeb, 0x4e, 0x24, 0xc4, 0x67, 0x6c, 0xca,\n        0x95, 0x51, 0x21, 0x0d, 0x76, 0xd3, 0x81, 0x7d, 0x8e, 0xe8, 0xff, 0xdd,\n        0xc3, 0x09, 0xd6, 0xab, 0x26, 0xc4, 0x48, 0xe9, 0xfc, 0x69, 0x0c, 0x43,\n        0xa1, 0xf2, 0x35, 0xca, 0x5a, 0xbf, 0x1a, 0xbd, 0xea, 0x46, 0x22, 0x99,\n        0x75, 0x65, 0x2b, 0xce, 0x16, 0x73, 0xd9, 0xf5, 0x40, 0x2b, 0x7e, 0x3c,\n        0x94, 0xe4, 0x79, 0xfd, 0x5e, 0xb9, 0x9a, 0x99, 0xdd, 0x58, 0x4e, 0xe2,\n        0xcf, 0x2d, 0x36, 0x42, 0x26, 0x15, 0x59, 0xfb, 0xd4, 0xe1, 0xb7, 0x5a,\n        0x51, 0xe3, 0xcc, 0x7f, 0x5f, 0xcc, 0x8f, 0xc6, 0x4e, 0x84, 0xa2, 0xd7,\n        0xdb, 0x75, 0xe1, 0x4c, 0xb1, 0x0d, 0x67, 0x12, 0x11, 0x48, 0x0d, 0x33,\n        0x6b, 0xff, 0xfc, 0xda, 0xd8, 0xed, 0x37, 0xfe, 0x7e, 0x41, 0x0b, 0x73,\n        0x8e, 0x10, 0x2f, 0x07, 0x2a, 0xe3, 0xdc, 0xf9, 0x98, 0x4f, 0xd5, 0xbe,\n        0xa1, 0xd6, 0x4a, 0x77, 0x3b, 0x22, 0xcc, 0xd4, 0x57, 0xc6, 0x2c, 0x02,\n        0xda, 0x4d, 0xf8, 0xca, 0x21, 0x21, 0xc6, 0x55, 0x2d, 0xf6, 0x45, 0xdb,\n        0x75, 0xa8, 0xfa, 0xfe, 0xf4, 0x59, 0x4f, 0xf1, 0x0b, 0x69, 0x6d, 0x37,\n        0xfe, 0x92, 0x23, 0x57, 0x85, 0x31, 0xae, 0x44, 0x6b, 0xd7, 0x9f, 0x28,\n        0x8c, 0x4c, 0xd0, 0xc9, 0xca, 0xf8, 0x8e, 0x1b, 0x27, 0x82, 0x1d, 0xef,\n        0xf5, 0xb3, 0xf1, 0x8f, 0x28, 0x71, 0xde, 0xb8, 0x1c, 0xfa, 0x2a, 0xe9,\n        0x8a, 0x40, 0x6d, 0x92, 0x84, 0x8e, 0x63, 0x42, 0x04, 0x24, 0x17, 0x18,\n        0xb2, 0x80, 0xe4, 0xbe, 0x58, 0x6a, 0xb4, 0xf5, 0x15, 0x1e, 0x1b, 0x08,\n        0xc5, 0x3f, 0xa6, 0xdf, 0xd9, 0xc9, 0x46, 0xda, 0xf3, 0x12, 0xcd, 0xc7,\n        0x02, 0x3a, 0xde, 0x45, 0xe6, 0xee, 0xde, 0x36, 0x3a, 0x8c, 0xc8, 0xfb,\n        0x3a, 0xa5, 0x1a, 0x33, 0x81, 0xe1, 0x9e, 0x55, 0xfa, 0x6b, 0xd3, 0x85,\n        0x36, 0x92, 0xd6, 0x83, 0x86, 0x9d, 0x6f, 0xee, 0xff, 0xa6, 0x27, 0xed,\n        0x4d, 0xe8, 0x3f, 0x34, 0xbd, 0x45, 0x32, 0x5a, 0xab, 0x99, 0x02, 0x99,\n        0x0c, 0xa3, 0xff, 0x79, 0xaf, 0x65, 0x22, 0x56, 0x77, 0xac, 0x49, 0xaf,\n        0xba, 0x17, 0xab, 0xd6, 0x15, 0x41, 0xf3, 0x86, 0x78, 0x5f, 0xbd, 0x5c,\n        0x5e, 0x34, 0x41, 0x7e, 0x32, 0x4f, 0xa8, 0xa4, 0xca, 0xe3, 0x3b, 0x6d,\n        0x1c, 0x25, 0x79, 0xd0, 0xfd, 0xc2, 0x60, 0x2f, 0x0e, 0x22, 0x5f, 0x41,\n        0x43, 0xb4, 0xfc, 0xf6, 0x3a, 0xa3, 0x75, 0xba, 0xe6, 0xf8, 0x1e, 0xf6,\n        0x37, 0x65, 0xc1, 0x88, 0xb7, 0xa8, 0xb7, 0xc7, 0x3b, 0x75, 0x29, 0x21,\n        0xc7, 0xed, 0x40, 0x0e, 0xc9, 0xd7, 0xdd, 0x9d, 0xb0, 0x2e, 0xeb, 0x1b,\n        0xff, 0xf2, 0x1f, 0x23, 0xf3, 0xd5, 0x64, 0xe2, 0x89, 0x6b, 0x6b, 0x58,\n        0xfb, 0xd0, 0xbb, 0xb5, 0x5b, 0x2b, 0x63, 0x4f, 0xb3, 0x6c, 0x8c, 0x3f,\n        0xb0, 0x8a, 0x52, 0x0a, 0xa0, 0xc8, 0x76, 0x59, 0xa6, 0x0a, 0xe1, 0xe0,\n        0xd1, 0xd7, 0x6c, 0x77, 0x33, 0xed, 0x55, 0x10, 0x88, 0x6b, 0xef, 0x07,\n        0x95, 0xc7, 0xdb, 0x1e, 0x06, 0x4b, 0x5e, 0xe4, 0xd8, 0x99, 0xb3, 0x24,\n        0xe2, 0x21, 0x19, 0x76, 0xd0, 0x3c, 0x2d, 0x8a, 0xa8, 0xbe, 0x7f, 0x53,\n        0x58, 0xa8, 0x56, 0xea, 0x1e, 0x70, 0x7f, 0x1c, 0x8e, 0xf7, 0xca, 0xf5,\n        0xb9, 0xcb, 0x2f, 0x75, 0x94, 0x51, 0x71, 0x78, 0x10, 0x26, 0x07, 0xe5,\n        0xf6, 0x3a, 0x28, 0x72, 0x38, 0x87, 0x23, 0xc6, 0x6e, 0x2d, 0x00, 0x95,\n        0x22, 0xb2, 0xa9, 0x3d, 0x2a, 0x5f, 0x32, 0x80, 0x62, 0x5e, 0x35, 0x3b,\n        0x37, 0x29, 0x00, 0x3c, 0x06, 0x11, 0xa4, 0x8e, 0xc4, 0xeb, 0xde, 0x5b,\n        0xbb, 0xd6, 0x88, 0xa4, 0x33, 0xe8, 0x39, 0xea, 0xca, 0xc7, 0x69, 0x89,\n        0x86, 0xb9, 0x45, 0x03, 0x51, 0xd3, 0x84, 0x41, 0xff, 0xaf, 0x2f, 0x6d,\n        0x12, 0x33, 0x48, 0x7b, 0x28, 0x40, 0xb1, 0x36, 0xae, 0xa3, 0xbb, 0x6c,\n        0xd0, 0xad, 0x89, 0x7c, 0xf5, 0xa8, 0xc3, 0xdd, 0xa9, 0x58, 0x2e, 0x03,\n        0x85, 0x9d, 0xa5, 0xcb, 0xa2, 0x69, 0x96, 0x2e, 0x26, 0x99, 0x71, 0xc9,\n        0x16, 0xfe, 0xb7, 0x11, 0xb7, 0x5e, 0x77, 0xc0, 0x63, 0x96, 0x82, 0xf0,\n        0xc6, 0x84, 0xf9, 0x2e, 0x4e, 0xa5, 0x05, 0xc1, 0x06, 0x98, 0xa5, 0x1c,\n        0xa4, 0x5b, 0xa5, 0x3a, 0x2f, 0x3e, 0xc8, 0x39, 0x0e, 0x05, 0x6a, 0x81,\n        0x55, 0x87, 0xbe, 0xef\n    ])\n};\n\nmodule.exports = KEYWORDS_ID\n","/* eslint-disable */ \nimport React from 'react';\nimport {BrowserRouter as Router,Route} from 'react-router-dom'\n\nconst renderMergedProps = (component, ...rest) => {\n  const finalProps = Object.assign({}, ...rest);\n  return (\n    React.createElement(component, finalProps)\n  );\n}\n\nconst PropsRoute = ({ component, ...rest }) => {\n  return (\n    <Route {...rest} render={routeProps => {\n      return renderMergedProps(component, routeProps, rest);\n    }}/>\n  );\n}\n\nexport default PropsRoute;\n","import React from \"react\";\nimport {Component} from 'react';\nimport { Button } from \"react-bootstrap\";\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\n//import FullPageScrollerComponent from './FullPageScrollerComponent'\nimport logo from './logo.svg';\n\n\n//const ContentLast = ({children}) => (\n  //<div className=\"component\" >\n  //<header className=\"App-header\">\n    //<img src={logo} className=\"App-logo\" alt=\"logo\" />\n    \n    //<a\n      //className=\"App-link\"\n      //href=\"https://reactjs.org\"\n      //target=\"_blank\"\n      //rel=\"noopener noreferrer\"\n    //>\n      //Learn React\n    //</a>\n  //</header>\n  //</div>\n//);\n \n//const askButtonClick = function(e) {\n    //console.log(e)\n    //console.log(e.target.innerText)\n//}\nclass ContentOne extends Component {\n//const ContentOne = ({children,props}) => (\n\n    render() {\n        let that = this;\n        return (\n          <div className=\"component\" style={{marginLeft:'0.3em'}} >\n          <h2 style={{clear: \"both\"}} >Hi, I'm Edison</h2>\n             \n            <div>Say <b>\"Hey Edison\"</b> or click on the microphone to trigger me,  then ask a question. I turn <b>Green</b> when I'm listening. </div>\n                \n                <div>Ask me a question and I'll do my best to answer. Click or say the examples below.</div>\n                \n                 <div style={{marginTop: '0.5em' ,clear: \"both\"}} className=\"helpSampleButtons\" >\n                    <Button variant=\"primary\" onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >What's the date</Button>\n                    <Button variant=\"primary\"  onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >Define the word \"colloquial\"</Button>\n                    <Button variant=\"primary\"  onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >Tell me about celery</Button>\n                </div>\n                <div style={{marginTop: '0.5em' ,clear: \"both\"}} className=\"helpSampleButtons\" >\n                    <Button variant=\"primary\"  onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >What's the capital of Australia</Button>\n                    <Button variant=\"primary\"  onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >Spell the word \"fuzy\"</Button>\n                     <Button variant=\"primary\"  onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >Search youtube for funny cats</Button>\n                      <Button variant=\"primary\"  onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >Show me a picture of a motorbike</Button>\n                       <Button variant=\"primary\"  onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >What are some synonyms for weak</Button>\n                </div>\n                  <br/><br/>\n                 <div className=\"helpSampleButtons\" >\n                 \n                  <div style={{clear: \"both\"}} >As we chat I'll suggest some follow up questions in the top menu.</div>\n                          <div className=\"helpSampleButtons\" >\n                            <Button variant=\"secondary\"  >And what's the population</Button>\n                            <Button variant=\"secondary\"  >Tell me more</Button>\n                        </div>\n            <br/> <br/>  <br/><hr/>\n                    <div style={{clear: \"both\"}} >I can also help you fill in the answers of crosswords by speaking. (You need to be looking at the crossword for this to work.)</div>\n                    <Button variant=\"secondary\"  >One across is Canberra</Button>\n                 <br/>     <div style={{clear: \"both\"}} >With all that information at hand, lets see if you can solve a crossword</div>\n                 \n                    <Link  to='/crossword' ><Button variant=\"success\"   size=\"lg\"  >Start a crossword</Button></Link>\n                     \n                 </div>\n            <br/> <br/>  <br/>\n            <hr/>\n                    <div style={{clear: \"both\"}} >\n                    I'm still learning to speak your language. If I make a mistake you can update your question with the tools at the top of the page.\n                    <br/>\n                    <b>Select some text from your question and then press one of the buttons to update the search values.</b>\n                    <br/>\n                    As well as getting to the information you want, your updates will be integrated to improve the language models so we get it right next time.\n                 </div>\n                 <br/>  <br/>  <br/>\n                 <br/>  <br/>  <br/>\n                 <br/>  <br/>  <br/>\n          </div>\n        );\n    }\n}\n\n//class ContentTwo extends Component {\n    //render() {\n        ////let that = this;\n        //return (\n          //<div className=\"component\" >\n            //<div style={{clear: \"both\"}} >As we chat I'll suggest some follow up questions in the top menu.</div>\n                          //<div className=\"helpSampleButtons\" >\n                    //<Button variant=\"secondary\"  >And what's the population</Button>\n                    //<Button variant=\"secondary\"  >Tell me more</Button>\n                //</div>\n                \n          //</div>        \n        //)\n    //}\n//}\n////const ContentTwo = ({props}) => (\n\n//);\n//<div style={{marginTop: '0.5em' ,clear: \"both\"}} >You can also ask me to remember facts. </div>\n        //<div className=\"helpSampleButtons\" >\n            //<Button variant=\"primary\" >Remember that the capital of Australia is Tamworth</Button>\n         //</div>\nexport default class HomePageContent extends Component {\n    \n    render() {\n        let that = this;\n      return (\n        <div className=\"component homePageComponent\">\n\n                    <ContentOne sendMessage={that.props.sendMessage} />\n                    \n                    \n              \n        </div>\n      );\n    };\n} \n//<FullPageScrollerComponent>\n  //</FullPageScrollerComponent> \n// onClick=\"client.sendASRTextMessage(config.site,'Remember that the capital of Australia is Tamworth')\"\n//onClick=\"client.sendASRTextMessage(config.site,'What is the capital of Australia')\n//onClick=\"client.sendASRTextMessage(config.site,'Spell the word fuzy')\"\n//onClick=\"client.sendASRTextMessage(config.site,'define the word colloquial')\" \n//onClick=\"client.sendASRTextMessage(config.site,'what is the date')\" \n//onClick=\"client.sendASRTextMessage(config.site,'tell me about celery')\" \n","import React from 'react';\n\n// To pass focus/highlight/etc., it's cleaner to use a context.\nexport const CrosswordContext = React.createContext({\n  focused: false,\n  selectedDirection: null,\n  selectedNumber: null,\n\n  // correct answers?\n});\n\nexport const CrosswordSizeContext = React.createContext({\n  cellSize: 0,\n  cellPadding: 0,\n  cellInner: 0,\n  cellHalf: 0,\n  fontSize: 0,\n});\n","import React, { useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeContext } from 'styled-components';\n\nimport { CrosswordSizeContext } from './context';\n\n// expected props: row, col, answer, crossword, cellSize\n\n/**\n * An individual-letter answer cell within the crossword grid.\n *\n * A `Cell` lives inside the SVG for a [`Crossword`](#crossword), and renders at\n * a location determined by the `row`, `col`, and `cellSize` properties from\n * `cellData` and `renderContext`.\n */\nexport default function Cell({ cellData, onClick, focus, highlight }) {\n  const { cellSize, cellPadding, cellInner, cellHalf, fontSize } = useContext(\n    CrosswordSizeContext\n  );\n  const {\n    // gridBackground,\n    cellBackground,\n    cellBorder,\n    textColor,\n    numberColor,\n    focusBackground,\n    highlightBackground,\n  } = useContext(ThemeContext);\n\n  const handleClick = useCallback(\n    (event) => {\n      event.preventDefault();\n      if (onClick) {\n        onClick(cellData);\n      }\n    },\n    [cellData, onClick]\n  );\n\n  const { row, col, guess, number } = cellData;\n\n  const x = col * cellSize;\n  const y = row * cellSize;\n\n  return (\n    <g\n      onClick={handleClick}\n      style={{ cursor: 'default', fontSize: `${fontSize}px` }}\n    >\n      <rect\n        x={x + cellPadding}\n        y={y + cellPadding}\n        width={cellInner}\n        height={cellInner}\n        fill={\n          focus\n            ? focusBackground\n            : highlight\n            ? highlightBackground\n            : cellBackground\n        }\n        stroke={cellBorder}\n        strokeWidth={cellSize / 50}\n      />\n      {number && (\n        <text\n          x={x + cellPadding * 4}\n          y={y + cellPadding * 4}\n          textAnchor=\"start\"\n          dominantBaseline=\"hanging\"\n          style={{ fontSize: '50%', fill: numberColor }}\n        >\n          {number}\n        </text>\n      )}\n      <text\n        x={x + cellHalf}\n        y={y + cellHalf + 1} // +1 for visual alignment?\n        textAnchor=\"middle\"\n        dominantBaseline=\"middle\"\n        style={{ fill: textColor }}\n      >\n        {guess}\n      </text>\n    </g>\n  );\n}\n\nCell.propTypes = {\n  /** the data specific to this cell */\n  cellData: PropTypes.shape({\n    row: PropTypes.number.isRequired,\n    col: PropTypes.number.isRequired,\n    guess: PropTypes.string.isRequired,\n    number: PropTypes.string,\n  }).isRequired,\n\n  /** whether this cell has focus */\n  focus: PropTypes.bool,\n\n  /** whether this cell is highlighted */\n  highlight: PropTypes.bool,\n\n  /** handler called when the cell is clicked */\n  onClick: PropTypes.func,\n};\n\nCell.defaultProps = {\n  focus: false,\n  highlight: false,\n  onClick: null,\n};\n\n// export default Cell;\n","import React, { useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styled, { ThemeContext } from 'styled-components';\n\nimport { CrosswordContext } from './context';\n\nconst ClueWrapper = styled.div.attrs((props) => ({\n  className: `clue${props.correct ? ' correct' : ''}`,\n}))`\n  cursor: default;\n  background-color: ${(props) =>\n    props.highlight ? props.highlightBackground : 'transparent'};\n`;\n\nexport default function Clue({\n  direction,\n  number,\n  children,\n  correct,\n  ...props\n}) {\n  const { highlightBackground } = useContext(ThemeContext);\n  const {\n    focused,\n    selectedDirection,\n    selectedNumber,\n    onClueSelected,\n  } = useContext(CrosswordContext);\n\n  const handleClick = useCallback(\n    (event) => {\n      event.preventDefault();\n      if (onClueSelected) {\n        onClueSelected(direction, number);\n      }\n    },\n    [direction, number, onClueSelected]\n  );\n\n  return (\n    <ClueWrapper\n      highlightBackground={highlightBackground}\n      highlight={\n        focused && direction === selectedDirection && number === selectedNumber\n      }\n      correct={correct}\n      {...props}\n      onClick={handleClick}\n      aria-label={`clue-${number}-${direction}`}\n    >\n      {number}: {children}\n    </ClueWrapper>\n  );\n}\n\nClue.propTypes = {\n  /** direction of the clue: \"across\" or \"down\"; passed back in onClick */\n  direction: PropTypes.string.isRequired,\n  /** number of the clue (the label shown); passed back in onClick */\n  number: PropTypes.string.isRequired,\n  /** clue text */\n  children: PropTypes.node,\n  /** whether the answer/guess is correct */\n  correct: PropTypes.bool,\n};\n\nClue.defaultProps = {\n  children: undefined,\n  correct: undefined,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n// import styled from 'styled-components';\n\nimport Clue from './Clue';\n\nexport default function DirectionClues({ direction, clues }) {\n  return (\n    <div className=\"direction\">\n      {/* use something other than h3? */}\n      <h3 className=\"header\">{direction.toUpperCase()}</h3>\n      {clues.map(({ number, clue, correct }) => (\n        <Clue\n          key={number}\n          direction={direction}\n          number={number}\n          correct={correct}\n        >\n          {clue}\n        </Clue>\n      ))}\n    </div>\n  );\n}\n\nDirectionClues.propTypes = {\n  /** direction of this list of clues (\"across\" or \"down\") */\n  direction: PropTypes.string.isRequired,\n  /** clues for this List's direction */\n  clues: PropTypes.arrayOf(\n    PropTypes.shape({\n      /** number of the clue (the label shown) */\n      number: PropTypes.string.isRequired,\n      /** clue text */\n      clue: PropTypes.node.isRequired,\n      /** whether the answer/guess is correct */\n      correct: PropTypes.bool,\n    })\n  ).isRequired,\n};\n\nDirectionClues.defaultProps = {};\n","const directionInfo = {\n  across: {\n    primary: 'col',\n    orthogonal: 'row',\n  },\n  down: {\n    primary: 'row',\n    orthogonal: 'col',\n  },\n};\n\nexport const bothDirections = Object.keys(directionInfo);\n\nexport function isAcross(direction) {\n  return direction === 'across';\n}\n\nexport function otherDirection(direction) {\n  return isAcross(direction) ? 'down' : 'across';\n}\n\nexport function calculateExtents(data, direction) {\n  const dir = directionInfo[direction];\n  let primaryMax = 0;\n  let orthogonalMax = 0;\n\n  Object.entries(data[direction]).forEach(([i, info]) => {\n    const primary = info[dir.primary] + info.answer.length - 1;\n    if (primary > primaryMax) {\n      primaryMax = primary;\n    }\n\n    const orthogonal = info[dir.orthogonal];\n    if (orthogonal > orthogonalMax) {\n      orthogonalMax = orthogonal;\n    }\n  });\n\n  return {\n    [dir.primary]: primaryMax,\n    [dir.orthogonal]: orthogonalMax,\n  };\n}\n\nconst emptyCellData = {\n  used: false,\n  number: null,\n  answer: '',\n  guess: '',\n  locked: false,\n  // row: r,\n  // col: c,\n  across: null,\n  down: null,\n};\n\nexport function createEmptyGrid(size) {\n  const gridData = Array(size);\n  // Rather than [x][y] in column-major order, the cells are indexed as\n  // [row][col] in row-major order.\n  for (let r = 0; r < size; r++) {\n    gridData[r] = Array(size);\n    for (let c = 0; c < size; c++) {\n      gridData[r][c] = {\n        ...emptyCellData,\n        row: r,\n        col: c,\n      };\n    }\n  }\n\n  return gridData;\n}\n\nexport function fillClues(gridData, clues, data, direction) {\n  const dir = directionInfo[direction];\n\n  Object.entries(data[direction]).forEach(([number, info]) => {\n    const { row: rowStart, col: colStart, clue, answer } = info;\n    for (let i = 0; i < answer.length; i++) {\n      const row = rowStart + (dir.primary === 'row' ? i : 0);\n      const col = colStart + (dir.primary === 'col' ? i : 0);\n      const cellData = gridData[row][col];\n\n      // TODO?: check to ensure the answer is the same if it's already set?\n      cellData.used = true;\n      cellData.answer = answer[i];\n      cellData[direction] = number;\n\n      if (i === 0) {\n        // TODO?: check to ensure the number is the same if it's already set?\n        cellData.number = number;\n      }\n    }\n\n    clues[direction].push({ number, clue });\n  });\n\n  clues[direction].sort(byNumber);\n}\n\n// Given the \"nice format\" for a crossword, generate the usable data optimized\n// for rendering and our interactivity.\nexport function createGridData(data) {\n  const acrossMax = calculateExtents(data, 'across');\n  const downMax = calculateExtents(data, 'down');\n\n  const size =\n    Math.max(...Object.values(acrossMax), ...Object.values(downMax)) + 1;\n\n  const gridData = createEmptyGrid(size);\n\n  // Now fill with answers... and also collect the clues\n  const clues = {\n    across: [],\n    down: [],\n  };\n\n  fillClues(gridData, clues, data, 'across');\n  fillClues(gridData, clues, data, 'down');\n\n  return { size, gridData, clues };\n}\n\n// sort helper for clues...\nexport function byNumber(a, b) {\n  const aNum = Number.parseInt(a.number, 10);\n  const bNum = Number.parseInt(b.number, 10);\n\n  return aNum - bNum;\n}\n\nexport function clearGuesses(storageKey) {\n  if (!window.localStorage) {\n    return;\n  }\n\n  window.localStorage.removeItem(storageKey);\n}\n\nexport function saveGuesses(gridData, storageKey) {\n  const { localStorage } = window;\n  if (!localStorage) {\n    return;\n  }\n\n  const guesses = serializeGuesses(gridData);\n\n  const saveData = {\n    date: Date.now(),\n    guesses,\n  };\n\n  localStorage.setItem(storageKey, JSON.stringify(saveData));\n}\n\nexport function serializeGuesses(gridData) {\n    console.log(gridData)\n  const guesses = gridData.reduce((memo, row, r) => {\n    return row.reduce((memoInner, cellData, c) => {\n      const { guess } = cellData;\n      if (guess !== '') {\n        memoInner[`${r}_${c}`] = cellData.guess;\n      }\n      return memoInner;\n    }, memo);\n  }, {});\n\n  return guesses;\n}\n\nexport function loadGuesses(gridData, storageKey) {\n  const { localStorage } = window;\n  if (!localStorage) {\n    return;\n  }\n\n  const saveRaw = localStorage.getItem(storageKey);\n  if (!saveRaw) {\n    return;\n  }\n\n  const saveData = JSON.parse(saveRaw);\n\n  // TODO: check date for expiration?\n  deserializeGuesses(gridData, saveData.guesses);\n}\n\nexport function deserializeGuesses(gridData, guesses) {\n  Object.entries(guesses).forEach(([key, val]) => {\n    const [r, c] = key.split('_');\n    // ignore any out-of-bounds guesses!\n    if (r <= gridData.length - 1 && c <= gridData[0].length - 1) {\n      gridData[r][c].guess = val;\n    }\n  });\n}\n\nexport function findCorrectAnswers(data, gridData) {\n  const correctAnswers = [];\n\n  bothDirections.forEach((direction) => {\n    const across = isAcross(direction);\n    Object.entries(data[direction]).forEach(([num, info]) => {\n      const { row, col } = info;\n      let correct = true;\n      for (let i = 0; i < info.answer.length; i++) {\n        const r = across ? row : row + i;\n        const c = across ? col + i : col;\n        if (gridData[r][c].guess !== info.answer[i]) {\n          correct = false;\n          break;\n        }\n      }\n      if (correct) {\n        // same args as notifyCorrect: direction, number, answer\n        correctAnswers.push([direction, num, info.answer]);\n      }\n    });\n  });\n\n  return correctAnswers;\n}\n","import React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useImperativeHandle,\n  useRef,\n  useState,\n} from 'react';\nimport PropTypes from 'prop-types';\n\nimport produce from 'immer';\nimport styled, { ThemeContext, ThemeProvider } from 'styled-components';\n\nimport Cell from './Cell';\nimport DirectionClues from './DirectionClues';\n\nimport {\n  bothDirections,\n  createGridData,\n  isAcross,\n  otherDirection,\n  clearGuesses,\n  saveGuesses,\n  loadGuesses,\n  findCorrectAnswers,\n} from './util';\n\nimport { CrosswordContext, CrosswordSizeContext } from './context';\n\n// TODO: make this a component property!\n//const defaultStorageKey = 'guesses';\n\nconst defaultTheme = {\n  columnBreakpoint: '768px',\n  gridBackground: 'rgb(0,0,0)',\n  cellBackground: 'rgb(255,255,255)',\n  cellBorder: 'rgb(0,0,0)',\n  textColor: 'rgb(0,0,0)',\n  numberColor: 'rgba(0,0,0, 0.25)',\n  focusBackground: 'rgb(255,255,0)',\n  highlightBackground: 'rgb(255,255,204)',\n};\n\n// eslint-disable-next-line\nconst OuterWrapper = styled.div.attrs((props) => ({\n  className: `crossword${props.correct ? ' correct' : ''}`,\n}))`\n  margin: 0;\n  padding: 0;\n  border: 0;\n  /* position: relative; */\n  /* width: 40%; */\n  display: flex;\n  flex-direction: row;\n\n  @media (max-width: ${(props) => props.theme.columnBreakpoint}) {\n    flex-direction: column;\n  }\n`;\n\nconst GridWrapper = styled.div.attrs((props) => ({\n  className: 'grid',\n}))`\n  /* position: relative; */\n  min-width: 20rem;\n  max-width: 60rem; /* Should the size matter? */\n  width: auto;\n  flex: 2 1 50%;\n`;\n\nconst CluesWrapper = styled.div.attrs((props) => ({\n  className: 'clues',\n}))`\n  padding: 0 1em;\n  flex: 1 2 25%;\n\n  @media (max-width: ${(props) => props.theme.columnBreakpoint}) {\n    margin-top: 2em;\n  }\n\n  .direction {\n    margin-bottom: 2em;\n    /* padding: 0 1em;\n    flex: 1 1 20%; */\n\n    .header {\n      margin-top: 0;\n      margin-bottom: 0.5em;\n    }\n\n    div {\n      margin-top: 0.5em;\n    }\n  }\n`;\n\n/**\n * The primary, and default, export from the react-crossword library, Crossword\n * renders an answer grid and clues, and manages data and user interaction.\n */\nconst Crossword = React.forwardRef(\n  (\n    {\n      data,\n      onCorrect,\n      onLoadedCorrect,\n      onCrosswordCorrect,\n      onCellChange,\n      useStorage,\n      theme,\n      storageKey \n    },\n    ref\n  ) => {\n    const defaultStorageKey = storageKey ? storageKey : 'guesses';\n    const [size, setSize] = useState(null);\n    const [gridData, setGridData] = useState(null);\n    const [clues, setClues] = useState(null);\n    const [focused, setFocused] = useState(false);\n    const [focusedRow, setFocusedRow] = useState(0);\n    const [focusedCol, setFocusedCol] = useState(0);\n    const [currentDirection, setCurrentDirection] = useState('across');\n    const [currentNumber, setCurrentNumber] = useState('1');\n    const [bulkChange, setBulkChange] = useState(null);\n    const [checkQueue, setCheckQueue] = useState([]);\n    const [crosswordCorrect, setCrosswordCorrect] = useState(false);\n\n    const inputRef = useRef();\n\n    const contextTheme = useContext(ThemeContext);\n\n    const getCellData = useCallback(\n      (row, col) => {\n        if (row >= 0 && row < size && col >= 0 && col < size) {\n          return gridData[row][col];\n        }\n\n        // fake cellData to represent \"out of bounds\"\n        return { row, col, used: false, outOfBounds: true };\n      },\n      [size, gridData]\n    );\n\n    const setCellCharacter = useCallback(\n      (row, col, char) => {\n        const cell = getCellData(row, col);\n\n        if (!cell.used) {\n          return;\n        }\n\n        // If the character is already the cell's guess, there's nothing to do.\n        if (cell.guess === char) {\n          return;\n        }\n\n        // update the gridData with the guess\n        setGridData(\n          produce((draft) => {\n            draft[row][col].guess = char;\n          })\n        );\n\n        // push the row/col for checking!\n        setCheckQueue(\n          produce((draft) => {\n            draft.push({ row, col });\n          })\n        );\n\n        if (onCellChange) {\n          onCellChange(row, col, char);\n        }\n      },\n      [getCellData, onCellChange]\n    );\n\n    const notifyCorrect = useCallback(\n      (direction, number, answer) => {\n        if (onCorrect) {\n          // We *used* to need a timeout workaround to ensure this happened\n          // *after* the state had updated and the DOM rendered.... do we still?\n          onCorrect(direction, number, answer);\n\n          // For future reference, the call looked like:\n          //\n          // setTimeout(() => {\n          //   window.requestAnimationFrame(() => {\n          //     onCorrect(direction, number, answer);\n          //   });\n          // });\n        }\n      },\n      [onCorrect]\n    );\n\n    const checkCorrectness = useCallback(\n      (row, col) => {\n        const cell = getCellData(row, col);\n\n        // check all the cells for both across and down answers that use this\n        // cell\n        bothDirections.forEach((direction) => {\n          const across = isAcross(direction);\n          const number = cell[direction];\n          if (!number) {\n            return;\n          }\n\n          const info = data[direction][number];\n\n          // We start by looking at the current cell... if it's not correct, we\n          // don't need to check anything else!\n          let correct = cell.guess === cell.answer;\n\n          if (correct) {\n            // We *could* compare cell.guess against cell.answer for all the\n            // cells, but info.answer is a simple string and gets us the length\n            // as well (and we only have to calulate row/col math once).\n            for (let i = 0; i < info.answer.length; i++) {\n              const checkCell = getCellData(\n                info.row + (across ? 0 : i),\n                info.col + (across ? i : 0)\n              );\n\n              if (checkCell.guess !== info.answer[i]) {\n                correct = false;\n                break;\n              }\n            }\n          }\n\n          // update the clue state\n          setClues(\n            produce((draft) => {\n              const clueInfo = draft[direction].find(\n                (i) => i.number === number\n              );\n              clueInfo.correct = correct;\n            })\n          );\n\n          if (correct) {\n            notifyCorrect(direction, number, info.answer);\n          }\n        });\n      },\n      [getCellData]\n    );\n\n    // Any time the checkQueue changes, call checkCorrectness!\n    useEffect(() => {\n      if (checkQueue.length === 0) {\n        return;\n      }\n\n      checkQueue.forEach(({ row, col }) => checkCorrectness(row, col));\n      setCheckQueue([]);\n    }, [checkQueue, checkCorrectness]);\n\n    // Any time the clues change, determine if they are all correct or not.\n    useEffect(() => {\n      setCrosswordCorrect(\n        clues &&\n          bothDirections.every((direction) =>\n            clues[direction].every((clueInfo) => clueInfo.correct)\n          )\n      );\n    }, [clues]);\n\n    // Let the consumer know everything's correct (or not) if they've asked to\n    // be informed.\n    useEffect(() => {\n      if (onCrosswordCorrect) {\n        onCrosswordCorrect(crosswordCorrect);\n      }\n    }, [crosswordCorrect, onCrosswordCorrect]);\n\n    // focus and movement\n    const focus = useCallback(() => {\n      if (inputRef.current) {\n        inputRef.current.focus();\n        setFocused(true);\n      }\n    }, []);\n\n    const moveTo = useCallback(\n      (row, col, directionOverride) => {\n        let direction = directionOverride ?? currentDirection;\n        const candidate = getCellData(row, col);\n\n        if (!candidate.used) {\n          return false;\n        }\n\n        if (!candidate[direction]) {\n          direction = otherDirection(direction);\n        }\n\n        setFocusedRow(row);\n        setFocusedCol(col);\n        setCurrentDirection(direction);\n        setCurrentNumber(candidate[direction]);\n\n        return candidate;\n      },\n      [getCellData]\n    );\n\n    const moveRelative = useCallback(\n      (dRow, dCol) => {\n        // We expect *only* one of dRow or dCol to have a non-zero value, and\n        // that's the direction we will \"prefer\".  If *both* are set (or zero),\n        // we don't change the direction.\n        let direction;\n        if (dRow !== 0 && dCol === 0) {\n          direction = 'down';\n        } else if (dRow === 0 && dCol !== 0) {\n          direction = 'across';\n        }\n\n        const cell = moveTo(focusedRow + dRow, focusedCol + dCol, direction);\n\n        return cell;\n      },\n      [focusedRow, focusedCol, moveTo]\n    );\n\n    const moveForward = useCallback(() => {\n      const across = isAcross(currentDirection);\n      moveRelative(across ? 0 : 1, across ? 1 : 0);\n    }, [currentDirection, moveRelative]);\n\n    const moveBackward = useCallback(() => {\n      const across = isAcross(currentDirection);\n      moveRelative(across ? 0 : -1, across ? -1 : 0);\n    }, [currentDirection, moveRelative]);\n\n    // keyboard handling\n    const handleSingleCharacter = useCallback(\n      (char) => {\n        setCellCharacter(focusedRow, focusedCol, char.toUpperCase());\n        moveForward();\n      },\n      [focusedRow, focusedCol, setCellCharacter, moveForward]\n    );\n\n    // We use the keydown event for control/arrow keys, but not for textual\n    // input, because it's hard to suss out when a key is \"regular\" or not.\n    const handleInputKeyDown = useCallback(\n      (event) => {\n        // if ctrl, alt, or meta are down, ignore the event (let it bubble)\n        if (event.ctrlKey || event.altKey || event.metaKey) {\n          return;\n        }\n\n        let preventDefault = true;\n        const { key } = event;\n        // console.log('CROSSWORD KEYDOWN', event.key);\n\n        // FUTURE: should we \"jump\" over black space?  That might help some for\n        // keyboard users.\n        switch (key) {\n          case 'ArrowUp':\n            moveRelative(-1, 0);\n            break;\n\n          case 'ArrowDown':\n            moveRelative(1, 0);\n            break;\n\n          case 'ArrowLeft':\n            moveRelative(0, -1);\n            break;\n\n          case 'ArrowRight':\n            moveRelative(0, 1);\n            break;\n\n          case ' ': // treat space like tab?\n          case 'Tab': {\n            const other = otherDirection(currentDirection);\n            const cellData = getCellData(focusedRow, focusedCol);\n            if (cellData[other]) {\n              setCurrentDirection(other);\n              setCurrentNumber(cellData[other]);\n            }\n            break;\n          }\n\n          // Backspace: delete the current cell, and move to the previous cell\n          // Delete:    delete the current cell, but don't move\n          case 'Backspace':\n          case 'Delete': {\n            setCellCharacter(focusedRow, focusedCol, '');\n            if (key === 'Backspace') {\n              moveBackward();\n            }\n            break;\n          }\n\n          case 'Home':\n          case 'End': {\n            // move to beginning/end of this entry?\n            const info = data[currentDirection][currentNumber];\n            const {\n              answer: { length },\n            } = info;\n            let { row, col } = info;\n            if (key === 'End') {\n              const across = isAcross(currentDirection);\n              if (across) {\n                col += length - 1;\n              } else {\n                row += length - 1;\n              }\n            }\n\n            moveTo(row, col);\n            break;\n          }\n\n          default:\n            // It would be nice to handle \"regular\" characters with onInput, but\n            // that is still experimental, so we can't count on it.  Instead, we\n            // assume that only \"length 1\" values are regular.\n            if (key.length !== 1) {\n              preventDefault = false;\n              break;\n            }\n\n            handleSingleCharacter(key);\n            break;\n        }\n\n        if (preventDefault) {\n          event.preventDefault();\n        }\n      },\n      [\n        data,\n        focusedRow,\n        focusedCol,\n        currentDirection,\n        currentNumber,\n        getCellData,\n        setCellCharacter,\n        moveRelative,\n      ]\n    );\n\n    const handleInputChange = useCallback((event) => {\n      event.preventDefault();\n      setBulkChange(event.target.value);\n    }, []);\n\n    useEffect(() => {\n      if (!bulkChange) {\n        return;\n      }\n\n      // handle bulkChange by updating a character at a time (this lets us\n      // leverage the existing character-entry logic).\n      handleSingleCharacter(bulkChange[0]);\n      setBulkChange(bulkChange.length === 1 ? null : bulkChange.substring(1));\n    }, [bulkChange, handleSingleCharacter]);\n\n    // When the data changes, recalculate the gridData, size, etc.\n    useEffect(() => {\n      // eslint-disable-next-line no-shadow\n      const { size, gridData, clues } = createGridData(data);\n\n      let loadedCorrect;\n      if (useStorage) {\n        loadGuesses(gridData, defaultStorageKey);\n        loadedCorrect = findCorrectAnswers(data, gridData);\n\n        loadedCorrect.forEach(([direction, num]) => {\n          const clueInfo = clues[direction].find((i) => i.number === num);\n          clueInfo.correct = true;\n        });\n      }\n\n      setSize(size);\n      setGridData(gridData);\n      setClues(clues);\n\n      // Should we start with 1-across highlighted/focused?\n\n      // TODO: track input-field focus so we don't draw highlight when we're not\n      // really focused, *and* use first actual clue (whether across or down?)\n      setFocusedRow(0);\n      setFocusedCol(0);\n      setCurrentDirection('across');\n      setCurrentNumber('1');\n\n      setBulkChange(null);\n\n      // trigger any \"loaded correct\" guesses...\n      if (loadedCorrect && loadedCorrect.length > 0 && onLoadedCorrect) {\n        onLoadedCorrect(loadedCorrect);\n      }\n    }, [data, onLoadedCorrect, useStorage]);\n\n    useEffect(() => {\n      if (gridData === null || !useStorage) {\n        return;\n      }\n\n      saveGuesses(gridData, defaultStorageKey);\n    }, [gridData, useStorage]);\n\n    const handleCellClick = useCallback(\n      (cellData) => {\n        const { row, col } = cellData;\n        const other = otherDirection(currentDirection);\n\n        // should this use moveTo?\n        setFocusedRow(row);\n        setFocusedCol(col);\n\n        let direction = currentDirection;\n\n        // We switch to the \"other\" direction if (a) the current direction isn't\n        // available in the clicked cell, or (b) we're already focused and the\n        // clicked cell is the focused cell, *and* the other direction is\n        // available.\n        if (\n          !cellData[currentDirection] ||\n          (focused &&\n            row === focusedRow &&\n            col === focusedCol &&\n            cellData[other])\n        ) {\n          setCurrentDirection(other);\n          direction = other;\n        }\n\n        setCurrentNumber(cellData[direction]);\n\n        focus();\n      },\n      [focused, focusedRow, focusedCol, currentDirection, focus]\n    );\n\n    const handleInputClick = useCallback(\n      (event) => {\n        // *don't* event.preventDefault(), because we want the input to actually\n        // take focus\n\n        // Like general cell-clicks, cliking on the input can change direction.\n        // Unlike cell clicks, we *know* we're clicking on the already-focused\n        // cell!\n        const other = otherDirection(currentDirection);\n        const cellData = getCellData(focusedRow, focusedCol);\n\n        let direction = currentDirection;\n\n        if (focused && cellData[other]) {\n          setCurrentDirection(other);\n          direction = other;\n        }\n\n        setCurrentNumber(cellData[direction]);\n        focus();\n      },\n      [currentDirection, focusedRow, focusedCol, getCellData, focus]\n    );\n\n    const handleClueSelected = useCallback(\n      (direction, number) => {\n        const info = data[direction][number];\n        // TODO: sanity-check info?\n        moveTo(info.row, info.col, direction);\n        focus();\n      },\n      [data, moveTo, focus]\n    );\n\n    // expose some imperative methods\n    useImperativeHandle(\n      ref,\n      () => ({\n        /**\n         * Sets focus to the crossword component.\n         */\n        focus: () => {\n          focus();\n        },\n\n        /**\n         * Resets the entire crossword; clearing all answers in the grid and\n         * also any persisted data.\n         */\n        reset: () => {\n          setGridData(\n            produce((draft) => {\n              draft.forEach((rowData) => {\n                rowData.forEach((cellData) => {\n                  if (cellData.used) {\n                    cellData.guess = '';\n                  }\n                });\n              });\n            })\n          );\n\n          setClues(\n            produce((draft) => {\n              bothDirections.forEach((direction) => {\n                draft[direction].forEach((clueInfo) => {\n                  delete clueInfo.correct;\n                });\n              });\n            })\n          );\n\n          if (useStorage) {\n            clearGuesses(defaultStorageKey);\n          }\n        },\n\n        /**\n         * Fills all the answers in the grid and calls the `onLoadedCorrect`\n         * callback with _**every**_ answer.\n         */\n        fillAnswer: (direction,number,answer) => {\n            //console.log(['fill answer ',direction,number,answer])\n          setGridData(\n            produce((draft) => {\n              draft.forEach((rowData) => {\n                rowData.forEach((cellData) => {\n                    \n                  if (cellData.used) {\n                      //console.log(['cell used',direction,number.toString(),cellData.across,cellData.down])\n                      if (direction === \"across\") {\n                          if (cellData.across === number.toString()) {\n                              //console.log('across',number)\n                                cellData.guess = cellData.answer\n                          }\n                      } else if (direction === \"down\") {\n                          if (cellData.down === number.toString()) {\n                              //console.log('down',number)\n                              cellData.guess = cellData.answer\n                          }\n                      }\n                      \n                    //cellData.guess = cellData.answer;\n                  }\n                });\n              });\n            })\n          );\n\n          setClues(\n            produce((draft) => {\n              bothDirections.forEach((direction) => {\n                draft[direction].forEach((clueInfo) => {\n                  clueInfo.correct = true;\n                });\n              });\n            })\n          );\n\n          // trigger onLoadedCorrect with every clue!\n          if (onLoadedCorrect) {\n            const loadedCorrect = [];\n            bothDirections.forEach((direction) => {\n              Object.entries(data[direction]).forEach(([number, info]) => {\n                loadedCorrect.push([direction, number, info.answer]);\n              });\n            });\n\n            onLoadedCorrect(loadedCorrect);\n          }\n        },\n\n        /**\n         * Fills all the answers in the grid and calls the `onLoadedCorrect`\n         * callback with _**every**_ answer.\n         */\n        fillAllAnswers: () => {\n          setGridData(\n            produce((draft) => {\n              draft.forEach((rowData) => {\n                rowData.forEach((cellData) => {\n                  if (cellData.used) {\n                    cellData.guess = cellData.answer;\n                  }\n                });\n              });\n            })\n          );\n\n          setClues(\n            produce((draft) => {\n              bothDirections.forEach((direction) => {\n                draft[direction].forEach((clueInfo) => {\n                  clueInfo.correct = true;\n                });\n              });\n            })\n          );\n\n          // trigger onLoadedCorrect with every clue!\n          if (onLoadedCorrect) {\n            const loadedCorrect = [];\n            bothDirections.forEach((direction) => {\n              Object.entries(data[direction]).forEach(([number, info]) => {\n                loadedCorrect.push([direction, number, info.answer]);\n              });\n            });\n\n            onLoadedCorrect(loadedCorrect);\n          }\n        },\n\n        /**\n         * Returns whether the crossword is entirely correct or not.\n         *\n         * @since 2.2.0\n         */\n        isCrosswordCorrect: () => {\n          return crosswordCorrect;\n        },\n      }),\n      [data, onLoadedCorrect, useStorage, focus, crosswordCorrect]\n    );\n\n    // constants for rendering...\n\n    // We have several properties that we bundle together as context for the\n    // cells, rather than have them as independent properties.  (Or should they\n    // stay separate? Or be passed as \"spread\" values?)\n    const cellSize = 100 / size;\n    const cellPadding = 0.125;\n    const cellInner = cellSize - cellPadding * 2;\n    const cellHalf = cellSize / 2;\n    const fontSize = cellInner * 0.7;\n\n    const context = {\n      focused,\n      selectedDirection: currentDirection,\n      selectedNumber: currentNumber,\n      onClueSelected: handleClueSelected,\n    };\n\n    // The final theme is the merger of three values: the \"theme\" property\n    // passed to the component (which takes precedence), any values from\n    // ThemeContext, and finally the \"defaultTheme\" values fill in for any\n    // needed ones that are missing.  (We create this in standard last-one-wins\n    // order in Javascript, of course.)\n    const finalTheme = { ...defaultTheme, ...contextTheme, ...theme };\n\n    // REVIEW: do we want to recalc this all the time, or cache in state?\n    const cells = [];\n    if (gridData) {\n      gridData.forEach((rowData, row) => {\n        rowData.forEach((cellData, col) => {\n          if (!cellData.used) {\n            return;\n          }\n          cells.push(\n            <Cell\n              // eslint-disable-next-line react/no-array-index-key\n              key={`R${row}C${col}`}\n              cellData={cellData}\n              focus={focused && row === focusedRow && col === focusedCol}\n              highlight={\n                focused &&\n                currentNumber &&\n                cellData[currentDirection] === currentNumber\n              }\n              onClick={handleCellClick}\n            />\n          );\n        });\n      });\n    }\n\n    return (\n      <CrosswordContext.Provider value={context}>\n        <CrosswordSizeContext.Provider\n          value={{ cellSize, cellPadding, cellInner, cellHalf, fontSize }}\n        >\n          <ThemeProvider theme={finalTheme}>\n            <OuterWrapper correct={crosswordCorrect}>\n              <GridWrapper>\n                {/*\n                This div is hard-coded because we *need* a zero-padded,\n                relative-positioned element for aligning the <input> with the\n                cells in the <svg>.\n              */}\n                <div style={{ margin: 0, padding: 0, position: 'relative' }}>\n                  <svg viewBox=\"0 0 100 100\">\n                    <rect\n                      x={0}\n                      y={0}\n                      width={100}\n                      height={100}\n                      fill={finalTheme.gridBackground}\n                    />\n                    {cells}\n                  </svg>\n                  <input\n                    ref={inputRef}\n                    aria-label=\"crossword-input\"\n                    type=\"text\"\n                    onClick={handleInputClick}\n                    onKeyDown={handleInputKeyDown}\n                    onChange={handleInputChange}\n                    value=\"\"\n                    // onInput={this.handleInput}\n                    autoComplete=\"off\"\n                    spellCheck=\"false\"\n                    autoCorrect=\"off\"\n                    style={{\n                      position: 'absolute',\n                      // In order to ensure the top/left positioning makes sense,\n                      // there is an absolutely-positioned <div> with no\n                      // margin/padding that we *don't* expose to consumers.  This\n                      // keeps the math much more reliable.  (But we're still\n                      // seeing a slight vertical deviation towards the bottom of\n                      // the grid!  The \"* 0.995\" seems to help.)\n                      top: `calc(${focusedRow * cellSize * 0.995}% + 2px)`,\n                      left: `calc(${focusedCol * cellSize}% + 2px)`,\n                      width: `calc(${cellSize}% - 4px)`,\n                      height: `calc(${cellSize}% - 4px)`,\n                      fontSize: `${fontSize * 6}px`, // waaay too small...?\n                      textAlign: 'center',\n                      textAnchor: 'middle',\n                      backgroundColor: 'transparent',\n                      caretColor: 'transparent',\n                      margin: 0,\n                      padding: 0,\n                      border: 0,\n                      cursor: 'default',\n                    }}\n                  />\n                </div>\n              </GridWrapper>\n              <CluesWrapper>\n                {clues &&\n                  bothDirections.map((direction) => (\n                    <DirectionClues\n                      key={direction}\n                      direction={direction}\n                      clues={clues[direction]}\n                    />\n                  ))}\n              </CluesWrapper>\n                <br/>  <br/>  <br/>\n                 <br/>  <br/>  <br/>\n              \n            </OuterWrapper>\n          </ThemeProvider>\n        </CrosswordSizeContext.Provider>\n      </CrosswordContext.Provider>\n    );\n  }\n);\n\nCrossword.displayName = 'Crossword';\n\nconst clueShape = PropTypes.shape({\n  clue: PropTypes.string.isRequired,\n  answer: PropTypes.string.isRequired,\n  row: PropTypes.number.isRequired,\n  col: PropTypes.number.isRequired,\n});\n\nCrossword.propTypes = {\n  /** clue/answer data; see <a href=\"#cluedata-format\">Clue/data format</a> for details. */\n  data: PropTypes.shape({\n    /** \"across\" clues and answers */\n    across: PropTypes.objectOf(clueShape),\n    /** \"down\" clues and answers */\n    down: PropTypes.objectOf(clueShape),\n  }).isRequired,\n\n  /** presentation values for the crossword; these override any values coming from a parent ThemeProvider context. */\n  theme: PropTypes.shape({\n    /** browser-width at which the clues go from showing beneath the grid to showing beside the grid */\n    columnBreakpoint: PropTypes.string,\n\n    /** overall background color (fill) for the crossword grid; can be `'transparent'` to show through a page background image */\n    gridBackground: PropTypes.string,\n    /**  background for an answer cell */\n    cellBackground: PropTypes.string,\n    /** border for an answer cell */\n    cellBorder: PropTypes.string,\n    /** color for answer text (entered by the player) */\n    textColor: PropTypes.string,\n    /** color for the across/down numbers in the grid */\n    numberColor: PropTypes.string,\n    /** background color for the cell with focus, the one that the player is typing into */\n    focusBackground: PropTypes.string,\n    /** background color for the cells in the answer the player is working on,\n     * helps indicate in which direction focus will be moving; also used as a\n     * background on the active clue  */\n    highlightBackground: PropTypes.string,\n  }),\n\n  /** whether to use browser storage to persist the player's work-in-progress */\n  useStorage: PropTypes.bool,\n\n  /** callback function that fires when a player answers a clue correctly; called with `(direction, number, answer)` arguments, where `direction` is `'across'` or `'down'`, `number` is the clue number as text (like `'1'`), and `answer` is the answer itself */\n  onCorrect: PropTypes.func,\n  /** callback function that's called when a crossword is loaded, to batch up correct answers loaded from storage; passed an array of the same values that `onCorrect` would recieve */\n  onLoadedCorrect: PropTypes.func,\n  /** callback function that's called when the overall crossword is completely correct (or not) */\n  onCrosswordCorrect: PropTypes.func,\n\n  /**\n   *  callback function called when a cell changes (e.g. when the user types a\n   *  letter); called with `(row, col, char)` arguments, where the `row` and\n   *  `column` are the 0-based position of the cell, and `char` is the character\n   *  typed (already massaged into upper-case)\n   *\n   *  @since 2.1.0\n   */\n  onCellChange: PropTypes.func,\n};\n\nCrossword.defaultProps = {\n  theme: null,\n  useStorage: true,\n  // useStorage: false,\n  onCorrect: null,\n  onLoadedCorrect: null,\n  onCrosswordCorrect: null,\n  onCellChange: null,\n};\n\nexport default Crossword;\n","// We re-export ThemeProvider from styled-components so that consumers don't\n// have to pull it in explicitly if we are the only reason.  (This also helps\n// with our style guide!)\nimport { ThemeProvider } from 'styled-components';\n\nimport Cell from './Cell';\nimport Clue from './Clue';\nimport DirectionClues from './DirectionClues';\nimport Crossword from './Crossword';\nimport { CrosswordContext, CrosswordSizeContext } from './context';\n\nexport {\n  Cell,\n  Clue,\n  DirectionClues,\n  CrosswordContext,\n  CrosswordSizeContext,\n  Crossword,\n  ThemeProvider,\n};\n\nexport default Crossword;\n","import React from \"react\";\nimport {Component} from 'react';\nimport { Button } from \"react-bootstrap\";\nimport { BrowserRouter as Router, Link, Redirect } from \"react-router-dom\";\n//import Crossword from '@jaredreisinger/react-crossword';\nimport Crossword from './crossword'\nimport  { useCallback, useRef, useState } from 'react';\n\nconst data = {\n  across: {},\n  down: {}\n}\n\nconst ddata = {\n  across: {\n    1: {\n      clue: 'capital of australia',\n      answer: 'canberra',\n      row: 0,\n      col: 0,\n    },\n    2: {\n        clue: 'capital of el salvador',\n        answer: 'sansalvador',\n        row: 2,\n        col: 1,\n    },\n    3: {\n        clue: 'capital of ecuador',\n        answer: 'quito',\n        row: 5,\n        col: 6,\n    },\n    4: {\n        clue: 'capital of iraq',\n        answer: 'baghdad',\n        row: 7,\n        col: 0,\n    },\n    5: {\n        clue: 'capital of portugal',\n        answer: 'lisbon',\n        row: 9,\n        col: 4,\n    },\n    6: {\n        clue: 'capital of vietnam',\n        answer: 'hanoi',\n        row: 10,\n        col: 0,\n    }\n  },\n  down: {\n    1: {\n      clue: 'capital of the netherlands',\n      answer: 'amsterdam',\n      row: 0,\n      col: 1,\n    },\n    2: {\n      clue: 'capital of thailand',\n      answer: 'bangkok',\n      row: 0,\n      col: 3,\n    },\n    3: {\n      clue: 'capital of liechtenstein',\n      answer: 'vaduz',\n      row: 2,\n      col: 7,\n    },\n    4: {\n      clue: 'capital of russia',\n      answer: 'moscow',\n      row: 1,\n      col: 10,\n    },\n    5: {\n      clue: 'capital of east timor',\n      answer: 'dili',\n      row: 7,\n      col: 4,\n    }\n  },\n}\n    \nexport default class CrosswordComponent extends Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {_id:'',title:'',data:data, forcereload: 0}\n      this.onCorrect = this.onCorrect.bind(this)\n      this.onLoadedCorrect = this.onLoadedCorrect.bind(this)\n      this.onCrosswordCorrect = this.onCrosswordCorrect.bind(this)\n      this.onCellChange = this.onCellChange.bind(this)\n      this.loadCrossword = this.loadCrossword.bind(this)\n    }\n    \n    componentDidMount() {\n        let that = this;\n        console.log(['ATUPmnt',this.props.match])\n        // wait for config to load\n         setTimeout(function() {console.log('TRIGGER') ; that.setState({forcereload:23})},500)\n\t}\n    \n    componentDidUpdate(props,state) {\n        console.log(['ATUPDATE'])\n        console.log(state.forcereload)\n        console.log(this.state.forcereload)\n        console.log(props.api.connected)\n        console.log(this.props.api.connected)\n        //console.log(this.props.match.params.id)\n        if (props.hermodClient.connected != props.hermodClient.connected || this.state.forcereload != state.forcereload) { // || (this.props.match && this.props.match.params && this.state._id.length > 0 && this.props.match.params.id != this.state._id)) {\n\t\t//\tthis.loadSubscribers();\n        console.log(['ATUPDATErea'])\n\t\t\tthis.loadCrossword();\n\t\t}\n\t\t\n\t\n    }\n    \n    //fillCrossword(e) {\n        ////for (var column in this.state.data) {\n            ////console.log(this.state.data[column])\n            ////for (var row in this.state.data[column]) {\n                ////console.log(this.state.data[column][row])\n            ////}\n        ////}\n        //if (this.props.crosswordRef.current) this.props.crosswordRef.current.fillAnswer('across','1','canberra');\n        \n    //}\n    \n    onCorrect(e) {\n        console.log('oncorrect')\n    }\n    onLoadedCorrect(e) {\n        console.log('loadedcorrect')\n    }\n    onCrosswordCorrect(e) {\n        console.log('crosswordcorrect')\n    }\n    onCellChange(e) {\n        console.log('cellchange')\n    }\n    \n     loadCrossword() {\n         console.log('LOADCW')\n         let that = this\n        \n        var stash = {}\n        try {\n            if (localStorage.getItem('crosswords')) {\n                stash = JSON.parse(localStorage.getItem('crosswords'));\n            }\n        } catch(e) {\n            \n        }\n        console.log(this.props)            \n        console.log('SEARCHcw')\n        that.setState({_id:'',data:null, title:''})\n        if (this.props.match && this.props.match.params && this.props.match.params.id && this.props.match.params.id.length > 0)  {\n            console.log('SEARCHcwISD'+this.props.match.params.id)\n            if (stash.hasOwnProperty(this.props.match.params.id))  {\n               that.setState(stash[this.props.match.params.id]) \n            } else {\n                if (this.props.startWaiting) this.props.startWaiting()\n                console.log(this.props.hermodClient)\n                if (this.props.hermodClient && this.props.hermodClient.config && this.props.hermodClient.config.site) { \n                    fetch('/api/crossword?id='+this.props.match.params.id+\"&site=\"+ this.props.hermodClient.config.site)\n                    .then(function(response) {\n                        //console.log(response.text())\n                        return response.json()\n                    }).then(function(crossword) {\n                         console.log('LOADED CW******************************')\n                        console.log(crossword)\n                        var saveMe = {_id:crossword._id,data:crossword.data, title:crossword.title, author:crossword.author, copyright:crossword.copyright ? crossword.copyright.replace(/[^\\w\\s!?]/g,'') : '', copyright_link:crossword.copyright_link, link:crossword.link}\n                        stash[crossword._id] = saveMe\n                        localStorage.setItem('crosswords',JSON.stringify(stash))\n                        that.setState(saveMe)\n                    }).finally(function() {\n                        if (that.props.stopWaiting) that.props.stopWaiting()  \n                    })\n                }\n            }\n            console.log(['SENDMESSAGE',that.props,that.props.api,that.props.site,{slots:[{crossword:that.props.match.params.id}]}])\n            if (that.props.api && that.props.api.client) {\n                that.props.api.client.sendMessage(\n                'hermod/'+that.props.site+'/rasa/set_slots'\n                ,{slots:[{slot:'crossword',value:that.props.match.params.id}]}\n                )\n            }\n        }\n    }\n    \n    render() {\n        let that = this;\n        if (this.props.match.params.id) { \n          return (\n            <div className=\"componentd dfirst-component\" style={{ width:'100%'}}>\n                <div className=\"acontent-block\" style={{ width:'100%'}}>\n                {that.state.link && <a style={{  float:'left' ,marginLeft:'0.2em'}} target=\"_new\" href={that.state.link}><Button>Download</Button></a>}\n                \n                <Link style={{float:'right', marginRight:'0.2em'}}  to=\"/crosswords\"><Button variant=\"success\">Start a new crossword</Button></Link>\n                <h3 style={{ clear:'both', marginRight:'0.2em', width:'100%'}}>{that.state.title} </h3>\n                <div>\n                </div>   \n                {that.state.copyright &&  \n                    <span>\n                        {that.state.author &&  <span> by {that.state.author}</span>} \n                        <span> &copy; <a target=\"_new\"  href={this.state.copyright_link}>{that.state.copyright}</a></span>\n                    </span>\n                }\n                \n\n                {!that.state.copyright &&  \n                    <span>\n                        {that.state.author &&  <span> by <a target=\"_new\" href={this.state.copyright_link}>{that.state.author}></a></span>} \n                    </span>\n                }\n                \n\n {(that.state.data && that.props.hermodClient.connected) && <div style={{zIndex:1}} ><Crossword   data={that.state.data} \n                      storageKey={'guesses_'+this.props.match.params.id} \n                      ref={that.props.crosswordRef}\n                      onCorrect={that.onCorrect}\n                      onLoadedCorrect={that.onLoadedCorrect}\n                      onCrosswordCorrect={that.onCrosswordCorrect}\n                      onCellChange={that.onCellChange}\n                    /></div>}\n                </div>\n            </div>\n          )\n      } else {\n          return <Redirect to='/crosswords' />\n      }\n    }\n     \n}\n//onCorrect={that.onCorrect}\n                  //onLoadedCorrect={that.onLoadedCorrect}\n                  //onCrosswordCorrect={that.onCrosswordCorrect}\n                  //onCellChange={that.onCellChange}\n\n //across: {\n    //1: {\n      //clue: 'capital of australia',\n      //answer: 'canberra',\n      //row: 0,\n      //col: 0,\n    //},\n    //2: {\n        //clue: 'capital of el salvador',\n        //answer: 'sansalvador',\n        //row: 2,\n        //col: 1,\n    //},\n    //3: {\n        //clue: 'capital of ecuador',\n        //answer: 'quito',\n        //row: 5,\n        //col: 6,\n    //},\n    //4: {\n        //clue: 'capital of iraq',\n        //answer: 'baghdad',\n        //row: 7,\n        //col: 0,\n    //},\n    //5: {\n        //clue: 'capital of portugal',\n        //answer: 'lisbon',\n        //row: 9,\n        //col: 4,\n    //},\n    //6: {\n        //clue: 'capital of vietnam',\n        //answer: 'hanoi',\n        //row: 10,\n        //col: 0,\n    //}\n  //},\n  //down: {\n    //1: {\n      //clue: 'capital of the netherlands',\n      //answer: 'amsterdam',\n      //row: 0,\n      //col: 1,\n    //},\n    //2: {\n      //clue: 'capital of thailand',\n      //answer: 'bangkok',\n      //row: 0,\n      //col: 1,\n    //},\n    //3: {\n      //clue: 'capital of liechtenstein',\n      //answer: 'vaduz',\n      //row: 0,\n      //col: 1,\n    //},\n    //4: {\n      //clue: 'capital of russia',\n      //answer: 'moscow',\n      //row: 0,\n      //col: 1,\n    //},\n    //5: {\n      //clue: 'capital of east timor',\n      //answer: 'dili',\n      //row: 0,\n      //col: 1,\n    //}\n  //},\n","import React from 'react';\nimport {Component} from 'react';\nimport waitingIcon from './images/waiting_small.gif'\n\nexport default class MicrophoneComponent extends Component {\n     //constructor(props) {\n      //super(props);\n      ////let that = this;\n    //}\n    //const buttonStyle={}\n    //const micOffIcon =  <svg style={buttonStyle}  aria-hidden=\"true\" data-prefix=\"fas\" data-icon=\"microphone\" className=\"svg-inline--fa fa-microphone fa-w-11\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 352 512\"><path fill=\"currentColor\" d=\"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z\"></path></svg>\n\n    //const micOnIcon = <svg style={buttonStyle}  aria-hidden=\"true\" data-prefix=\"fas\" data-icon=\"microphone-slash\" className=\"svg-inline--fa fa-microphone-slash fa-w-20\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 640 512\"><path fill=\"currentColor\" d=\"M633.82 458.1l-157.8-121.96C488.61 312.13 496 285.01 496 256v-48c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v48c0 17.92-3.96 34.8-10.72 50.2l-26.55-20.52c3.1-9.4 5.28-19.22 5.28-29.67V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v45.36L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.36 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.41-6.97 4.16-17.02-2.82-22.45zM400 464h-56v-33.77c11.66-1.6 22.85-4.54 33.67-8.31l-50.11-38.73c-6.71.4-13.41.87-20.35.2-55.85-5.45-98.74-48.63-111.18-101.85L144 241.31v6.85c0 89.64 63.97 169.55 152 181.69V464h-56c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16z\"></path></svg>\n    \n    //le\n    //<button  id='microphone_button'   onClick=onClick() style=\"position: fixed; top: 0.5em; right: 0.5em; font-size: 1.2em; background-color:grey; border: 2px solid black; border-radius: 2em; height: 4em; width: 4em; text-decoration: none; outline: none\">\n        //<div style=\"position: relative\">\n        //<img id=\"waiting-overlay\" src=\"/waiting_small.gif\" style=\"display: none; position: fixed;  top: 0.8em; right: 0.8em; height: 3.2em; opacity: 0.2; z-index: 50\" />\n            //<svg aria-hidden=\"true\" style=\"position: fixed; top: 14px; right: 14px; height: 2.7em; width: 2.7em; padding: 0.3em; z-index: 60\"  focusable=\"false\" data-prefix=\"fas\" data-icon=\"microphone\" class=\"svg-inline--fa fa-microphone fa-w-11\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 352 512\"><path fill=\"currentColor\" d=\"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z\"></path></svg>\n            //<!--img style=\"height: 2em; width: 2em; padding: 0.4em\" src='microphone-slash-solid.svg' /-->\n        //<div>\n    //</button>\n    \n    //&& this.props.hermodClient.hotwordReady\n    render() {\n        var borderColor = ''\n        var backgroundColor = ''\n        console.log(['MIC',this.props.hermodClient.isPlaying,this.props.hermodClient.microphoneState])\n        if (this.props.hermodClient.isPlaying) { \n            borderColor = 'green'\n            backgroundColor = 'lightblue'\n        } else {\n            borderColor = 'black'\n            backgroundColor = 'grey'\n            if (parseInt(this.props.hermodClient.microphoneState) === 1) {\n                borderColor = 'green'\n                backgroundColor = 'grey'\n            } else if (parseInt(this.props.hermodClient.microphoneState) === 2 ) {\n                borderColor = 'red'\n                backgroundColor = 'pink'\n            } else if (parseInt(this.props.hermodClient.microphoneState) === 3) {\n                borderColor = 'green'\n                backgroundColor = 'green'\n            }\n        }\n\n        const micStyle = {position: \"fixed\", top:'0.9em', right:'0.9em', height:\"3.1em\", width:\"3.1em\", padding:\"0.3em\", zIndex: 60}\n        const buttonStyle = {\n            position: \"fixed\",\n            top: \"0.5em\",\n            right: \"0.5em\",\n            fontSize: \"1.2em\",\n            backgroundColor:backgroundColor,\n            border: \"2px solid \"+borderColor,\n            borderRadius: \"2em\",\n            height: \"4em\",\n            width: \"4em\",\n            textDecoration: \"none\",\n            outline: \"none\"\n        }\n        const waitingOverlayStyle = {\n            position: \"fixed\",\n            top: \"0.8em\", \n            right: \"0.8em\", \n            height: \"3.2em\", \n            opacity: 0.2, \n            zIndex: 50\n        }\n\n        const micImage = <svg   style={micStyle}  aria-hidden=\"true\" id=\"micImage\"  focusable=\"false\" data-prefix=\"fas\" data-icon=\"microphone\" className=\"microphoneImage\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 352 512\"><path fill=\"currentColor\" d=\"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z\"></path></svg>   \n        return (\n            <button  id='microphoneButton' onClick={this.props.toggleMicrophone}  style={buttonStyle} >\n              <div>\n                    {this.props.hermodClient.isWaiting && <img style={waitingOverlayStyle} alt=\"microphone\" id=\"waitingOverlay\" src={waitingIcon}  />}\n                    {micImage}\n                    \n                </div>\n            </button>\n        );\n        }\n}\n//<svg aria-hidden=\"true\" style=\"position: fixed; top: 14px; right: 14px; height: 2.7em; width: 2.7em; padding: 0.3em; z-index: 60\"  focusable=\"false\" data-prefix=\"fas\" data-icon=\"microphone\" class=\"svg-inline--fa fa-microphone fa-w-11\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 352 512\"><path fill=\"currentColor\" d=\"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z\"></path></svg>\n            \n\n//{JSON.stringify(this.props.hermodClient)}       \n            \n","import React from 'react';\nimport {Component} from 'react';\n//import { BrowserRouter as Router, Link } from \"react-router-dom\";\n\nexport default class SpeechBubbleComponent extends Component {\n    \n    render() {\n      let that = this;\n\n     const wrapStyle = {\n            position: \"fixed\",\n            top: \"4em\",\n            right: \"8em\",\n            minWidth: \"15em\",\n            zIndex:99\n      }\n      \n      const bubbleStyle = {\n        position: \"relative\",\n        background: \"#38cedc\",\n        borderRadius: \".4em\",\n        minHeight: \"3em\",\n        width: \"100%\",\n        padding: \"0.5em\",\n        textDecoration: \"none\",\n        textAlign:\"left\"\n      }\n      \n      var visible = false\n      if (that.props.hermodClient.transcript  && that.props.hermodClient.transcript.length > 0) {\n          visible = true;\n      }\n         \n      return (\n        <div style={wrapStyle} className=\"speechBubbleComponent\">\n         {visible &&   <div  style={bubbleStyle} id=\"speechbubble\" className=\"speech-bubble\">\n             <div style={{fontWeight: 'bold'}} >{that.props.hermodClient.transcript}</div>\n             {that.props.hermodClient.say && <div>{that.props.hermodClient.say}</div>}\n             </div>}\n        </div>\n      );\n    }\n}\n\n//{that.props.hermodClient.nlu && <div><i>{that.props.hermodClient.nlu}</i></div>}\n             \n","import React from 'react';\nimport './App.css';\nimport { Button } from \"react-bootstrap\";\n\n//document.getElementById('dynamicbuttons').style.display='block'\n    //buttonsList = document.createElement('span')\n    //buttonsList.id = 'dynamicbuttons'\n    //for (var i = 0; i< buttons.length; i++) {\n        //button = document.createElement('button')\n        //button.innerText = buttons[i].label ? buttons[i].label : 'Missing Label'\n        ////console.log('loop button')\n        ////console.log(buttons[i])\n        //function appendbutton(thebutton,buttonsList) {\n            //if (thebutton.text) {\n                //button.onclick=function() {client.sendASRTextMessage(config.site,thebutton.text)}\n            //} else if (thebutton.nlu) {\n                //button.onclick=function() {client.sendNLUMessage(config.site,thebutton.nlu)}\n            //} else if (thebutton.url) {\n                //button.onclick=function() {showUrl(thebutton.url)}\n            //} else if (thebutton.frame) {\n                //button.onclick=function() {showFrame(thebutton.frame)}\n            //}\n            //button.className='btn'\n            //buttonsList.append(button)\n        //}\n        //appendbutton(buttons[i],buttonsList)\n    //}\n\nfunction SuggestionButtonsComponent(props) {\n    //console.log(props)\n    var renderedButtons = []\n    var i = 0;\n    const sendMessage = function(e) {\n         props.sendMessage(e.target.getAttribute('data-message'))\n    }\n    const showFrame = function(e) {\n        props.showFrame(e.target.getAttribute('data-frame'))\n    }\n    const showWindow = function(e) {\n        props.showWindow(e.target.getAttribute('data-url'))\n    }\n    \n    for (i in props.buttons) {\n       if (props.buttons[i].text) {\n           renderedButtons.push(<Button key={i} variant=\"primary\" data-message={props.buttons[i].text} onClick={sendMessage} >{props.buttons[i].label ? props.buttons[i].label : props.buttons[i].text}</Button>)                    //button.onclick=function() {client.sendASRTextMessage(config.site,thebutton.text)}\n       } else if (props.buttons[i].frame) {\n           renderedButtons.push(<Button key={i} variant=\"primary\" data-frame={props.buttons[i].frame} onClick={showFrame} >{props.buttons[i].label}</Button>)\n       } else if (props.buttons[i].url) {\n           renderedButtons.push(<Button key={i} variant=\"primary\" data-url={props.buttons[i].url} onClick={showWindow} >{props.buttons[i].label}</Button>)\n       } \n    }\n    \n  return (\n     <span style={{float: \"left\", marginRight: \"0.5em\", padding: \"0.5em\"}} className=\"dynamicButtons\" id=\"dynamicButtons\" >\n                {renderedButtons}\n    </span>\n    \n  );\n}\n\nexport default SuggestionButtonsComponent;\n","    import React from \"react\";\n    import {Component} from 'react';\n\n    import { Button, Dropdown, ButtonGroup } from \"react-bootstrap\";\n      \n    export default class NluFixerComponent extends Component {\n\n       constructor(props) {\n          super(props);\n          this.getPrettyIntentName = this.getPrettyIntentName.bind(this)\n          this.onIntentChanged = this.onIntentChanged.bind(this)\n          this.onEntityChanged = this.onEntityChanged.bind(this)\n          this.onEntityClicked = this.onEntityClicked.bind(this)\n          this.sendForm = this.sendForm.bind(this)\n          this.sendFormQuestion = this.sendFormQuestion.bind(this)\n          this.onQuestionSelect = this.onQuestionSelect.bind(this)\n          this.onQuestionBlur = this.onQuestionBlur.bind(this)\n          this.onQuestionFocus = this.onQuestionFocus.bind(this)\n          this.onQuestionKeyup = this.onQuestionKeyup.bind(this)\n          this.getQuestionSelection = this.getQuestionSelection.bind(this)\n          this.getQuestionSelectionRange = this.getQuestionSelectionRange.bind(this)\n          this.newEntity = this.newEntity.bind(this)\n          this.addOrUpdateEntityValue = this.addOrUpdateEntityValue.bind(this)\n          this.addOrUpdateEntityType = this.addOrUpdateEntityType.bind(this)\n          this.onEntityDeleted = this.onEntityDeleted.bind(this)\n          this.setQuestionSelection = this.setQuestionSelection.bind(this)\n          this.onEntityListExpanded = this.onEntityListExpanded.bind(this)\n          this.allowIntent = this.allowIntent.bind(this)\n          this.canShowEntity = this.canShowEntity.bind(this)\n          \n          this.questionInput =  React.createRef();\n          \n          \n          this.state={selection:'',selectionRange:[0,0]}\n          this.keyupTimeout = null;\n          console.log('NLUFIXER')\n          console.log(props.api)\n          this.state={changed: false, questionIsFocussed: false, showAddButton:false}\n        }\n        \n        getPrettyIntentName(intentName) {\n            if (this.props.intentNames && this.props.intentNames.hasOwnProperty(intentName) &&  this.props.intentNames[intentName].length > 0) {\n                return this.props.intentNames[intentName]\n            } else {\n                return intentName\n            }\n        }\n        \n        getPrettyEntityName(entityName) {\n            if (this.props.entityNames && this.props.entityNames.hasOwnProperty(entityName) &&  this.props.entityNames[entityName].length > 0) {\n                return this.props.entityNames[entityName]\n            } else {\n                return entityName\n            }\n        }\n        \n        onIntentChanged(e) {\n            var nlu = JSON.parse(this.props.hermodClient.nlu_json_original);\n            console.log(['ON INTENT CHANGED',e.target.attributes.value.textContent,nlu])\n            nlu.intent.name = e.target.attributes.value.textContent\n            //console.log(['ON INTENT CHANGED',nlu])\n            this.props.api.setNluJson(nlu)\n            this.setState({changed:true})\n        }\n        \n        onEntityClicked(e) {\n            console.log(['ON ENTITY CLICKED',e.target.attributes.value.textContent])\n            if (this.state.selection) {     \n                this.addOrUpdateEntityValue(e.target.attributes.value.textContent,this.state.selection)\n            } else {\n                this.setQuestionSelection(e.target.attributes.start.textContent,e.target.attributes.end.textContent)\n            }\n        }\n        \n        onEntityListExpanded(e) {\n            if (this.state.selection) {     \n                this.addOrUpdateEntityValue(e.target.attributes.value.textContent,this.state.selection)\n            }\n        }\n        \n            \n        onEntityChanged(e) {\n            console.log(['ON ENTITY CHANGED',this,e])\n            console.log(['ON ENTITY CHANGED',e.target.attributes.value.textContent,e.target.attributes.oldvalue.textContent])\n            this.addOrUpdateEntityType(e.target.attributes.oldvalue.textContent,e.target.attributes.value.textContent,this.state.selection)\n        }\n\n        onEntityDeleted(e) {\n            console.log(['ON ENTITY DEL',e.target]) //.attributes.value.textContent])\n            if (e.target.attributes.value && e.target.attributes.value.textContent) { \n                var entity = e.target.attributes.value.textContent\n                var nlu = this.props.hermodClient.nlu_json;\n                var entities = this.props.hermodClient.nlu_json.entities;\n                var newEntities=[]\n                for (var i in entities) {\n                    if (entities[i].entity != entity) {\n                        newEntities.push(entities[i])\n                    }\n                }\n                //nlu.intent.name = e.target.value\n                console.log(['ON INTENT del',newEntities])\n                nlu.entities = newEntities;\n                this.props.api.setNluJson(nlu)\n                this.setState({changed:true,selection:'',selectionRange:[0,0]})\n            }\n        }\n        \n        \n        addOrUpdateEntityType(entity,newEntity,value) {\n            console.log('ADDOR UPDATE ENTITY type')\n            console.log([entity,newEntity,value])\n            var nlu = this.props.hermodClient.nlu_json;\n            var entities = this.props.hermodClient.nlu_json.entities;\n            //var newEntities=[]\n            var found = false\n            for (var i in entities) {\n                if (entities[i].entity == entity) {\n                    //newEntities.push(entities[i].entity)\n                    found = true\n                    entities[i].entity = newEntity\n                    if (value) entities[i].value = value\n                }\n            }\n            if (!found) {\n                var range = this.state.selectionRange;\n                entities.push({entity:newEntity,start:range[0],end:range[1],value:this.state.selection})\n            }\n            //nlu.intent.name = e.target.value\n            console.log(['ON INTENT CHANGED',entities])\n            nlu.entities = entities;\n            this.props.api.setNluJson(nlu)\n            this.setState({changed:true,selection:'',selectionRange:[0,0],showAddButton:false})\n        }\n        \n        addOrUpdateEntityValue(entity,value) {\n            console.log('ADDOR UPDATE ENTITY')\n            console.log([entity,value])\n            if (value) {\n                var nlu = this.props.hermodClient.nlu_json;\n                var entities = this.props.hermodClient.nlu_json.entities;\n                //var newEntities=[]\n                var found = false\n                for (var i in entities) {\n                    if (entities[i].entity == entity) {\n                        //newEntities.push(entities[i].entity)\n                        found = true\n                        entities[i].value = value\n                    }\n                }\n                if (!found) {\n                    var range = this.state.selectionRange;\n                    entities.push({entity:entity,start:range[0],end:range[1],value:this.state.selection})\n                }\n                //nlu.intent.name = e.target.value\n                console.log(['ON INTENT CHANGED',entities])\n                nlu.entities = entities;\n                this.props.api.setNluJson(nlu)\n                this.setState({changed:true,selection:'',selectionRange:[0,0],showAddButton:false})\n            }\n        }\n        \n        \n        newEntity(event) {\n            let that = this;\n            console.log('NEWENTITY')\n             if (event.target.attributes.value && event.target.attributes.value.textContent) { \n                var entity = event.target.attributes.value.textContent\n                console.log(entity)\n                var nlu = this.props.hermodClient.nlu_json;\n                var entities = this.props.hermodClient.nlu_json.entities;\n                var newEntities=[]\n                for (var i in entities) {\n                    if (entities[i].entity != entity) {\n                        newEntities.push(entities[i])\n                    }\n                }\n                var range = this.state.selectionRange;\n                newEntities.push({entity:entity,start:range[0],end:range[1],value:this.state.selection})\n                //nlu.intent.name = e.target.value\n                console.log(['ON INTENT CHANGED',newEntities])\n                nlu.entities = newEntities;\n                this.props.api.setNluJson(nlu)\n                this.setState({changed:true,selection:'',selectionRange:[0,0]})\n            }\n        }\n       \n        allowIntent(intent) {\n            if (this.props.allowedIntents) {\n                if (intent in this.props.allowedIntents) {\n                    return true\n                } else {\n                    return false\n                }\n            } else {\n                return true\n            }\n        }\n        \n        canShowEntity(intent,entity) {\n            return true\n            console.log(['CANSHOW',intent,entity])\n            console.log(this.props.hermodClient.domain)\n            // build index\n            var intentIndex = {}\n            if (this.props.hermodClient.domain && this.props.hermodClient.domain.intents) {\n               for (var i in this.props.hermodClient.domain.intents) {\n                   var intentItems = this.props.hermodClient.domain.intents[i]\n                   var intentName = Object.keys(intentItems)[0]\n                   var intentData = intentItems[intentName]\n                   intentIndex[intentName]={}\n                   if (intentData.hasOwnProperty('use_entities')) {\n                       intentIndex[intentName].allow = intentData['use_entities']\n                   } else if (intentData.hasOwnProperty('ignore_entities'))  {\n                        intentIndex[intentName].deny = intentData['ignore_entities']\n                   }\n               }\n               console.log(intentIndex)\n               // now check\n               if (intentIndex.hasOwnProperty(intent) && (intentIndex[intent].deny || intentIndex[intent].allow)) {\n                   // have some form of restriction\n                    if (intentIndex.hasOwnProperty(intent) && (intentIndex[intent].deny)) {\n                       if (entity in  intentIndex[intent].deny) {\n                         console.log('exp deny')\n                         return false\n                       }\n                    }\n                    if (intentIndex.hasOwnProperty(intent) && (intentIndex[intent].allow)) {\n                        if (entity in  intentIndex[intent].allow) {\n                           console.log('exp allow')\n                           return true\n                        } else {\n                            console.log('allow not listed')\n                            return false\n                        }\n                    }\n                    // deny set but not in denied list\n                    return true\n               } else {\n                   // no restrictions set\n                   return true\n               } \n               \n            }\n        }\n     \n        render() {\n            let that = this;\n            //console.log('RENDER')\n            //console.log(this.props.hermodClient)\n            if (this.props.hermodClient) {\n            \n                 var parsedIntent = (this.props.hermodClient && this.props.hermodClient.nlu_json && this.props.hermodClient.nlu_json.intent && this.props.hermodClient.nlu_json.intent.name) ? this.props.hermodClient.nlu_json.intent.name : ''\n                  // {JSON.stringify(entities)}  \n                  // INTENTS\n                  \n                 \n                 \n                 var parsedEntities = (this.props.hermodClient && this.props.hermodClient.nlu_json && this.props.hermodClient.nlu_json.entities) ? this.props.hermodClient.nlu_json.entities : []\n                  //var entityKeys = []\n                  var entityIndex = {}\n                  for (var parsedEntity in parsedEntities) {\n                      //console.log(['PE',parsedEntities[parsedEntity]])\n                      //entityKeys.push(parsedEntities[parsedEntity].entity)\n                      entityIndex[parsedEntities[parsedEntity].entity] = parsedEntities[parsedEntity]\n                  }\n                  \n                  //console.log('PARSEDENTITIES')\n                  //console.log([parsedEntities,entityIndex])\n                 // AVAILABLE ENTITIES\n                  var entityOptions=[<option key={-1} value=\"\" ></option>]\n                  \n                  //console.log(['BUTTONS',buttons])\n                  var form = null\n                  \n                  if (that.props.hermodClient.question && this.props.hermodClient.domain && this.props.hermodClient.domain.entities){\n                      \n                      // RENDER INTENT PICKLIST\n                      var options=[<option key={-1} value=\"\" ></option>]\n                      // first options from nlu_json.intent_ranking in order\n                      var intentUsed={}\n                      for (var i in this.props.hermodClient.nlu_json.intent_ranking) {\n                          var ranking=this.props.hermodClient.nlu_json.intent_ranking[i]\n                          //console.log([i,ranking])\n                          var intentName = ranking.name\n                          options.push(<Dropdown.Item key={i} value={intentName} onClick={function(event) {that.onIntentChanged(event)}} >{this.getPrettyIntentName(intentName)}</Dropdown.Item>)\n                          //if (this.allowIntent(intentName)) options.push(<option key={i} value={intentName} >{this.getPrettyIntentName(intentName)}</option>)\n                          intentUsed[intentName] = true;\n                      }\n                    // remaining options\n                      for (var i in this.props.hermodClient.domain.intents) {\n                          var intent = this.props.hermodClient.domain.intents[i]\n                          var intentName = Object.keys(intent)[0]\n                          var intentUseSlots = intent[intentName]\n                          if (!intentUsed.hasOwnProperty(intentName)) {\n                                options.push(<Dropdown.Item key={i+this.props.hermodClient.domain.intents.length} value={intentName} onClick={function(event) {that.onIntentChanged(event)}} >{this.getPrettyIntentName(intentName)}</Dropdown.Item>)\n                                //if (this.allowIntent(intentName))  options.push(<option key={i+this.props.hermodClient.domain.intents.length} value={intentName} >{this.getPrettyIntentName(intentName)}</option>)\n                          }\n                      }\n                      \n                   \n                    \n                    // RENDER ENTITIES\n                      for (var i in this.props.hermodClient.domain.entities) {\n                          var entityName = this.props.hermodClient.domain.entities[i]\n                          //console.log([entityName])\n                          entityOptions.push(<Dropdown.Item key={i} value={entityName} onClick={function(event) {that.onEntityChanged(event)}} >{this.getPrettyEntityName(entityName)}</Dropdown.Item>)\n                      } \n                      \n                      var buttons=[]\n\n                      for (var i in this.props.hermodClient.domain.entities) {\n                        var entityName = this.props.hermodClient.domain.entities[i]\n                        var innerEntityOptions = []\n                        for (var j in this.props.hermodClient.domain.entities) {\n                              var entityNameInner = this.props.hermodClient.domain.entities[j]\n                              //console.log([entityNameInner])\n                              if (this.canShowEntity(parsedIntent,entityNameInner)) {\n                                  if (entityName !== entityNameInner) {\n                                    innerEntityOptions.push(<Dropdown.Item key={j} oldvalue={entityName} value={entityNameInner} onClick={function(event) {that.onEntityChanged(event)}} >{this.getPrettyEntityName(entityNameInner)}</Dropdown.Item>)    \n                                  } else {\n                                      innerEntityOptions.push(<Dropdown.Item style={{backgroundColor:'lightgrey',fontWeight:'bold'}} key={j} oldvalue={entityName} value={entityNameInner} onClick={function(event) {that.onEntityChanged(event)}} >{this.getPrettyEntityName(entityNameInner)}</Dropdown.Item>)    \n                                  }\n                              }\n                              \n                          } \n                          innerEntityOptions.push(<Dropdown.Divider key={j+1} />)\n                          innerEntityOptions.push(<Dropdown.Item key={j+2} ><Button value={entityName} onClick={function(event) {that.onEntityDeleted(event)}}  className=\"btn btn-danger\" >Delete</Button></Dropdown.Item>)\n                       \n                        if (entityIndex.hasOwnProperty(entityName)) {\n                              buttons.push(\n                              <Dropdown key={i}   style={{border: '1px solid #6a4077' ,marginLeft:'0.3em',backgroundColor:\"#c88eda\", zIndex:1}}  as={ButtonGroup}>\n\n                                  <Dropdown.Toggle split style={{marginLeft:'0.3em',backgroundColor:\"#c88eda\",border: 'none'}}  size=\"sm\"  id=\"dropdown-split-basic\" ></Dropdown.Toggle>\n                                  <Button onClick={function(event) {that.onEntityClicked(event)}} value={entityName} start={entityIndex[entityName].start} end={entityIndex[entityName].end} style={{marginLeft:'0.3em',backgroundColor:\"#c88eda\",border: 'none'}}  size=\"sm\" >{entityIndex[entityName].value}</Button>\n\n                                  <Dropdown.Menu>\n                                    {innerEntityOptions}\n                                  </Dropdown.Menu>\n                                </Dropdown>\n                             \n                             )\n                          }\n                      }\n                      var addEntityOptions=[]\n                        for (var i in this.props.hermodClient.domain.entities) {\n                              var entityNameInner = this.props.hermodClient.domain.entities[i]\n                              //console.log([entityNameInner])\n                              addEntityOptions.push(<Dropdown.Item key={i} oldvalue={entityName} value={entityNameInner} onClick={function(event) {that.newEntity(event)}} >&nbsp;{this.getPrettyEntityName(entityNameInner)}&nbsp;</Dropdown.Item>)\n                          } \n                          //<Button style={{backgroundColor:\"#6a4077\"}} className=\"btn\" size=\"sm\" ><select value={parsedIntent} onChange={that.onIntentChanged} >\n                            //{options}\n                            //</select></Button>\n    //                              <Dropdown.Toggle style={{marginLeft:'0.3em',backgroundColor:\"#c88eda\",border: 'none'}}  size=\"sm\" >&nbsp;+&nbsp;</Dropdown.Toggle>\n                      form = <form onSubmit={function() { return false} } style={{display:'inline'}}>\n                            {(parsedIntent) &&    <Dropdown key={i}   style={{clear:'both',border: '1px solid #6a4077' ,marginLeft:'0.3em',backgroundColor:\"#c88eda\"}}  as={ButtonGroup}>\n\n                          <Dropdown.Toggle split style={{marginLeft:'0.3em',backgroundColor:\"#c88eda\",border: 'none'}}  size=\"sm\"  id=\"dropdown-split-basic\" >{parsedIntent}</Dropdown.Toggle>\n                        \n                          <Dropdown.Menu>\n                            {options}\n                          </Dropdown.Menu>\n                        </Dropdown>\n                      \n                      }\n                            \n                           {buttons}\n                           {(this.state.showAddButton && this.state.selection) && <Dropdown  show={true} style={{border: '1px solid #6a4077' ,marginLeft:'0.3em',backgroundColor:\"#c88eda\", zIndex:1}}  as={ButtonGroup}>\n                            <Dropdown.Toggle split style={{marginLeft:'0.3em',backgroundColor:\"#c88eda\",border: 'none'}}  size=\"sm\"  id=\"dropdown-split-basic\" ></Dropdown.Toggle>\n                                  \n                                  <Dropdown.Menu>\n                                    {addEntityOptions}\n                                  </Dropdown.Menu>\n                                </Dropdown>\n                            }\n                          \n                          {that.state.changed && <Button onClick={that.sendForm} className='btn' size=\"sm\"  style={{marginLeft:'1em', backgroundColor:\"#82b77c\"}} >Try Again</Button>}\n                        </form>\n                  }\n                  return (\n                    <div style={{height:'1em', textAlign:'left'}} className=\"nluFixerComponent\">\n\n\n                        <div style={{marginLeft: \"0.5em\", marginRight: \"0.5em\", clear: \"both\" , width: \"90%\"}}  >\n                          <form style={{clear:'both'}} onSubmit={that.sendFormQuestion} ><input style={{clear:'both'}} ref={that.questionInput} onKeyUp={this.onQuestionKeyup} onFocus={this.onQuestionFocus} onBlur={this.onQuestionBlur} onSelect={this.onQuestionSelect} style={{fontSize: \"1.3em\" , width: \"100%\"}} id=\"text_input\" type='text' value={that.props.hermodClient.question} onChange={that.props.setQuestion} placeholder='Ask a question' /></form>\n                        </div>     \n                        <div style={{zIndex:999}} >{form}</div>\n                    </div>\n                  )\n            }\n            return null;\n        }\n         \n\n\n     \n         \n        sendFormQuestion(e) {\n            let that = this;\n            console.log('SEMD FORM q')\n            e.preventDefault(); \n            if (that.props.hermodClient && that.props.hermodClient.question) {\n                let question = that.props.hermodClient.question;\n                var data = {'text':question}\n                console.log(['SEMD FORM q real',data])\n                that.props.api.client.sendMessage('hermod/'+that.props.hermodClient.config.site+'/asr/text',data)\n                that.setState({changed: false})\n            }\n            return false;\n        }       \n        \n        sendForm(e) {\n            let that = this;\n            console.log('SEMD FORM')\n            console.log(that.props.hermodClient)\n            if (that.props.hermodClient && that.props.hermodClient.nlu_json) {\n                let nlu_json = that.props.hermodClient.nlu_json;\n                nlu_json.text = that.props.hermodClient.question\n                e.preventDefault()\n                //let nlu_clean = {intent:that.props.hermodClient.nlu_json.intent, entities: that.props.hermodClient.nlu_json.entities, 'id':(nlu_json.hasOwnProperty('id') ? nlu_json.id : '') , 'text': that.props.hermodClient.question }\n                console.log(['SEMD FORM real',{'id':(nlu_json.hasOwnProperty('id') ? nlu_json.id : ''),'query':nlu_json}])\n                that.props.api.client.sendMessage('hermod/'+that.props.hermodClient.config.site+'/nlu/intent',nlu_json)\n            }\n            that.setState({changed: false})\n            return false;\n        }\n        \n        getQuestionSelection(event) {\n            const selection = event.target.value.substring(event.target.selectionStart, event.target.selectionEnd);\n            return selection ? selection : '';\n        }\n        \n        setQuestionSelection(selectionStart, selectionEnd) {\n            console.log(['SET SELECTION',selectionStart, selectionEnd])\n            var questionInput = this.questionInput.current\n            console.log(['SET SELECTION',questionInput])\n            if (questionInput) {\n                console.log('SETRANGE')\n                this.createSelection(questionInput,selectionStart, selectionEnd)\n                //questionInput.selectionStart = selectionStart\n                //questionInput.selectionEnd = selectionEnd\n                //questionInput.setSelectionRange(selectionStart, selectionEnd );\n            }\n        }\n        \n        createSelection(field, start, end) {\n            if( field.createTextRange ) {\n                var selRange = field.createTextRange();\n                selRange.collapse(true);\n                selRange.moveStart('character', start);\n                selRange.moveEnd('character', end-start);\n                selRange.select();\n            } else if( field.setSelectionRange ) {\n                field.setSelectionRange(start, end);\n            } else if( field.selectionStart ) {\n                field.selectionStart = start;\n                field.selectionEnd = end;\n            }\n            field.focus();\n        } \n        \n        getQuestionSelectionRange(event) {\n            const selection = [event.target.selectionStart ? event.target.selectionStart : 0, event.target.selectionEnd ? event.target.selectionEnd : 0];\n            return selection\n        }\n        \n        onQuestionSelect(event) {\n            console.log('SELECT')\n            console.log(event.target.value)\n            console.log([event.target.selectionStart, event.target.selectionEnd,this.getQuestionSelection(event)])\n            this.setState({'selection':this.getQuestionSelection(event),'selectionRange':this.getQuestionSelectionRange(event),showAddButton:true})\n        }\n        \n        onQuestionBlur(event) {\n            console.log('BLUR')\n            console.log(event.target.value)\n            console.log([event.target.selectionStart, event.target.selectionEnd])\n            //this.setState({'selection':'','selectionRange':[0,0]})\n            //event.preventDefault()\n            //return false;\n            this.setState({questionIsFocussed: false, showAddButton: false}) //selection:'',selectionRange:[0,0]})\n        }\n\n        onQuestionFocus(event) {\n            console.log('FOCUS')\n            console.log(event.target.value)\n            console.log([event.target.selectionStart, event.target.selectionEnd])\n            //this.setState({'selection':'','selectionRange':[0,0]})\n            //event.preventDefault()\n            //return false;\n            this.setState({questionIsFocussed: true}) //selection:'',selectionRange:[0,0]})\n        }\n\n        \n        onQuestionKeyup(event) {\n            let that = this;\n            console.log('KEYUP')\n            //console.log(event.target.value)\n            //this.setState({question:event.target.value})\n            //var value=event.target.value\n            //if (this.keyupTimeout) clearTimeout(this.keyupTimeout )\n            //this.keyupTimeout = setTimeout(function() {\n                //that.props.api.client.sendMessage('hermod/'+that.props.hermodClient.config.site+'/nlu/externalparse',{'query':value})\n            //},1000)\n        }\n        \n    }\n\n    // <Button  className=\"btn btn-info\"  >{entityName}:{entityIndex[entityName].value}</Button>\n    //{this.state.selection && <Button style={{backgroundColor:\"#c88eda\"}}  className=\"btn\" size=\"sm\" > \n                          //<span style={{fontSize:'1.1em'}} >&nbsp;+&nbsp;</span>\n                          //<select onChange={this.newEntity} >\n                            //{entityOptions}\n                           //</select> \n                           //</Button> }\n\n    //  <option value=\"ask_date\" >ask_date</option>\n                            //<option value=\"ask_time\" >ask_time</option>\n                            //<option value=\"tell_me_about\" >tell_me_about</option>\n                            //<option value=\"ask_attribute\" >ask_attribute</option>\n                            //<option value=\"search_youtube\" >search_youtube</option>\n                            //<option value=\"show_picture\" >show_picture</option>\n                \n     //across: {\n        //1: {\n          //clue: 'capital of australia',\n          //answer: 'canberra',\n          //row: 0,\n          //col: 0,\n        //},\n        //2: {\n            //clue: 'capital of el salvador',\n            //answer: 'sansalvador',\n            //row: 2,\n            //col: 1,\n        //},\n        //3: {\n            //clue: 'capital of ecuador',\n            //answer: 'quito',\n            //row: 5,\n            //col: 6,\n        //},\n        //4: {\n            //clue: 'capital of iraq',\n            //answer: 'baghdad',\n            //row: 7,\n            //col: 0,\n        //},\n        //5: {\n            //clue: 'capital of portugal',\n            //answer: 'lisbon',\n            //row: 9,\n            //col: 4,\n        //},\n        //6: {\n            //clue: 'capital of vietnam',\n            //answer: 'hanoi',\n            //row: 10,\n            //col: 0,\n        //}\n      //},\n      //down: {\n        //1: {\n          //clue: 'capital of the netherlands',\n          //answer: 'amsterdam',\n          //row: 0,\n          //col: 1,\n        //},\n        //2: {\n          //clue: 'capital of thailand',\n          //answer: 'bangkok',\n          //row: 0,\n          //col: 1,\n        //},\n        //3: {\n          //clue: 'capital of liechtenstein',\n          //answer: 'vaduz',\n          //row: 0,\n          //col: 1,\n        //},\n        //4: {\n          //clue: 'capital of russia',\n          //answer: 'moscow',\n          //row: 0,\n          //col: 1,\n        //},\n        //5: {\n          //clue: 'capital of east timor',\n          //answer: 'dili',\n          //row: 0,\n          //col: 1,\n        //}\n      //},\n","import React from \"react\";\nimport {Component} from 'react';\nimport { Button } from \"react-bootstrap\";\nimport MicrophoneComponent from './MicrophoneComponent'\nimport SpeechBubbleComponent from './SpeechBubbleComponent'\nimport SuggestionButtonsComponent from './SuggestionButtonsComponent'\nimport NluFixerComponent from './NluFixerComponent'\n\n\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\n//style={{float: \"left\", marginRight: \"0.5em\"}}\n//style={{float: \"left\", marginRight: 0.5 +\"em\"}}\n// style={{float: 'left'}}\n\n\nexport default class HeaderComponent extends Component {\n    \n    \n  constructor(props) {\n      super(props);\n      //let that = this;\n     \n    }\n\n \n    \n    render() {\n        let that = this;\n      return (\n        <div className=\"hermodHeader\" style={{backgroundColor: \"#b5a5f3\", minHeight: \"9em\", width: \"100%\", top: 0, left: 0, position: 'fixed'}}>\n          <MicrophoneComponent hermodClient={that.props.hermodClient} toggleMicrophone={this.props.toggleMicrophone}/>\n          <SpeechBubbleComponent hermodClient={that.props.hermodClient} />\n          <div id=\"buttons\" style={{float: \"left\", marginRight: \"0.5em\", padding: \"0.5em\"}}>\n            <span  className=\"fixedButtons\" id=\"fixedButtons\" style={{float: \"left\", marginRight: \"0.5em\"}} >\n                 <Link  to='/' ><Button style={{float: 'left'}} variant=\"secondary\"  size=\"lg\" >Home</Button></Link>\n                 {(this.props.hermodClient.slots && this.props.hermodClient.slots.crossword) && <Link  to={'/crossword/'+this.props.hermodClient.slots.crossword} ><Button style={{marginLeft:'0.3em',float: 'left'}} variant=\"secondary\"   >Crossword</Button></Link>}\n                 {!(this.props.hermodClient.slots && this.props.hermodClient.slots.crossword) && <Link  to='/crosswords' ><Button style={{marginLeft:'0.3em',float: 'left'}} variant=\"secondary\"   >Crossword</Button></Link>}\n            </span>\n            <SuggestionButtonsComponent  buttons={that.props.hermodClient.buttons} sendMessage={that.props.sendMessage}  showFrame={that.props.showFrame}  showWindow={that.props.showWindow}/>\n        </div>\n        \n      \n        \n        <div style={{float: \"left\",marginLeft: \"0.5em\", marginRight: \"0.5em\", clear: \"both\" , width: \"90%\"}}  >\n             <NluFixerComponent  intents={[]}   entities={[]} hermodClient={this.props.hermodClient}  api={this.props.api} setQuestion={this.props.setQuestion} />  \n        </div>\n        </div>\n      );\n    }\n};\n//<!--img style=\"height: 2em; width: 2em; padding: 0.4em\" src='microphone-slash-solid.svg' /-->\n   \n    \n    //<div class=\"speech-bubble-wrap\">\n        //<div id=\"speechbubble\" class=\"speech-bubble\">this is a bubble </div>\n    //</div>\n\n    //const divStyle = {\n        ////position: 'fixed',\n        ////top:0,\n        ////left:0,\n        //width: '98%',\n        ////height: '10em',\n        //border: '3px solid black',\n        //backgroundColor:'red',\n        ////padding:''\n    //}\n    //onClick=\"showHome()\"\n","import React from 'react';\nimport './App.css';\nimport { Button } from \"react-bootstrap\";\n\n//document.getElementById('dynamicbuttons').style.display='block'\n    //buttonsList = document.createElement('span')\n    //buttonsList.id = 'dynamicbuttons'\n    //for (var i = 0; i< buttons.length; i++) {\n        //button = document.createElement('button')\n        //button.innerText = buttons[i].label ? buttons[i].label : 'Missing Label'\n        ////console.log('loop button')\n        ////console.log(buttons[i])\n        //function appendbutton(thebutton,buttonsList) {\n            //if (thebutton.text) {\n                //button.onclick=function() {client.sendASRTextMessage(config.site,thebutton.text)}\n            //} else if (thebutton.nlu) {\n                //button.onclick=function() {client.sendNLUMessage(config.site,thebutton.nlu)}\n            //} else if (thebutton.url) {\n                //button.onclick=function() {showUrl(thebutton.url)}\n            //} else if (thebutton.frame) {\n                //button.onclick=function() {showFrame(thebutton.frame)}\n            //}\n            //button.className='btn'\n            //buttonsList.append(button)\n        //}\n        //appendbutton(buttons[i],buttonsList)\n    //}\n\nfunction SlotListComponent(props) {\n    //console.log(props)\n    var renderedButtons = []\n    var i = 0;\n\n    for (i in props.slots) {\n       if (props.slots[i] && props.slots[i].length > 0) {\n           renderedButtons.push(<Button key={i} variant=\"light\"  >{i} {props.slots[i]}</Button>)     \n       } \n    }\n    \n  return (\n     <div style={{float: \"left\", marginRight: \"0.5em\", padding: \"0.5em\", clear:'both'}} className=\"slotList\" id=\"slotList\" >\n                {renderedButtons}\n    </div>\n    \n  );\n}\n// \nexport default SlotListComponent;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\nimport GoogleAds from 'react-google-ads'\n\nimport SlotListComponent from './SlotListComponent';\n\nexport default (props) => {\n  return (\n    <div className=\"hermodFooter\" style={{overflowY:\"scroll\", backgroundColor: \"rgba(137, 140, 224, 0.81)\",textAlign:'left', borderTop: '1px solid black', height:'2.2em', width: '100%', position: \"fixed\", left: 0, bottom: 0}}>\n    \n      \n      <Link style={{float:'right', marginRight:'0.8em'}} to='/about' ><Button style={{float: 'left'}} variant=\"primary\"  size=\"sm\" >About the Software  </Button></Link>\n <b style={{float:'left', marginRight:'0.8em'}}>&nbsp;&nbsp;<a rel=\"noopener noreferrer\" target=\"_blank\" href='https://github.com/syntithenai/hermod' >Copyleft Steve Ryan</a>&nbsp;&nbsp;</b>\n      <span style={{float:'left', marginLeft:'1.8em',color:'#e64848'}} >&nbsp;&nbsp;<b><i >WARNING: Your questions are used to improve our language models.</i></b></span>\n     \n       <SlotListComponent slots={props.slots} />\n     \n    </div>\n  );\n};\n  //<GoogleAds\n        //client={props.adsenseClient}\n        //slot={props.adsenseSlot}\n        //style={{ display: 'inline-block', width: '100%', }}\n        ///>\n //\n  //   <div>{JSON.stringify(props.hermodClient)}</div>\n","import React from \"react\";\nimport { BrowserRouter as Router, Link , Redirect} from \"react-router-dom\";\n\nconst divStyle = {\n    left: 0,\n    top: 0,\n     overflowY: 'hidden', \n     width: '100%',\n     height: '100%',\n     overflow: 'hidden', \n     border: 'None'\n}\n\nexport default (props) => {\n    if (props.hermodClient.frame && props.hermodClient.frame.length > 0) {\n      return (\n        <div className=\"component iframeComponent\" style={{height:'90em'}}>\n          <iframe title=\"Wikipedia\" style={divStyle}  src={props.hermodClient.frame}></iframe>\n        </div>\n      );\n    } else {\n        return <Redirect to=\"/\" />\n    }\n};\n","import React from \"react\";\nimport { BrowserRouter as Router, Link , Redirect} from \"react-router-dom\";\nimport YouTube from 'react-youtube';\n\nconst divStyle = {\n    left: 0,\n    top: 0,\n     overflowY: 'hidden', \n     width: '100%',\n     height: '100%',\n     minHeight: '400px',\n     minWidth: '400px',\n     overflow: 'hidden', \n     border: 'None'\n}\n\nconst opts = {\n      height: '600',\n      //width: '90%',\n      playerVars: {\n        // https://developers.google.com/youtube/player_parameters\n        autoplay: 1,\n      },\n    };\n\nfunction _onReady(event) {\n    // access to player in all event handlers via event.target\n   // event.target.pauseVideo();\n  }\n  \nexport default (props) => {\n    if (props.hermodClient.youtube && props.hermodClient.youtube.length > 0) {\n      return (\n        <div className=\"component youtubeComponent\" >\n          <YouTube videoId={props.hermodClient.youtube} opts={opts} onReady={_onReady} />\n        </div>\n      );\n    } else {\n        return <Redirect to=\"/\" />\n    }\n};\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nexport default () => {\n  return (\n    <div className=\"component first-component\" style={{textAlign:'left', marginLeft:'1em'}}>\n        <h2>About This Software</h2>\n        <div>This software is a demonstration for Hermod, a suite of tools for building applications with voice.</div>\n        <br/>\n        \n        <div>The software is freely available under a FreeBSD Open Source License.<br/></div>\n\n        <a  target=\"_new\" href='https://github.com/syntithenai/hermod' >Github</a>\n        <br/>\n        <div>\n            Built using \n            <ul> \n                <li><a target=\"_new\" href=\"https://rasa.com/docs/rasa/nlu/about/\" >RASA</a></li>\n                <li><a target=\"_new\"  href=\"https://github.com/mozilla/DeepSpeech\" >Deepspeech Voice Recognition</a></li>\n                <li><a target=\"_new\"  href=\"https://picovoice.ai/\" >Picovoice Hotword Recognition</a></li>\n                <li>and many other open source projects</li>\n            </ul>\n            </div>\n            <div>\n            Help improve Deepspeech\n            <br/>\n            <a  target=\"_new\"  href=\"https://voice.mozilla.org/en/speak\" ><Button  variant=\"success\"  >Contribute your voice to the Mozilla Open Source Voice Dataset</Button></a>\n        </div>\n         <br/>\n         <div>\n         This software brings together information from \n            <ul> \n                <li>Wikipedia, Wiktionary and Wikidata to answer questions <a target=\"_new\" href=\"https://donate.wikimedia.org/w/index.php?title=Special:LandingPage&country=AU&uselang=en&utm_medium=donatewiki_page&utm_source=Ways_to_Give&utm_campaign=donate_now_btn\" >Support the Wikimedia Foundation</a></li>\n                <li>Images from <a  target=\"_new\" href =\"https://unsplash.com/\" >Unsplash</a></li>\n                <li>and Videos from <a  target=\"_new\" href =\"https://youtube.com/\" >Youtube</a></li>\n            </ul>\n          </div>\n        \n    </div>\n  );\n};\n","import React from \"react\";\nimport {Component} from 'react';\nimport { Button } from \"react-bootstrap\";\nimport { BrowserRouter as Router, Link , Redirect} from \"react-router-dom\";\n\n\nexport default class ImageListComponent extends Component {\n    \n    render() {\n        console.log(this.props.images)\n        let that = this;\n        if (this.props.images && this.props.images.length > 0) { \n            let images = []\n            for (var i = 0; i< that.props.images.length; i++) {\n                images.push(<span  key={i} ><img alt={that.props.images[i].attribution} src={that.props.images[i].url} style={{width: '90%'}} /><div>{that.props.images[i].attribution}</div></span>)\n            }\n            return (\n            <div className=\"images-list\" >\n                {images}\n                <br/><br/><br/><br/><br/><br/>\n            </div>\n            );\n        } else {\n            return <Redirect to=\"/\" />\n        }\n    }\n};\n","import React from 'react';\nimport { GoogleLogin } from 'react-google-login';\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\n\n\nconst responseGoogle = (response) => {\n  console.log(response);\n}\n \nfunction LoginComponent() {\n  return (\n    <div className=\"Login\">\n      <GoogleLogin\n        clientId=\"589552091078-p6ccsnt8kchep5r46t9hfuti328fofjr.apps.googleusercontent.com\"\n        buttonText=\"Login\"\n        onSuccess={responseGoogle}\n        onFailure={responseGoogle}\n        cookiePolicy={'single_host_origin'}\n      />\n    </div>\n  );\n}\n\nexport default LoginComponent;\n","/* global window */\n\n\nimport React from 'react';\nimport {Component} from 'react';\n//import logo from './logo.svg';\n//import './App.css';\n//import 'bootstrap/dist/css/bootstrap.min.css'\nimport { withRouter } from \"react-router-dom\";\n//import {BrowserRouter as Router,Route,Link,Switch,Redirect} from 'react-router-dom'\n//import PropsRoute from './PropsRoute';\nimport ReactGA from 'react-ga';\nimport 'whatwg-fetch'\n//console.log('aaa')\nvar HermodWebClient = require('./hermod_client.js')\n\n//<script data-ad-client=\"ca-pub-8152690534650306\" async src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"></script>\n\n//<script data-ad-client=\"ca-pub-8152690534650306\" async src=\"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"></script>\nexport default withRouter(class HermodClient extends Component {\n\n    constructor(props) {\n        super(props);\n        //let that = this; \n        this.state={\n            isListening: false,\n            isSpeaking: false,\n            isPlaying: false,\n            microphoneState: 0,\n            slots:[],\n            transcript:'',\n            nlu:'',\n            nlu_json:{},\n            say:'',\n            isWaiting:false,\n            question: '',\n            frame: '',\n            images: [],\n            image: '',\n            buttons: [],\n            connected: false\n        } \n        this.useAnalytics = false;\n        this.toggleMicrophone = this.toggleMicrophone.bind(this)\n        this.setQuestion = this.setQuestion.bind(this)\n        this.initClient = this.initClient.bind(this)\n        this.showFrame = this.showFrame.bind(this)  \n        this.showWindow = this.showWindow.bind(this)  \n        this.analyticsEvent = this.analyticsEvent.bind(this)\n        this.startWaiting = this.startWaiting.bind(this)\n        this.stopWaiting = this.stopWaiting.bind(this)\n        this.sendMessage = this.sendMessage.bind(this)\n        this.navigateTo = this.navigateTo.bind(this)\n        this.setNluJson = this.setNluJson.bind(this)\n        \n        console.log('hc constr')\n        console.log(this.props.history)\n    }\n    \n    navigateTo(target) {\n        console.log('NAV '+target)\n        this.props.history.push(target)\n        \n    }\n    \n    initClient() {\n            let that = this;\n           \n            fetch('/config')\n            .then(function(response) {\n                return response.json()\n            }).then(function(config) {\n                //{\n                    //\"server\": \"https://localhost:3000\", \n                    //\"mqttServer\": \"wss://peppertrees.asuscomm.com:9001\", \n                    //\"username\": \"hermod_admin\",\n                    //\"password\": \"talk2mebaby\",\n                    //\"subscribe\": \"hermod/hermod_admin_web/#\",\n                    //\"hotwordsensitivity\" : 0.5    ,\n                    //\"site\" :\"hermod_admin_web\",\n                    //\"analytics_code\": \"UA-3712973-3\"\n                //}\n\n                //config = {\n                    //server: protocol + window.location.hostname + ':' + port, \n                    //username: data.email_clean,\n                    //password: data.password,\n                    //subscribe: \"hermod/\"+data.email_clean+\"/#\",\n                    //hotwordsensitivity : 0.5    ,\n                    //site:data.email_clean,\n                //}\n                //config.site = config.email_clean\n                \n                                \n                var protocol = 'ws://'\n                var port = 9001\n                if (window.location.protocol === \"https:\") {\n                    protocol = 'wss://'\n                }\n                if (!config.server) config.server = protocol + window.location.hostname + ':' + port; \n                    \n                \n                that.setState({config:config})\n                var clearSpeechTimeout = null\n                console.log(['GOT CONFIG',config])\n                if (config['analytics_code'] && config['analytics_code'].length > 0) {\n                    console.log('INIT ANALYTICS '+config['analytics_code'])\n                    that.useAnalytics = true\n                    ReactGA.initialize(config['analytics_code']);\n                    //,{debug: true}\n                    ReactGA.pageview(window.location.pathname + window.location.search);\n                }\n                \n                config['javascript_environment'] = 'react'\n                that.client = new HermodWebClient(config)\n                that.setState({client:that.client})\n                console.log('CREATED CLIENT')\n                that.client.bind('hotwordDetected',function() {\n                   //that.setState({isListening: true})\n                })\n                that.client.bind('hotwordReady',function() {\n                   that.setState({hotwordReady: true})\n                })\n                that.client.bind('microphoneStart',function() {\n                   that.setState({microphoneState: 3})\n                })\n                that.client.bind('hotwordStart',function() {\n                   that.setState({ microphoneState: 2})\n                })\n                that.client.bind('hotwordStop',function() {\n                  that.setState({microphoneState: 1})\n                })\n                that.client.bind('microphoneStop',function() {\n                   that.setState({microphoneState: 2})\n                })\n                that.client.bind('disconnect',function() {\n                   that.setState({microphoneState: 0, connected: false})\n                })\n                that.client.bind('reconnect',function() {\n                   that.setState({microphoneState: 0, connected: true})\n                })\n                that.client.bind('connect',function() {\n                  that.setState({microphoneState: 1, connected: true})\n                  that.client.sendMessage('hermod/'+config.site+'/rasa/get_domain',{})\n    \n                })\n                that.client.bind('startSpeaking',function() {\n                    console.log('START SPEAKING')\n                    that.setState({isSpeaking: true})\n                })\n                that.client.bind('stopSpeaking',function() {\n                    console.log('STOP SPEAKING')\n                    that.setState({isSpeaking: false})\n                })\n                that.client.bind('startPlaying',function() {\n                    console.log('START PLAYING')\n                    that.setState({isPlaying: true})\n                })\n                that.client.bind('stopPlaying',function() {\n                    console.log('STOP PLAYING')\n                    that.setState({isPlaying: false})\n                })\n                \n                that.client.bind('message',function(message,payloadIn) {\n                    var parts = message.split(\"/\")\n                    \n                    var payload = {}\n                        \n                    function jsonPayload(payloadIn) {\n                        var pl = {}\n                        try {\n                            pl = JSON.parse(payloadIn.toString())\n                        } catch (e) {\n                        }\n                        return pl;\n                    }\n                    payload = jsonPayload(payloadIn)\n                    // bind topics to functions passed down from parent component\n                    var altparts = message.split(\"/\")\n                    altparts[1] = '+';\n                    var alttopic = altparts.join(\"/\")\n                    //console.log(alttopic)\n                    //console.log(that.props.bindTopic)\n                    if (that.props.bindTopic && alttopic in that.props.bindTopic && that.props.bindTopic[alttopic] !== null) {\n                        try {\n                            that.props.bindTopic[alttopic](payload)\n                        } catch (e) {\n                            console.log(e)\n                        }\n                    }\n                    \n                    if (parts.length > 3 && parts[2] === \"display\" && parts[3] === \"show\" ) {\n                        //console.log('DISPLAYMESSAGE')\n                        if (payload.url && payload.url.length > 0) {\n                            that.client.showUrl(payload.url)\n                        }\n                        if (payload.frame && payload.frame.length > 0) {\n                            //that.setState({frame: payload.frame})\n                            that.showFrame(payload.frame)\n                        }\n                        if (payload.youtube && payload.youtube.length > 0) {\n                            //that.setState({image: payload.image})\n                            that.showYoutube(payload.youtube)\n                        }\n                        if (payload.image && payload.image.length > 0) {\n                            //that.setState({image: payload.image})\n                            that.showImages([payload.image])\n                        }\n                        if (payload.images && payload.images.length > 0) {\n                            //that.setState({images: payload.images})\n                            that.showImages(payload.images)\n                        }\n                        if (payload.buttons && payload.buttons.length > 0) {\n                            that.setState({buttons: payload.buttons})\n                        }\n                        //if (payload.question && payload.question.length > 0) {\n                            //that.setState({question: payload.question})\n                        //}\n                        if (payload.navigate && payload.navigate.length > 0) {\n                            console.log(\"NAVMSG\")\n                            console.log(payload)\n                            that.navigateTo(payload.navigate)\n                        }\n                \n                    } else if (parts.length > 3 && parts[2] === \"dialog\"  && parts[3] === \"slots\") {\n                        console.log('SET SLOTS')\n                        console.log(payload)\n                        that.setState({slots: payload})\n                    } else if (parts.length > 3 && parts[2] === \"rasa\"  && parts[3] === \"domain\") {\n                        console.log('SET DOMAIN')\n                        console.log(payload)\n                        that.setState({domain: payload})\n                        \n                    } else if (parts.length > 3 && parts[2] === \"asr\"  && parts[3] === \"text\") {\n                        that.setState({question:payload.text, transcript: payload.text, nlu:'', say:''})\n                        if (clearSpeechTimeout) clearTimeout(clearSpeechTimeout) \n                        clearSpeechTimeout = setTimeout(function() {\n                            that.setState({transcript: ''})\n                        },3000)\n                    } else if (parts.length > 3 && parts[2] === \"dialog\"  && parts[3] === \"end\") {\n                        that.setState({transcript: \"\"})\n                    } else if (parts.length > 3 && parts[2] === \"nlu\"  && parts[3] === \"intent\") {\n                        //console.log('nlu intent')\n                        var intentName = payload.intent && payload.intent.name ? payload.intent.name : '' \n                        var cleanEntities = {}\n                        if (intentName.length > 0 && payload.entities) {\n                            for (var i in payload.entities) {\n                                var entity = payload.entities[i]\n                                console.log(entity)\n                                if (entity.entity && entity.entity.length > 0 && entity.value && entity.value.length > 0 ) {\n                                    cleanEntities[entity.entity] = entity.value\n                                }\n                            }\n                            that.setState({nlu_json: payload,nlu_json_original:JSON.stringify(payload), nlu: intentName + JSON.stringify(cleanEntities), buttons: []})\n                            that.analyticsEvent(intentName + JSON.stringify(cleanEntities))\n                        }\n                    } else if (parts.length > 3 && parts[2] === \"nlu\"  && parts[3] === \"externalintent\") {\n                        console.log('nlu external intent')\n                        console.log(payload)\n                        var intentName = payload.intent && payload.intent.name ? payload.intent.name : '' \n                        var cleanEntities = {}\n                        if (intentName.length > 0 && payload.entities) {\n                            for (var i in payload.entities) {\n                                var entity = payload.entities[i]\n                                console.log(entity)\n                                if (entity.entity && entity.entity.length > 0 && entity.value && entity.value.length > 0 ) {\n                                    cleanEntities[entity.entity] = entity.value\n                                }\n                            }\n                            that.setState({nlu_json: payload, nlu: intentName + JSON.stringify(cleanEntities)})\n                            //that.analyticsEvent(intentName + JSON.stringify(cleanEntities))\n                        }\n                    }  else if (parts.length > 2 && parts[2] === \"tts\"  && parts[3] === \"say\") {\n                        console.log('say text '+payload.text)\n                        that.setState({say: payload.text}) \n                    }  else if (parts.length > 3  && parts[2] === \"display\" && parts[3] === \"startwaiting\") {\n                        //console.log('start wait')\n                        that.setState({isWaiting: true}) \n                    }  else if (parts.length > 3  && parts[2] === \"display\" && parts[3] === \"stopwaiting\") {\n                        //console.log('stop wait')\n                        that.setState({isWaiting: false}) \n                    }\n                   //console.log([message,payload]) \n                })\n                that.client.connect()\n                //.then(that.client.startHotword)\n                \n            //}).then(function(json) {\n                //console.log('parsed json', json)\n            }).catch(function(ex) {\n                console.log('parsing failed', ex)\n            })\n            //var config = \n            //{\n                //server: 'https://localhost:9001', \n                //username: \"hermod_admin\",\n                //password: \"talk2mebaby\",\n                //subscribe: \"hermod/hermod_admin_web/#\",\n                //hotwordsensitivity : 0.5    ,\n                //site:\"hermod_admin_web\"\n            //}\n    }\n \n        \n    componentDidMount() {\n        console.log('APP MOUNT')\n        this.initClient()\n          //ReactGA.initialize(process.env.REACT_APP_ANALYTICS_KEY);\n        ////  console.log('mount layout GA key '+process.env.REACT_APP_ANALYTICS_KEY)\n          //this.handleLogin()\n          //this.fetchTopicCollections(); \n          \n      };\n        //function onClick() {\n            //console.log('onclick '+state)\n            //// state 0 - disconnected no click\n            //if (state == 0) { // not connected\n                ////client.connect().then(function() {\n                    //////state = 1\n                    ////client.startHotword()\n                    //////.then(function() { \n                    ////state = 2\n                    //////})\n                ////})\n            //} else if (state == 1) { // connected stopped\n                //client.stopMicrophone()\n                //client.stopHotword()\n                //// trigger dialog start through hermod\n                //client.sendMessage('hermod/'+config.site+'/dialog/end',{})\n            //} else if (state == 2) {  // hotword active\n                //client.stopHotword()\n                //client.startMicrophone()\n                //client.sendMessage('hermod/'+config.site+'/hotword/detected',{})\n            //} else if (state == 3) { // active\n                //client.stopMicrophone()\n                //client.stopHotword()\n                //client.sendMessage('hermod/'+config.site+'/dialog/end',{})\n            //}\n        //}\n    \n    toggleMicrophone() {\n        let that = this;\n        var state = this.state.microphoneState;\n        if (that.state.isPlaying) {\n            console.log('ONCLICK WHILE TALKING')\n            that.client.stopPlaying()\n            that.client.sendMessage('hermod/'+that.state.config.site+'/tts/finished',{})\n            \n        } else {          \n            if (state === 1) { // connected stopped\n                that.client.stopMicrophone()\n                that.client.stopHotword()\n                // trigger dialog start through hermod\n                that.client.sendMessage('hermod/'+that.state.config.site+'/dialog/end',{})\n            } else if (state === 2) {  // hotword active\n                that.client.stopHotword()\n                that.client.startMicrophone()\n                that.client.sendMessage('hermod/'+that.state.config.site+'/hotword/detected',{})\n            } else if (state === 3) { // active\n                that.client.stopMicrophone()\n                that.client.stopHotword()\n                that.client.sendMessage('hermod/'+that.state.config.site+'/dialog/end',{})\n            } else {\n                \n            }\n            //else if (state === 4) {\n                //that.client.stopPlaying()\n                //that.client.stopMicrophone()\n                //that.client.stopHotword()\n                //that.client.sendMessage('hermod/'+that.state.config.site+'/dialog/end',{})\n            //}\n        }\n        \n        //status = (status + 1) % 4;\n        //this.setState({microphoneState: status, isWaiting: true ,buttons:[{label:'Frame', frame:'https://wikipedia.org'},{label:'Window', url:'https://wikipedia.org'},{label:'Click me', text:'search for boats'}]})\n        \n        //setTimeout(function() {that.setState({isWaiting: false})},1000)\n        \n    }\n    \n    setNluJson(json) {\n        this.setState({nlu_json:json})\n    }\n    \n    setQuestion(event) {\n        this.setState({question:event.target.value})\n    }\n \n    analyticsEvent(page,category='Navigation') {\n          if (this.useAnalytics) {\n              console.log(['ANALYTICS CURRENTPAGE',page]);\n              \n              //ReactGA.pageview(window.location.pathname + window.location.search);\n              ReactGA.event({\n                  category: category,\n                  action:  page\n                });\n          }\n      }\n      \n\n      showFrame(url) {\n          this.setState({\"frame\":url})\n          this.props.history.push('/frame');\n      }\n      \n       showYoutube(url) {\n          this.setState({\"youtube\":url})\n          this.props.history.push('/youtube');\n      }\n      \n      showImages(images) {\n          this.setState({\"images\":images})\n          this.props.history.push('/images');\n      }\n      \n      showWindow(url) {\n        console.log('show window '+url)\n        var displayWindow = null;\n        if (displayWindow) {\n            displayWindow.close()\n        }\n        displayWindow = window.open(url)\n      }\n      \n      startWaiting() {\n        this.setState({isWaiting: true})\n      }\n      \n      stopWaiting() {\n        this.setState({isWaiting: false})\n      }\n      \n      sendMessage(text) {\n          console.log('SNED MESSAGE '+text)\n          this.client.sendASRTextMessage(this.state.config.site,text)\n       }\n\n    \n    render() {\n        if (this.state.config) {\n                var api = {\n                toggleMicrophone:this.toggleMicrophone,\n                setQuestion:this.setQuestion,\n                client: this.state.client,\n                showFrame: this.showFrame,\n                showWindow: this.showWindow,\n                startWaiting: this.startWaiting,\n                stopWaiting: this.stopWaiting,\n                sendMessage: this.sendMessage,\n                setNluJson: this.setNluJson\n            }\n\n          return (\n            <div className=\"HermodClient\">\n            {this.props.children(this.state,api)}\n            </div>\n          );\n        } else return null\n    }\n})\n\n\n","import React, {Component} from 'react';\nimport 'whatwg-fetch'\nimport { Button } from \"react-bootstrap\";\nimport { BrowserRouter as Router, Link } from \"react-router-dom\";\n\nexport default class CrosswordListComponent extends Component {\n    \n    constructor(props) {\n      super(props);\n      this.state = {\n         crosswords: [],\n         searchFor: ''  ,\n         difficulty: '' \n       }\n       this.searchCrosswords = this.searchCrosswords.bind(this)\n       this.updateSearchFor = this.updateSearchFor.bind(this)\n       this.sendForm = this.sendForm.bind(this)\n       this.updateSearchFor =this.updateSearchFor.bind(this)\n       this.searchDifficulty = this.searchDifficulty.bind(this)\n       this.searchTimeout = null\n    }\n\n    \n      componentDidMount() {\n        console.log('APP dMOUNT')\n        let that = this;\n           var crosswords = []\n           if (localStorage.getItem('crossword_list_entry')) {\n               \n               try {\n                   crosswords = JSON.parse(localStorage.getItem('crossword_list_entry'))\n                   this.setState({crosswords: crosswords})\n               } catch (e) {\n                    this.searchCrosswords().then(function() {\n                        localStorage.setItem('crossword_list_entry',JSON.stringify(that.state.crosswords))\n                    })\n               }\n            }\n            if (!crosswords || crosswords.length === 0){\n                this.searchCrosswords().then(function() {\n                    localStorage.setItem('crossword_list_entry',JSON.stringify(that.state.crosswords))\n                })\n                \n            }        this.crossword =  React.createRef();\n        //this.fillCrossword=this.fillCrossword.bind(this)\n      };\n      \n       //componentWillMount() {\n           \n       //}\n      updateSearchFor(e) {\n          this.setState({searchFor:e.target.value})\n          this.sendForm(e)\n      }\n      \n    searchCrosswords() {\n        let that = this\n        return new Promise(function(resolve,reject) {\n            console.log('SEARCHcw')\n            var queryParts = []\n            if (that.state.searchFor.length > 0) {\n                queryParts.push(\"search=\"+that.state.searchFor)\n            }\n            if (that.state.difficulty.length > 0) {\n                queryParts.push(\"difficulty=\"+that.state.difficulty)\n            }\n            console.log('fetch')\n            console.log(queryParts)\n            var prep = ''//this.props.hermodClient.config && this.props.hermodClient.config.webserver ? this.props.hermodClient.config.webserver : '';\n            if (that.props.startWaiting) that.props.startWaiting()\n            fetch(prep+'/api/crosswords?'+queryParts.join(\"&\"))\n                .then(function(response) {\n                    //console.log(response.text())\n                    return response.json()\n                }).then(function(list) {\n                    console.log(list)\n                    that.setState({crosswords:list})\n                }).finally(function() {\n                  if (that.props.stopWaiting) that.props.stopWaiting()  \n                  resolve()\n                })\n        })\n    }\n    \n    sendForm(e) {\n        console.log('SEMD FORM')\n        //let that = this;\n        e.preventDefault()\n        if (this.searchTimeout) {\n            clearTimeout(this.searchTimeout)\n        }\n        this.searchTimeout = setTimeout(this.searchCrosswords,1000)\n        return false;\n    }\n    \n    searchDifficulty(difficulty) {\n        console.log(['SD',difficulty])\n        this.setState({difficulty:difficulty})\n        this.searchCrosswords()\n    }\n//<Button style={{float:'left', color:'yellow'}}>Difficulty {crossword.difficulty}</Button>\n    render () {\n        let that = this\n        var searchResults = []\n        //var crosswordItemStyle = {\n            \n        //}\n        var difficultyMap = {\"1\":\"Kids\",\"2\":\"Easy\",\"3\":\"Medium\",\"4\":\"Hard\",\"5\":\"Cryptic\"}\n        var categoryItems={}\n        for (var i in this.state.crosswords) {\n            var crossword = this.state.crosswords[i]\n            var difficulty = Number(crossword.difficulty > 0 ? crossword.difficulty : 1).toString();\n            if (! categoryItems.hasOwnProperty(difficulty)) {\n                categoryItems[difficulty] = []\n            }\n            categoryItems[difficulty].push(<div key={i} style={{width:'90%', textAlign:'left', padding:'1em'}} ><Link to={\"/crossword/\"+crossword._id} ><Button style={{minWidth:'18em'}}><span style={{float:'right', marginLeft:'0.5em'}} className=\"badge badge-light\">{difficultyMap.hasOwnProperty(crossword.difficulty) ? difficultyMap[crossword.difficulty]:\"Unknown\"}</span>Start the {crossword.title} crossword</Button></Link></div>)\n            searchResults.push(<div key={i} style={{width:'90%', textAlign:'left', padding:'1em'}} ><Link to={\"/crossword/\"+crossword._id} ><Button style={{minWidth:'18em'}}><span style={{float:'right', marginLeft:'0.5em'}} className=\"badge badge-light\">{difficultyMap.hasOwnProperty(crossword.difficulty) ? difficultyMap[crossword.difficulty]:\"Unknown\"}</span>Start the {crossword.title} crossword</Button></Link></div>)\n        }\n        var categoryStyle={backgroundColor: 'orange', minWidth: '30%', float: 'left', minHeight: '7em', border: '1px solid blue', marginLeft: '0.8em' , marginTop: '0.8em' , fontSize:'2em', textAlign:'center', align:'center'\n            }\n            \n        console.log(categoryItems)  \n        var categories = [\n        ]\n        \n        \n        for (var i in categoryItems) {\n            categories.push(<div className='col-5' onClick={function(i) { return function() {that.searchDifficulty(i)}}(i)} style={categoryStyle} key={i} >{difficultyMap.hasOwnProperty(i) ? difficultyMap[i]:\"Unknown\"}\n                <div >{categoryItems[i]}</div>\n            </div>)\n        }\n        \n        \n      return (\n        <div className=\"crosswordListComponent row\">\n              <div style={{marginLeft: \"0.5em\", marginRight: \"0.5em\", clear: \"both\" , width: \"50%\"}}  >\n                  <form onSubmit={that.sendForm} ><input style={{fontSize: \"1.8em\" , width: \"100%\"}} id=\"text_input\" type='text' value={that.state.searchFor} onChange={that.updateSearchFor} placeholder='Search crosswords' /></form>\n            </div> \n            <div className=\"crosswordSearchResults\" style={{clear:'both', width: '100%'}}>\n            {this.state.searchFor.length > 0 && searchResults}\n            {this.state.searchFor.length ==0 && categories}\n            </div>\n            <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>\n        </div>\n      );\n    }\n}\n//\n            \n","import React from 'react';\nimport {Component} from 'react';\n//import logo from './logo.svg';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css'\n//r,Route,Link,Switch,Redirect\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport PropsRoute from './PropsRoute';\n\nimport HomeContentComponent from \"./HomeContentComponent\";\nimport CrosswordComponent from \"./CrosswordComponent\";\nimport HeaderComponent from \"./HeaderComponent\";\nimport FooterComponent from \"./FooterComponent\";\nimport IFrameComponent from \"./IFrameComponent\";\nimport YoutubeComponent from \"./YoutubeComponent\";\nimport AboutComponent from './AboutComponent';\nimport ImageListComponent from './ImageListComponent';\nimport LoginComponent from './LoginComponent';\n\nimport HermodClient from './HermodClient';\nimport CrosswordListComponent from './CrosswordListComponent';\n\nexport default class App extends Component {\n\n  constructor(props) {\n      super(props);\n      //let that = this;\n      this.fillCrossword=this.fillCrossword.bind(this)\n    }\n\n    \n      componentDidMount() {\n        console.log('APP dMOUNT')\n        this.crossword =  React.createRef();\n        \n      };\n      \n   \n   fillCrossword(payload) {\n       console.log(['FILL CROSSWORD',payload,this.crossword])\n       if (this.crossword) {\n           console.log('FILL CROSS have ref')\n           this.crossword.current.fillAnswer(payload.direction,payload.number,payload.word);\n        }\n   }\n   \n    render() {\n        let that = this;\n      return (\n        <div className=\"App\">\n            <Router>\n                <HermodClient bindTopic={{\"hermod/+/crossword/fill\": that.fillCrossword}} >\n                {(hermodClient, api) => (\n                    <div>\n                        <PropsRoute  path=\"/\" hermodClient={hermodClient} component={HeaderComponent} api={api} showFrame={api.showFrame} showWindow={api.showWindow} sendMessage={api.sendMessage} toggleMicrophone={api.toggleMicrophone} setQuestion={api.setQuestion} />\n                        <div style={{marginTop:\"9em\"}}>\n                        <div>{JSON.stringify(this.props.hermodClient)}</div>\n                            <PropsRoute  exact={true} path=\"/\" hermodClient={hermodClient} component={HomeContentComponent} sendMessage={api.sendMessage}  />\n                            <PropsRoute  exact={true} path=\"/home\"  hermodClient={hermodClient}  component={HomeContentComponent} sendMessage={api.sendMessage}   />\n                            <PropsRoute  exact={true} path=\"/crossword\" connected={hermodClient.connected} site={hermodClient.config.site} api={api} hermodClient={hermodClient}  component={CrosswordComponent} crosswordRef={this.crossword}  startWaiting={api.startWaiting} stopWaiting={api.stopWaiting}  />\n                            <PropsRoute  exact={true} path=\"/crossword/:id\" connected={hermodClient.connected} site={hermodClient.config.site} api={api}  hermodClient={hermodClient}  component={CrosswordComponent} crosswordRef={this.crossword}  startWaiting={api.startWaiting} stopWaiting={api.stopWaiting}  />\n                            <PropsRoute  exact={true} path=\"/crosswords\"  hermodClient={hermodClient}  component={CrosswordListComponent} startWaiting={api.startWaiting} stopWaiting={api.stopWaiting}  />\n                            <PropsRoute  exact={true} path=\"/frame\"  hermodClient={hermodClient}  component={IFrameComponent}   />\n                            <PropsRoute  exact={true} path=\"/youtube\"  hermodClient={hermodClient}  component={YoutubeComponent}   />\n                            <PropsRoute  exact={true} path=\"/about\"  hermodClient={hermodClient} component={AboutComponent}  />\n                            <PropsRoute  exact={true} path=\"/login\"  hermodClient={hermodClient} component={LoginComponent}   />\n                            <PropsRoute  exact={true} path=\"/images\"  images={hermodClient.images} component={ImageListComponent}   />\n                        \n                        </div>\n                        \n                        <FooterComponent slots={hermodClient.slots} adsenseClient={hermodClient.adsenseClient} adsenseSlot={hermodClient.adsenseSlot} />\n                    </div>\n                  )}\n                </HermodClient>\n            </Router>\n            \n        </div>\n      );\n    }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}