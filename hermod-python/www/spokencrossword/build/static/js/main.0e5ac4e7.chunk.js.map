{"version":3,"sources":["../vanilla/porcupine/downsampling_worker.js","images/waiting_small.gif","../vanilla/index.js","../vanilla/wav2mqtt.js","../vanilla/porcupine/porcupine_manager.js","../vanilla/porcupine/web_voice_processor.js","../vanilla/porcupine/keyword_data_edison.js","PropsRoute.js","HomeContentComponent.js","crossword/context.js","crossword/Cell.js","crossword/Clue.js","crossword/DirectionClues.js","crossword/util.js","crossword/Crossword.js","crossword/index.js","CrosswordComponent.js","MicrophoneComponent.js","SpeechBubbleComponent.js","SuggestionButtonsComponent.js","NluFixerComponent.js","HeaderComponent.js","SlotListComponent.js","FooterComponent.js","IFrameComponent.js","YoutubeComponent.js","AboutComponent.js","ImageListComponent.js","LoginComponent.js","HermodClient.js","CrosswordListComponent.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","self","inputSampleRate","onmessage","e","data","command","x","inputFrame","i","length","inputBuffer","push","outputFrame","Int16Array","sum","num","outputIndex","inputIndex","Math","min","postMessage","slice","process","hark","require","mqtt","wav2mqtt","HermodWebClient","config","PorcupineManager","KeywordData","window","mqttClient","isRecording","isSending","isPlaying","waitingFor","onCallbacks","hotwordInitialised","hotwordStarted","audioContext","AudioContext","webkitAudioContext","microphoneContext","microphoneGainNode","speakerContext","speakerGainNode","urlAudioPlayer","speakingTimeout","speaking","microphoneAudioBuffer","bufferSource","currentVolume","speakerCache","SENSITIVITIES","Float32Array","messageFunctions","topic","site","payload","url","parts","split","uid","json","JSON","parse","hasOwnProperty","Promise","resolve","reject","Audio","addEventListener","event","play","then","publish","stringify","playSound","arrays","totalLength","reduce","acc","value","result","Uint8Array","array","set","concat_arrays","intent","name","entities","entity","join","payloadIn","volume","setVolume","muteVolume","startMicrophone","stopMicrophone","unmuteVolume","startHotword","stopHotword","console","log","sendInitMessage","onMessageArrived","message","unsubscribe","multiSite","sendMessage","location","origin","connect","options","clientId","username","protocolId","protocolVersion","clean","password","rejectUnauthorized","protocol","mqttServer","server","hostname","on","subscribe","err","sendAudioMessage","sendAndWaitFor","sendTopic","waitTopic","gain","webpack","javascript_environment","start","keyword","ex","bindSpeakingEvents","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","audio","stream","speechEvents","clearTimeout","a","sendAudioBuffer","setTimeout","gotDevices","deviceInfos","device","devices","deviceInfo","kind","label","deviceId","toLowerCase","indexOf","createGain","audioInput","createMediaStreamSource","convertFloat32ToInt16","buffer","l","buf","recorder","createScriptProcessor","onaudioprocess","sourceAudioBuffer","TARGET_SAMPLE_RATE","onComplete","offlineCtx","OfflineAudioContext","numberOfChannels","duration","createBuffer","sampleRate","channel","copyToChannel","getChannelData","source","createBufferSource","destination","oncomplete","leftFloat32Array","renderedBuffer","startRendering","resample","res","Buffer","from","shift","activateRecording","handleError","error","bytes","playTime","decodeAudioData","audioBuffer","onended","onerror","mediaDevices","enumerateDevices","info","catch","stopPlaying","stop","pause","say","text","stopAll","bind","key","callback","unbind","sendAudioAndWaitFor","sendNLUMessage","sendASRTextMessage","authenticate","disconnect","end","Chunker","fs","Readable","Writable","dastream","siteId","filename","chunker","flush","createReadStream","wavReader","Reader","inBody","format","write","pipe","destroy","WebVoiceProcessor","porcupineWorkerScript","porcupineWorker","keywordIDs","sensitivities","detectionCallback","errorCallback","readyCallback","Worker","ready","this","processFrame","frame","work","workwp","engines","downsampler","audioSource","node","context","forEach","engine","KEYWORDS_ID","PropsRoute","component","rest","render","routeProps","finalProps","Object","assign","React","createElement","renderMergedProps","ContentOne","that","className","style","marginLeft","clear","marginTop","Button","variant","onClick","props","target","innerText","to","size","Component","HomePageContent","CrosswordContext","createContext","focused","selectedDirection","selectedNumber","CrosswordSizeContext","cellSize","cellPadding","cellInner","cellHalf","fontSize","Cell","cellData","focus","highlight","useContext","ThemeContext","cellBackground","cellBorder","textColor","numberColor","focusBackground","highlightBackground","handleClick","useCallback","preventDefault","row","col","guess","number","y","cursor","width","height","fill","stroke","strokeWidth","textAnchor","dominantBaseline","defaultProps","ClueWrapper","styled","div","attrs","correct","Clue","direction","children","useState","show","setShow","handleClose","showImage","setShowImage","handleCloseImage","onClueSelected","aria-label","clue_data","medialink","autoshow_media","src","alt","float","infolink","marginRight","zIndex","open","extraclue","Modal","animation","onHide","Header","closeButton","Title","Body","Footer","DirectionClues","clues","toUpperCase","map","clue","undefined","directionInfo","across","primary","orthogonal","down","bothDirections","keys","isAcross","otherDirection","calculateExtents","dir","primaryMax","orthogonalMax","entries","answer","emptyCellData","used","locked","fillClues","gridData","rowStart","colStart","sort","byNumber","createGridData","acrossMax","downMax","max","values","Array","r","c","createEmptyGrid","b","Number","parseInt","loadGuesses","storageKey","localStorage","saveRaw","getItem","guesses","val","deserializeGuesses","findCorrectAnswers","correctAnswers","defaultTheme","columnBreakpoint","gridBackground","OuterWrapper","theme","GridWrapper","CluesWrapper","Crossword","forwardRef","ref","onCorrect","onLoadedCorrect","onCrosswordCorrect","onCellChange","useStorage","defaultStorageKey","setSize","setGridData","setClues","setFocused","focusedRow","setFocusedRow","focusedCol","setFocusedCol","currentDirection","setCurrentDirection","currentNumber","setCurrentNumber","bulkChange","setBulkChange","checkQueue","setCheckQueue","crosswordCorrect","setCrosswordCorrect","inputRef","useRef","contextTheme","getCellData","outOfBounds","setCellCharacter","char","cell","produce","draft","notifyCorrect","checkCorrectness","find","useEffect","every","clueInfo","current","moveTo","directionOverride","candidate","moveRelative","dRow","dCol","moveForward","moveBackward","handleSingleCharacter","handleInputKeyDown","ctrlKey","altKey","metaKey","other","handleInputChange","substring","loadedCorrect","memo","memoInner","serializeGuesses","saveData","date","Date","now","setItem","saveGuesses","handleCellClick","handleInputClick","handleClueSelected","useImperativeHandle","reset","rowData","removeItem","clearGuesses","fillAnswer","toString","forceLoadGuesses","fillAllAnswers","isCrosswordCorrect","finalTheme","cells","Provider","margin","padding","position","viewBox","type","onKeyDown","onChange","autoComplete","spellCheck","autoCorrect","top","left","textAlign","backgroundColor","caretColor","border","displayName","CrosswordComponent","state","_id","title","forcereload","loadCrossword","hermodClient","connected","stash","setState","match","params","id","useStash","startWaiting","fetch","response","crossword","saveMe","author","copyright","replace","copyright_link","link","finally","stopWaiting","api","client","slots","slot","href","crosswordRef","MicrophoneComponent","borderColor","microphoneState","buttonStyle","right","borderRadius","textDecoration","outline","micImage","aria-hidden","focusable","data-prefix","data-icon","role","xmlns","d","toggleMicrophone","isWaiting","opacity","waitingIcon","SpeechBubbleComponent","visible","transcript","minWidth","background","minHeight","fontWeight","SuggestionButtonsComponent","renderedButtons","getAttribute","showFrame","showWindow","buttons","data-message","data-frame","data-url","NluFixerComponent","getPrettyIntentName","onIntentChanged","onEntityChanged","onEntityClicked","sendForm","sendFormQuestion","onQuestionSelect","onQuestionBlur","onQuestionFocus","onQuestionKeyup","getQuestionSelection","getQuestionSelectionRange","newEntity","addOrUpdateEntityValue","addOrUpdateEntityType","onEntityDeleted","setQuestionSelection","onEntityListExpanded","allowIntent","canShowEntity","questionInput","createRef","selection","selectionRange","keyupTimeout","changed","questionIsFocussed","showAddButton","intentName","intentNames","entityName","entityNames","nlu","nlu_json_original","attributes","textContent","setNluJson","oldvalue","nlu_json","newEntities","found","range","allowedIntents","parsedIntent","parsedEntities","entityIndex","parsedEntity","entityOptions","form","question","domain","intentUsed","intent_ranking","Dropdown","Item","intents","getPrettyEntityName","entityNameInner","innerEntityOptions","j","Divider","as","ButtonGroup","Toggle","Menu","addEntityOptions","onSubmit","display","onKeyUp","onFocus","onBlur","onSelect","setQuestion","placeholder","selectionStart","selectionEnd","createSelection","field","createTextRange","selRange","collapse","moveStart","moveEnd","select","setSelectionRange","HeaderComponent","SlotListComponent","overflowY","borderTop","bottom","rel","color","divStyle","overflow","opts","playerVars","autoplay","_onReady","youtube","videoId","onReady","ImageListComponent","images","attribution","responseGoogle","LoginComponent","buttonText","onSuccess","onFailure","cookiePolicy","withRouter","isListening","isSpeaking","image","useAnalytics","initClient","analyticsEvent","navigateTo","history","clearSpeechTimeout","ReactGA","initialize","pageview","pathname","search","hotwordReady","cleanEntities","pl","jsonPayload","altparts","alttopic","bindTopic","showUrl","showYoutube","showImages","navigate","k","entitya","page","category","action","displayWindow","close","CrosswordListComponent","crosswords","searchFor","difficulty","searchCrosswords","updateSearchFor","searchDifficulty","searchTimeout","queryParts","list","searchResults","difficultyMap","categoryItems","categoryStyle","align","categories","App","fillCrossword","word","path","exact","HomeContentComponent","IFrameComponent","YoutubeComponent","AboutComponent","FooterComponent","adsenseClient","adsenseSlot","Boolean","ReactDOM","StrictMode","document","getElementById","serviceWorker","registration","unregister"],"mappings":"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AAM,IAAM,IAAM,EAAM,GAAM,IAAM,IAAM,GAAM,GAClE,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,EAAM,IAClE,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAClE,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAClE,EAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,EAAM,GAClE,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAClE,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,EAAM,IAAM,IAAM,IAAM,IAClE,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,GAAM,EAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAClE,EAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAClE,GAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,EAAM,IAAM,GAAM,IAAM,GAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,EAClE,IAAM,GAAM,IAAM,EAAM,IAAM,EAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAClE,IAAM,IAAM,GAAM,IAAM,EAAM,GAAM,GAAM,IAAM,EAAM,GAAM,GAAM,GAClE,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAClE,IAAM,EAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAClE,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,EAAM,IAAM,IAAM,IAClE,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAClE,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAClE,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAClE,IAAM,GAAM,IAAM,EAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAClE,IAAM,IAAM,EAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAClE,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAClE,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAClE,IAAM,GAAM,IAAM,GAAM,EAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAClE,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,EAAM,GAAM,GAClE,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,EAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,EAClE,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,EAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,EAAM,IAAM,GAAM,GAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAClE,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAClE,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAClE,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAClE,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,EAAM,IAAM,GAAM,IAAM,IAAM,IAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,EAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,EAAM,GAAM,IAAM,EAClE,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAClE,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,EAAM,GAAM,IAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAClE,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,EAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAClE,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAClE,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,GAAM,EAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAClE,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAClE,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,GAAM,EAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAClE,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAClE,GAAM,GAAM,IAAM,IAAM,GAAM,EAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAClE,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,EAAM,IAClE,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAClE,GAAM,EAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAClE,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAClE,IAAM,EAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAClE,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAClE,IAAM,EAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAClE,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAClE,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAClE,EAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAClE,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAClE,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,EAAM,GAAM,GAAM,GAAM,EAAM,GAClE,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAClE,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAClE,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAClE,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,EAAM,GAAM,IAAM,GAClE,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAClE,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,EAClE,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,IAAM,EAAM,IAAM,GAAM,IAClE,GAAM,IAAM,GAAM,EAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAClE,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,EAAM,IAAM,GAAM,IAAM,IAAM,EAClE,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,EAAM,IAAM,GAAM,IAClE,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAClE,IAAM,GAAM,GAAM,IAAM,GAAM,EAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAClE,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAClE,GAAM,IAAM,EAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,EAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAClE,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAClE,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,EAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,EAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAClE,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,EAClE,GAAM,EAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAClE,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,EAClE,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,EAAM,GAAM,GAAM,GAAM,IAClE,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAClE,EAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAClE,EAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAClE,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAClE,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,EAAM,IAAM,IAAM,GAClE,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAClE,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,IAAM,EAAM,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAClE,EAAM,IAAM,IAAM,EAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,EAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,EAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,EAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,GAAM,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,GAClE,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,EAAM,GAAM,IAAM,GAClE,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAClE,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAClE,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAClE,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAClE,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,EAAM,GAClE,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAClE,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAClE,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,GAClE,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAClE,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,GAClE,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,EAAM,IAAM,IAAM,GAAM,IAClE,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAClE,GAAM,IAAM,IAAM,GAAM,EAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAClE,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAClE,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAClE,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,GAAM,GAClE,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,EAAM,GAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAClE,IAAM,GAAM,EAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAClE,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,GAClE,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,EAAM,IAAM,IAAM,GAAM,IAClE,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAClE,GAAM,EAAM,IAAM,IAAM,GAAM,EAAM,GAAM,IAAM,GAAM,EAAM,GAAM,EAClE,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAClE,IAAM,GAAM,EAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAClE,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,EAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAClE,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAClE,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAClE,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAClE,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM,GAAM,GAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAClE,IAAM,GAAM,GAAM,EAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAClE,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,EAClE,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAClE,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAClE,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,EAAM,GAAM,GAAM,GAClE,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,EAClE,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAClE,EAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAClE,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,EAAM,IAClE,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAClE,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAClE,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAClE,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAClE,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,EAClE,IAAM,IAAM,IAAM,GAAM,EAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAClE,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAClE,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,EAAM,IAClE,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,EAAM,IAClE,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,GAClE,GAAM,GAAM,EAAM,GAAM,EAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAClE,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,GAAM,EAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAClE,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAClE,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,EAClE,IAAM,IAAM,IAAM,IAAM,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","file":"static/js/main.0e5ac4e7.chunk.js","sourcesContent":["module.exports = function (self) {\n    onmessage = function (e) {\n        switch (e.data.command) {\n            case \"init\":\n                init(e.data.inputSampleRate);\n                break;\n            case \"process\":\n                process(e.data.inputFrame);\n                break;\n            case \"reset\":\n                reset();\n                break;\n        }\n    };\n\n    let inputSampleRate;\n    let inputBuffer = [];\n\n    function init(x) {\n        inputSampleRate = x;\n    }\n\n    function process(inputFrame) {\n        for (let i = 0; i < inputFrame.length; i++) {\n            inputBuffer.push((inputFrame[i]) * 32767);\n        }\n\n        const PV_SAMPLE_RATE = 16000;\n        const PV_FRAME_LENGTH = 512;\n\n        while ((inputBuffer.length * PV_SAMPLE_RATE / inputSampleRate) > PV_FRAME_LENGTH) {\n            let outputFrame = new Int16Array(PV_FRAME_LENGTH);\n            let sum = 0;\n            let num = 0;\n            let outputIndex = 0;\n            let inputIndex = 0;\n\n            while (outputIndex < PV_FRAME_LENGTH) {\n                sum = 0;\n                num = 0;\n                while (inputIndex < Math.min(inputBuffer.length, (outputIndex + 1) * inputSampleRate / PV_SAMPLE_RATE)) {\n                    sum += inputBuffer[inputIndex];\n                    num++;\n                    inputIndex++;\n                }\n                outputFrame[outputIndex] = sum / num;\n                outputIndex++;\n            }\n\n            postMessage(outputFrame);\n\n            inputBuffer = inputBuffer.slice(inputIndex);\n        }\n    }\n\n    function reset() {\n        inputBuffer = [];\n    }\n}\n","module.exports = __webpack_public_path__ + \"static/media/waiting_small.d362cb3f.gif\";","/* global window */\n    \nvar hark = require('hark');\nvar mqtt = require('mqtt')\nvar wav2mqtt = require('./wav2mqtt')\n\n\nvar HermodWebClient = function(config) {\n        var PorcupineManager = require('./porcupine/porcupine_manager')\n        \n        var KeywordData =  require('./porcupine/keyword_data_edison')\n        try {\n            window.PorcupineManager = PorcupineManager\n        } catch(e) {} \n          \n        \n        var mqttClient = null;\n        var isRecording = false;\n        var isSending = false;\n        var isPlaying = false;\n        var waitingFor = {}\n        var onCallbacks = {}\n        \n        var hotwordInitialised = false;\n        var hotwordStarted = false;\n        // default volumes\n        var inputvolume = 1.0  // TODO also hotword volume?\n        var outputvolume = 1.0\n        var hotwordReady = false;        \n        let audioContext = window.AudioContext || window.webkitAudioContext;\n        let microphoneContext = null\n        var microphoneGainNode = null;\n        let speakerContext = null\n        var speakerGainNode = null;\n        var urlAudioPlayer = null;                          \n        var porcupineManager;\n        var speakingTimeout = null;     \n        var speaking = false;\n        var microphoneAudioBuffer = []\n        var bufferSource = null;\n        var currentVolume = null;        \n        var speakerCache = []\n\n        var SENSITIVITIES = new Float32Array([\n                0.9 //, // \"Hey Edison\"\n                //0.5, // \"Hot Pink\"\n                //0.5, // \"Deep Pink\"\n                //0.5, // \"Fire Brick\"\n                //0.5, // \"Papaya Whip\"\n                //0.5, // \"Peach Puff\"\n                //0.5, // \"Sandy Brown\"\n                //0.5, // \"Lime Green\"\n                //0.5, // \"Forest Green\"\n                //0.5, // \"Midnight Blue\"\n                //0.5, // \"Magenta\"\n                //0.5, // \"White Smoke\"\n                //0.5, // \"Lavender Blush\"\n                //0.5 // \"Dim Gray\"\n            ]);\n        \n        var messageFunctions = {\n            'hermod/+/speaker/cache/+' : function(topic,site,payload) {\n                speakerCache.push(payload)\n            }, \n            'hermod/+/speaker/play/+' : function(topic,site,payload) {\n                var parts = topic.split(\"/\")\n                var uid = 'no_id'\n                if (parts.length > 4)  {\n                    uid = parts[4]\n                }\n                if (site && site.length > 0) { \n                    var json = {}\n                    try {\n                        json = JSON.parse(payload)\n                    } catch(e) {}\n                    if (json && json.url) {\n                        if (onCallbacks.hasOwnProperty('startPlaying')) {\n                            onCallbacks['startPlaying']()\n                         } \n                         playUrl(json.url).then(function() {\n                            mqttClient.publish(\"hermod/\"+site+\"/speaker/finished\",JSON.stringify({\"id\":uid})); \n                            if (onCallbacks.hasOwnProperty('stopPlaying')) {\n                                onCallbacks['stopPlaying']()\n                            } \n                        }); \n                    } else {\n                        mqttClient.publish(\"hermod/\"+site+\"/speaker/started\",JSON.stringify({\"id\":uid})); \n                        if (onCallbacks.hasOwnProperty('startPlaying')) {\n                            onCallbacks['startPlaying']()\n                        } \n                        speakerCache.push(payload)\n                        playSound(concat_arrays(speakerCache)).then(function() {\n                            speakerCache = []\n                            mqttClient.publish(\"hermod/\"+site+\"/speaker/finished\",JSON.stringify({\"id\":uid})); \n                            if (onCallbacks.hasOwnProperty('stopPlaying')) {\n                                onCallbacks['stopPlaying']()\n                             } \n                        }); \n                    }\n                }\n            }, \n\n            'hermod/+/nlu/intent': function(topic,site,payload) {\n                var json = JSON.parse(payload)\n                if (json && json.intent && json.intent.name) {\n                    var message = json.intent.name\n                    var entities = []\n                    if (json.entities) {\n                        for (var i in json.entities) {\n                            entities.push(json.entities[i].entity)\n                        }\n                        if (entities.length > 0) {\n                            message += '::'+entities.join(\"__\")\n                        }\n                    }\n                }\n            },\n            'hermod/+/tts/say': function(topic,site,payload) {\n              if (onCallbacks.hasOwnProperty('startSpeaking')) {\n                    onCallbacks['startSpeaking']() \n                }\n            }, \n            'hermod/+/tts/finished': function(topic,site,payload) {\n              if (onCallbacks.hasOwnProperty('stopSpeaking')) {\n                    onCallbacks['stopSpeaking']() \n                }\n            }, \n            \n            'hermod/+/speaker/volume': function(topic,site,payloadIn) {\n                // quarter volume for 10 seconds\n                var payload = {}\n                try {\n                    payload = JSON.parse(payloadIn)\n                    if (payload.volume) setVolume(payload.volume)\n                } catch(e) {\n                    \n                }\n            } ,  \n            'hermod/+/asr/start' : function(topic,site,payload) {\n                 muteVolume()\n                 startMicrophone()\n            },\n            'hermod/+/asr/stop' : function(topic,site,payload) {\n                stopMicrophone()\n                unmuteVolume()\n            },\n            'hermod/+/hotword/start' : function(topic,site,payload) {\n                startHotword();\n            },\n            'hermod/+/hotword/stop' : function(topic,site,payload) {\n                stopHotword();\n            },\n            'hermod/+/ready' : function(topic,site,payload) {\n                console.log('reload on server restart')\n                sendInitMessage(site)\n            }        \n        }\n        \n        \n         \n        \n        function concat_arrays(arrays) {\n            // sum of individual array lengths\n            let totalLength = arrays.reduce((acc, value) => acc + value.length, 0);\n\n            if (!arrays.length) return null;\n            let result = new Uint8Array(totalLength);\n            // for each array - copy it over result\n            // next array is copied right after the previous one\n            let length = 0;\n            for(let array of arrays) {\n                result.set(array, length);\n                length += array.length;\n            }\n\n            return result;\n        }\n        \n        function onMessageArrived(message,payload) {\n            if (waitingFor.hasOwnProperty(message)) {\n                // callback for sendAndWaitFor\n                mqttClient.unsubscribe(message)\n                waitingFor[message](message,payload)\n                delete waitingFor[message]\n            } else {\n                // handle messageFunction\n                var parts = message.split(\"/\")\n                // special handling for id in speaker/play/<id>\n                if ((parts.length > 4 && parts[2] === \"speaker\" && parts[3] === \"play\") || (parts.length > 4 && parts[2] === \"speaker\" && parts[3] === \"cache\") || \n                (parts.length > 4 && parts[2] === \"speaker\" && parts[3] === \"stream_mp3\") || (parts.length > 4 && parts[2] === \"speaker\" && parts[3] === \"stream_wav\")) {\n                    parts[4]=\"+\";\n                }\n                var site = parts[1]\n                parts[1] = '+'\n                var multiSite = parts.join(\"/\")\n                if (messageFunctions.hasOwnProperty(multiSite)) { \n                    messageFunctions[multiSite](message,site,payload)\n                }\n            }\n            if (onCallbacks.hasOwnProperty('message')) {\n                onCallbacks['message'](message,payload)\n            }\n        }\n\n        function sendInitMessage(site) {\n            sendMessage('hermod/'+site+'/dialog/init',{\"platform\":\"web\",\"url\":window.location.origin,\"supports\":[\"audio\",\"display\"]})\n        }\n    \n        function connect() {\n            \n            return new Promise(function(resolve,reject) {\n                function onConnect() {\n                    if (config.subscribe && config.subscribe.length  > 0) { \n                        mqttClient.subscribe('hermod/rasa/ready',function(err) { \n                            mqttClient.unsubscribe(config.subscribe,function(err) {\n                               if (err) console.log(['unSUBSCRIBE ERROR',err])\n                                mqttClient.subscribe(config.subscribe,function(err) {\n                                   if (err) console.log(['SUBSCRIBE ERROR',err])\n                                   sendMessage('hermod/'+config.site+'/asr/activate',{})\n                                   if (onCallbacks.hasOwnProperty('connect')) {\n                                        onCallbacks['connect']()\n                                    }\n                                    sendInitMessage(config.site)\n                                   resolve()\n                                });\n                            });\n                        });\n                    } else {\n                        sendInitMessage(config.site)\n                        if (onCallbacks.hasOwnProperty('connect')) {\n                            onCallbacks['connect']()\n                        }\n                        resolve()\n                    }\n                }\n                var options = {\n                  clientId: config.username,\n                  protocolId: 'MQTT',\n                  protocolVersion: 4,\n                  clean: false,\n                  username: config.username,\n                  password: config.password,\n                  rejectUnauthorized: false\n                }\n                var protocol = 'ws://'\n                var port = 9001\n                if (window.location.protocol == \"https:\") {\n                    protocol = 'wss://' \n                }\n                var mqttServer = null;\n                if (config.server) {\n                    mqttServer = config.server\n                } else {\n                    mqttServer = protocol + window.location.hostname + \":\"+port\n                }\n                \n                mqttClient = mqtt.connect(mqttServer, options);\n                \n                mqttClient.on('connect', onConnect)\n                mqttClient.on('error', function(e) {\n                    console.log('error')\n                    console.log(e)\n                    if (onCallbacks.hasOwnProperty('disconnect')) {\n                        onCallbacks['disconnect']()\n                    }\n                })\n                mqttClient.on('disconnect', function(e) {\n                    console.log('disconnect')\n                    console.log(e)\n                    if (onCallbacks.hasOwnProperty('disconnect')) {\n                        onCallbacks['disconnect']()\n                    }\n                })\n                mqttClient.on('reconnect', function(e) {\n                    console.log('reconnect')\n                    if (onCallbacks.hasOwnProperty('reconnect')) {\n                        onCallbacks['reconnect']() \n                    }\n                })\n\n                mqttClient.on('message',onMessageArrived);\n            })\n            \n        }\n      \n        function disconnect() {\n            if (onCallbacks.hasOwnProperty('disconnect')) {\n                onCallbacks['disconnect']()\n            }\n            mqttClient.end()\n            setTimeout(function() {\n                connect()\n            },3000)\n        }\n         \n        function sendMessage(topic,payload) {\n            mqttClient.publish(topic,JSON.stringify(payload));    \n        }\n        \n        function sendNLUMessage(site,intent,entities) {\n            if (!entities) entities = []\n            mqttClient.publish('hermod/'+site+'/nlu/intent',JSON.stringify({intent:{name:intent}, entities:entities}));    \n        }\n        \n         \n        function sendASRTextMessage(site,text) {\n            mqttClient.publish('hermod/'+site+'/asr/text',JSON.stringify({text:text}));    \n        }\n        \n        \n        function sendAudioMessage(topic,payload) {\n            mqttClient.publish(topic,payload);    \n        }\n        \n        function sendAndWaitFor(sendTopic,payload,waitTopic) {\n            return new Promise(function(resolve,reject) {\n                mqttClient.subscribe(waitTopic)\n                waitingFor[waitTopic] = function() {resolve()};\n                mqttClient.publish(sendTopic,JSON.stringify(payload));  \n            })\n        }\n        \n        function say(text) {\n            return sendAndWaitFor('hermod/'+config.site+'/tts/say',{text:text},'hermod/'+config.site+'/tts/finished')\n        }\n        \n        function sendAudioAndWaitFor(site,audio,waitTopic) {\n            return new Promise(function(resolve,reject) {\n                mqttClient.subscribe(waitTopic)\n                waitingFor[waitTopic] = function() {wav2mqtt.stop(); resolve()};\n                wav2mqtt.start(mqttClient,site,audio);  \n            })\n        }\n        \n        function authenticate() {\n            \n        }\n\n        function setVolume(volume) {\n            if (speakerGainNode && speakerGainNode.gain) speakerGainNode.gain.value = volume/100;\n        }\n        \n        function muteVolume() {\n            if (speakerGainNode && speakerGainNode.gain) {\n                currentVolume = speakerGainNode.gain.value\n                speakerGainNode.gain.value = 0.05;\n            }\n            \n        }\n        \n        function unmuteVolume() {\n            if (currentVolume != null) {\n                if (speakerGainNode && speakerGainNode.gain) {\n                    speakerGainNode.gain.value = currentVolume;\n                    currentVolume = speakerGainNode.gain.value;\n                }\n            }\n        }\n         \n        // event functions\n        // accept callback for trigger on lifecycle events\n        function bind(key,callback) {\n            onCallbacks[key] = callback;\n        } \n         \n        function unbind(key) {\n            delete onCallbacks[key]\n        } \n         \n        function startHotword() {\n            if (onCallbacks.hasOwnProperty('hotwordStart')) {\n                onCallbacks['hotwordStart']()\n            }\n            hotwordStarted = true;\n            if (!hotwordInitialised) {\n                let processCallback = function (keyword) {\n                    if (keyword && hotwordStarted) {\n                        startMicrophone()\n                        sendMessage('hermod/'+config.site+'/hotword/detected',{})\n                        if (onCallbacks.hasOwnProperty('hotwordDetected')) {\n                            onCallbacks['hotwordDetected'](keyword)\n                        }\n                    }\n                };\n                let readyCallback = function() {\n                    //console.log('hotword ready')\n                    hotwordReady = true;\n                    if (onCallbacks.hasOwnProperty('hotwordReady')) {\n                        onCallbacks['hotwordReady']()\n                    }\n                }\n\n                \n                let audioManagerErrorCallback = function (ex) {\n                    console.log(ex);\n                };\n\n                //if (!porcupineManager) {\n                    //console.log('CREATE NEW porc WORKER')\n                    var webpack = false ;\n                    //console.log(config.javascript_environment)\n                    //console.log(config)\n                    if (config.javascript_environment === 'react') {\n                        webpack = true\n                    } \n                    porcupineManager = PorcupineManager(\"./porcupine/porcupine_worker.js\",webpack  );\n                //}\n                porcupineManager.start(KeywordData, SENSITIVITIES, processCallback, audioManagerErrorCallback, readyCallback);\n                //console.log(    'HOW STARYTED')\n                hotwordInitialised = true;\n            }\n        };\n\n        function stopHotword() {\n            if (onCallbacks.hasOwnProperty('hotwordStop')) {\n                onCallbacks['hotwordStop']()\n            }\n            hotwordStarted = false;\n        };\n        \n\n        /**\n         * HELPER FUNCTIONS\n         */\n           \n        /**\n         * Bind silence recognition events to set speaking state\n         */ \n        function bindSpeakingEvents() {\n             if (!navigator.getUserMedia) {\n                navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n             }\n             try {\n                if (navigator.getUserMedia) {\n                  navigator.getUserMedia({audio:true}, function(stream) {\n                    var options = {};\n                    var speechEvents = hark(stream, options);\n                    speechEvents.on('speaking', function() {\n                      clearTimeout(speakingTimeout)\n                      sendAudioBuffer(config.site) \n                      speaking = true\n                      if (onCallbacks.hasOwnProperty('speaking')) {\n                        onCallbacks['speaking']()\n                      }\n                    });\n\n                    speechEvents.on('stopped_speaking', function() {\n                      // send an extra second of silence for ASR\n                      speakingTimeout = setTimeout(function() {\n                             clearTimeout(speakingTimeout)\n                             speaking = false\n                             if (onCallbacks.hasOwnProperty('stopspeaking')) {\n                                onCallbacks['stopspeaking']()\n                             }\n                      },3000);\n                    });    \n                      \n                  }, function(e) {\n                    console.log(['MIC Error capturing audio.',e]);\n                  });\n                } else {\n                    console.log('MIC getUserMedia not supported in this browser.');\n                }\n             }   catch (e) {\n                 console.log(e);\n             }\n        };\n        \n        function bufferAudio(audio) {\n            microphoneAudioBuffer.push(audio);\n            if (microphoneAudioBuffer.length > 30) {\n                microphoneAudioBuffer.shift();\n            }\n        }\n        \n        function sendAudioBuffer(site) {\n            for (var a in microphoneAudioBuffer) {\n                sendAudioMessage('hermod/'+site+'/microphone/audio',microphoneAudioBuffer[a]);\n            }\n            microphoneAudioBuffer = [];\n        }\n        \n        \n        function startMicrophone() {\n            isSending = true;\n            muteVolume()\n            if (onCallbacks.hasOwnProperty('microphoneStart')) {\n                onCallbacks['microphoneStart']()\n            }\n        }\n        \n            \n        function gotDevices(deviceInfos,site) {\n          // TODO https://github.com/webrtc/samples/blob/gh-pages/src/content/devices/input-output/js/main.js\n          // Handles being called several times to update labels. Preserve values.\n          var device = 'default'\n          var devices={}\n          for (let i = 0; i !== deviceInfos.length; ++i) {\n            const deviceInfo = deviceInfos[i];\n            if (deviceInfo.kind === 'audioinput') {\n                devices[deviceInfo.label] = deviceInfo.deviceId\n                if (deviceInfo.label && deviceInfo.label.toLowerCase().indexOf('speakerphone') !== -1) {\n                    device = deviceInfo.deviceId\n                }\n            }\n            devices['FINAL'] = device\n          }\n          activateRecording(site,device)\n        }\n\n        function handleError(error) {\n          console.log('navigator.MediaDevices.getUserMedia error: ', error.message, error.name);\n        }\n        \n        \n        function activateRecording(site,deviceId) {\n            if (isRecording) return;\n            isRecording = true;\n            \n            if (!navigator.getUserMedia) {\n                navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia ||\n            navigator.mozGetUserMedia || navigator.msGetUserMedia;\n            }\n            \n            try {\n                if (navigator.getUserMedia) {\n                  navigator.getUserMedia({audio:true}, success, function(e) {\n                    console.log(['dMIC Error capturing audio.',e]);\n                  });\n                } else {\n                    console.log('MIC getUserMedia not supported in this browser.');\n                }\n             }   catch (e) {\n                 console.log(e);\n             }\n            function success(e) {\n                  microphoneContext = new audioContext();\n                  microphoneGainNode = microphoneContext.createGain();\n                  microphoneGainNode.gain.value = inputvolume;\n                  \n                  var audioInput = microphoneContext.createMediaStreamSource(e);\n                  \n                  var bufferSize = 4096;\n                  \n                    function convertFloat32ToInt16(buffer) {\n                      if (buffer) {\n                          let l = buffer.length;\n                          let buf = new Int16Array(l);\n                          while (l--) {\n                            buf[l] = Math.min(1, buffer[l])*0x7FFF;\n                          }\n                          return buf.buffer;\n                      }\n                    }\n                    \n                    function resample(sourceAudioBuffer,TARGET_SAMPLE_RATE,onComplete) {\n                          var offlineCtx = new OfflineAudioContext(sourceAudioBuffer.numberOfChannels, sourceAudioBuffer.duration * sourceAudioBuffer.numberOfChannels * TARGET_SAMPLE_RATE, TARGET_SAMPLE_RATE);\n                          var buffer = offlineCtx.createBuffer(sourceAudioBuffer.numberOfChannels, sourceAudioBuffer.length, sourceAudioBuffer.sampleRate);\n                          // Copy the source data into the offline AudioBuffer\n                          for (var channel = 0; channel < sourceAudioBuffer.numberOfChannels; channel++) {\n                              buffer.copyToChannel(sourceAudioBuffer.getChannelData(channel), channel);\n                          }\n                          // Play it from the beginning.\n                          var source = offlineCtx.createBufferSource();\n                          source.buffer = sourceAudioBuffer;\n                          source.connect(offlineCtx.destination); \n                          source.start(0);\n                          offlineCtx.oncomplete = function(e) {\n                            // `resampled` contains an AudioBuffer resampled at 16000Hz.\n                            // use resampled.getChannelData(x) to get an Float32Array for channel x.\n                            var resampled = e.renderedBuffer;\n                            var leftFloat32Array = resampled.getChannelData(0);\n                            // use this float32array to send the samples to the server or whatever\n                            onComplete(leftFloat32Array);\n                          }\n                          offlineCtx.startRendering();\n                    }\n         \n                  let recorderTimeout = null;  \n                  let recorder = microphoneContext.createScriptProcessor(bufferSize, 1, 1);\n                  recorder.onaudioprocess = function(e){\n                      if (isRecording  && isSending) { // && speaking) {\n                          resample(e.inputBuffer,16000,function(res) {\n                            if (! isPlaying) { \n                                if (speaking && isRecording  && isSending) {\n                                    if (recorderTimeout) clearTimeout(recorderTimeout)\n                                    sendAudioMessage('hermod/'+site+'/microphone/audio',Buffer.from(convertFloat32ToInt16(res)))\n                                } else {\n                                    if (!recorderTimeout) setTimeout(function() {stopMicrophone(); startHotword()},5000)\n                                    bufferAudio(Buffer.from(convertFloat32ToInt16(res)));\n                                }\n                            } \n                          });\n                      }\n                  }\n                  \n                microphoneGainNode.connect(recorder);\n                audioInput.connect(microphoneGainNode);\n                recorder.connect(microphoneContext.destination);                         \n            }\n        }\n        \n     \n        function stopPlaying() {\n            console.log('STOP PLAY')\n            isPlaying = false\n            if (bufferSource) {\n                 console.log('STOP PLAY real')\n                 bufferSource.stop()\n             }\n            if (urlAudioPlayer) {\n                urlAudioPlayer.pause()\n            }\n            if (onCallbacks.hasOwnProperty('stopPlaying')) {\n                onCallbacks['stopPlaying']()\n            }\n        };\n        \n        function playSound(bytes,playTime) {\n            if (!playTime) playTime = 0;\n            isPlaying = true\n            return new Promise(function(resolve,reject) {\n                try {\n                    if (bytes) {\n                        var buffer = new Uint8Array( bytes.length );\n                        buffer.set( new Uint8Array(bytes), 0 );\n                        speakerContext = new audioContext();\n                        speakerGainNode = speakerContext.createGain();\n        \n                        speakerGainNode.gain.value =  outputvolume; //config.speakervolume/100 ? config.speakervolume/100 :\n                        speakerContext.decodeAudioData(buffer.buffer, function(audioBuffer) {\n                            // global bufferSource for share with stopPlaying\n                            bufferSource = speakerContext.createBufferSource();\n                            bufferSource.buffer = audioBuffer;\n                            bufferSource.connect(speakerGainNode);\n                            speakerGainNode.connect( speakerContext.destination );\n                            \n                            try {\n                                bufferSource.start(0);\n                            } catch (e) {\n                                console.log('play sound error starting')\n                                console.log(e)\n                                isPlaying = false\n                                resolve()\n                            }\n                            bufferSource.onended = function() {\n                                console.log('PLAY SOUND BYTES source ended')\n                                //setTimeout(stopPlaying,100)\n                                isPlaying = false\n                                resolve();\n                            };\n                            bufferSource.onerror = function() {\n                                console.log('PLAY SOUND BYTES source error')\n                                isPlaying = false\n                                resolve();\n                            };\n                        },function(e) {\n                             console.log('PLAY SOUND BYTES decode FAIL')\n                             console.log(e)\n                             isPlaying = false\n                             resolve()   \n                        });\n                        //resolve()\n                    } else {\n                        console.log('PLAY SOUND BYTES no bytes')\n                        isPlaying = false\n                        resolve();\n                    }\n                } catch (e) {\n                    console.log('PLAY SOUND BYTES err')\n                    isPlaying = false\n                    console.log(e)\n                    resolve()\n                }\n            });                        \n        }\n        \n        function playUrl(url) {\n            isPlaying = true \n            return new Promise(function(resolve,reject) {\n                urlAudioPlayer = new Audio(url);\n                urlAudioPlayer.addEventListener(\"canplaythrough\", event => {\n                  /* the audio is now playable; play it if permissions allow */\n                  urlAudioPlayer.play();\n                });\n                urlAudioPlayer.addEventListener(\"ended\", event => {\n                    isPlaying = false \n                    resolve()\n                })\n                urlAudioPlayer.addEventListener(\"error\", event => {\n                    isPlaying = false\n                    resolve()\n                })\n            })\n        }    \n        \n        function stopMicrophone() {\n            isSending = false;\n            \n            if (onCallbacks.hasOwnProperty('microphoneStop')) {\n                onCallbacks['microphoneStop']()\n            }\n            unmuteVolume()\n        }\n        function stopAll() {\n            stopHotword()\n            stopMicrophone()\n        }   \n        \n        function init() {\n            if (navigator && navigator.mediaDevices) {\n                navigator.mediaDevices.enumerateDevices().then(function(info){ gotDevices(info,config.site)} ).catch(handleError);\n                bindSpeakingEvents()\n            }\n        }\n        \n        init()\n             \n        return {setVolume: setVolume, muteVolume: muteVolume, unmuteVolume: unmuteVolume, playSound: playSound, stopPlaying: stopPlaying, say:say, stopAll:stopAll, bind:bind,unbind:unbind,startMicrophone: startMicrophone, stopMicrophone: stopMicrophone, sendAndWaitFor:sendAndWaitFor,sendAudioAndWaitFor:sendAudioAndWaitFor,sendMessage:sendMessage,sendNLUMessage:sendNLUMessage,sendASRTextMessage:sendASRTextMessage,authenticate:authenticate,connect:connect,disconnect:disconnect,startHotword:startHotword,stopHotword:stopHotword}\n}\n\n\nmodule.exports=HermodWebClient \ntry {\n    if (window) {\n        window.HermodWebClient = HermodWebClient\n    }\n} catch (e) {}\n","var Chunker = require('stream-chunker');\nvar stream = require('stream') \nvar Readable = stream.Readable;\nvar Writable = stream.Writable;\nvar fs = require('fs')\n\nlet started = false;\nlet dastream = null;\nlet voiceDetected = false;\nlet silenceTimeout = null;\n// stream selected audio file onto mqtt bus\nfunction  start(mqttClient,siteId,filename) {\n\t// const vad = new VAD(VAD.Mode.NORMAL);\n\t\n\tvar chunker = Chunker(512,{flush:true});\n\tchunker.on('data', function(data) {\n\t\t//console.log('send audio data to '+\"hermod/\"+siteId+\"/microphone/audio\")\n\t\t//console.log(data ? data.length : -1)\n\t\tmqttClient.publish(\"hermod/\"+siteId+\"/microphone/audio\",data);\n\t});\n\t\n\t \n\tvar wavConfig = {\n\t  \"channels\": 1,\n\t  \"sampleRate\": 16000,\n\t  \"bitDepth\": 16\n\t};\n\t//this.micInstance = Microphone(Object.assign({debug:false},wavConfig));\n\tdastream = fs.createReadStream(filename);\n\t//this.micInstance.getAudioStream()\n\tconsole.log('stream '+filename)\n\t\n\tvar wav = require('wav');\n\tvar wavReader = new wav.Reader(wavConfig);\n\tvar inBody = false;\n\t// strip the wav header\n\twavReader.on('format', function (format) {\t\t\t\t\t \n\t//   the WAVE header is stripped from the output of the reader\n\t //console.log('read hgeader')\n\t inBody = true;\n\t});\n\twavReader.on('data', function (data) {\n\t\tif (inBody ) { //&& data && data.length > 0\n\t\t\tconsole.log('read body')\n\t\t\tconsole.log(data && data.buffer ? data.buffer.length : -1)\n\t\t\t//console.log(data.buffer)\n\t\t\tchunker.write(data);\n\t\t}\n\t});\n\tdastream.pipe(wavReader);\n}\n    \nfunction stopRecording(siteId) {\n\t\tstarted = false;\n       // voiceDetected = false;\n       // if (this.micInstance && this.micInstance.stop) this.micInstance.stop()\n\t\tif (dastream) {\n\t\t\tdastream.pause();\n\t\t\tdastream.destroy();\n\t\t}\n\t}\n\n\nmodule.exports = {start : start, stop:stopRecording}\n","/*\n    Copyright 2018 Picovoice Inc.\n\n    You may not use this file except in compliance with the license. A copy of the license is located in the \"LICENSE\"\n    file accompanying this source.\n\n    Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\n    an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\n    specific language governing permissions and limitations under the License.\n*/\n\n//var work = require('webworkify');\nvar WebVoiceProcessor = require('./web_voice_processor')\n\nPorcupineManager = (function (porcupineWorkerScript, webpack = false) {\n    let porcupineWorker;\n    \n    let start = function (keywordIDs, sensitivities, detectionCallback, errorCallback, readyCallback) {\n        porcupineWorker = new Worker(porcupineWorkerScript); //\n        //porcupineWorker = work(require('./porcupine_worker.js')) //window.PorcupineWorker);\n        porcupineWorker.postMessage({\n            command: \"init\",\n            keywordIDs: keywordIDs,\n            sensitivities: sensitivities\n        });\n\n        porcupineWorker.onmessage = function (e) {\n            \n            if (e.data.ready) {\n                console.log('WORKER MSG')\n                console.log(e.data)\n                readyCallback()\n            } else {\n                detectionCallback(e.data.keyword);\n            }\n        };\n\n       WebVoiceProcessor.start([this], errorCallback, webpack);\n    };\n\n    let stop = function () {\n        WebVoiceProcessor.stop();\n        porcupineWorker.postMessage({command: \"release\"});\n    };\n\n    let processFrame = function (frame) {\n        porcupineWorker.postMessage({command: \"process\", inputFrame: frame});\n    };\n\n    return {start: start, processFrame: processFrame, stop: stop}\n});\ntry {\n    module.exports = PorcupineManager\n} catch (e) {}\n\ntry {\n    window.PorcupineManager = PorcupineManager\n} catch (e) {}\n","/* global window */\nvar work = require('webworkify');\nvar workwp = require('webworkify-webpack');\n\nWebVoiceProcessor = (function () {\n    let downsampler;\n\n    let isRecording = false;\n\n    let start = function (engines, errorCallback,webpack = false) {\n        if (!downsampler) {\n            navigator.mediaDevices.getUserMedia({audio: true})\n                .then(stream => {\n                    let audioContext = new (window.AudioContext || window.webkitAudioContext)();\n                    let audioSource = audioContext.createMediaStreamSource(stream);\n                    let node = audioContext.createScriptProcessor(4096, 1, 1);\n                    node.onaudioprocess = function (e) {\n                        if (!isRecording) {\n                            return;\n                        }\n\n                        downsampler.postMessage({command: \"process\", inputFrame: e.inputBuffer.getChannelData(0)});\n                    };\n                    audioSource.connect(node);\n                    node.connect(audioContext.destination);\n                    // react\n                    let downsampler;\n                    if (webpack) {\n                        downsampler = workwp(require.resolve('./downsampling_worker.js'));\n                    } else {\n                    // vanilla\n                        downsampler = work(require('./downsampling_worker.js'));\n                    }\n                    //downsampler = new Worker(downsamplerScript);\n                    downsampler.postMessage({command: \"init\", inputSampleRate: audioSource.context.sampleRate});\n                    downsampler.onmessage = function (e) {\n                        engines.forEach(function (engine) {\n                            engine.processFrame(e.data);\n                        });\n                    };\n                })\n                .catch(errorCallback);\n        }\n\n        isRecording = true;\n    };\n\n    let stop = function () {\n        isRecording = false;\n        downsampler.postMessage({command: \"reset\"});\n    };\n\n    return {start: start, stop: stop};\n})();\n\nmodule.exports = WebVoiceProcessor\ntry {\n    window.WebVoiceProcessor = WebVoiceProcessor;\n} catch(e) {}\n","const KEYWORDS_ID = {\n    \"Hey Edison\": new Uint8Array([\n        0x76, 0xed, 0x94, 0x87, 0x9f, 0xdc, 0x24, 0xc9, 0x38, 0xef, 0x91, 0xed,\n        0xb4, 0x5d, 0x02, 0x8d, 0x34, 0x19, 0x92, 0xb9, 0x40, 0x39, 0xd7, 0xe8,\n        0xce, 0x7e, 0x51, 0xe1, 0x94, 0xdc, 0xe9, 0x7d, 0xd0, 0x14, 0x9b, 0x63,\n        0xfa, 0x6f, 0x55, 0x3e, 0x89, 0xd5, 0x62, 0x7e, 0x5f, 0x99, 0x48, 0x34,\n        0x6f, 0xf9, 0x2c, 0xd5, 0xc5, 0x7b, 0x6e, 0x46, 0xe4, 0xd8, 0x73, 0x46,\n        0x97, 0x62, 0x19, 0x82, 0x39, 0xde, 0x51, 0x70, 0xd7, 0xe5, 0x7f, 0xe8,\n        0xa5, 0xc5, 0xc0, 0x9c, 0xc9, 0xf4, 0x89, 0x14, 0x32, 0x6d, 0x09, 0xee,\n        0x3a, 0xf7, 0xde, 0x26, 0xe5, 0xbb, 0xf1, 0xce, 0x0a, 0x15, 0x29, 0x7c,\n        0xc0, 0x3f, 0x18, 0x18, 0x30, 0xb0, 0x35, 0x68, 0xd9, 0x86, 0xe9, 0xa0,\n        0xc6, 0xec, 0x8c, 0xac, 0x64, 0x86, 0x92, 0x48, 0x0c, 0x34, 0xbc, 0xd6,\n        0xe5, 0x89, 0x3d, 0x99, 0x55, 0x1c, 0xd9, 0xd9, 0xb6, 0x93, 0xf5, 0x97,\n        0xf7, 0x09, 0xe2, 0xca, 0xa5, 0xb8, 0x48, 0x27, 0x25, 0xa7, 0x34, 0x11,\n        0x85, 0x31, 0xb4, 0x7f, 0x4a, 0x43, 0x64, 0x29, 0x7c, 0x48, 0x70, 0xac,\n        0xfc, 0x47, 0xd1, 0xd2, 0xbd, 0x8f, 0x00, 0x31, 0xac, 0xd5, 0x15, 0x53,\n        0xcd, 0x42, 0x4f, 0x2e, 0xf5, 0xe5, 0xf6, 0xea, 0x59, 0xa9, 0x06, 0x82,\n        0xbc, 0x0b, 0x25, 0xc0, 0x6c, 0x65, 0xdb, 0x82, 0x40, 0x25, 0x4a, 0x39,\n        0x3c, 0xe6, 0x86, 0x8e, 0xce, 0x68, 0xb9, 0x80, 0xb2, 0x58, 0xb7, 0x37,\n        0x65, 0xd5, 0xe3, 0xd4, 0x9c, 0x6b, 0x77, 0x70, 0x81, 0x39, 0xb6, 0xd1,\n        0x07, 0xa4, 0x37, 0xc7, 0xbb, 0x76, 0x76, 0x84, 0xc7, 0x99, 0xff, 0xac,\n        0xf3, 0x14, 0x84, 0x24, 0x4d, 0x6f, 0x38, 0x57, 0x9c, 0x4c, 0x07, 0x5f,\n        0xc7, 0x89, 0x7d, 0x5e, 0x21, 0xd2, 0xd3, 0x67, 0x10, 0x43, 0x54, 0xff,\n        0x0c, 0x58, 0x9d, 0x33, 0x95, 0x99, 0x22, 0x09, 0xd1, 0xaf, 0xb1, 0xd2,\n        0x1b, 0xd3, 0x59, 0xcc, 0xbd, 0x75, 0x22, 0xad, 0x3f, 0x1f, 0xac, 0x61,\n        0x76, 0xf5, 0xcf, 0xb3, 0x16, 0x01, 0x32, 0x41, 0xe4, 0x82, 0xb9, 0x44,\n        0x04, 0xaf, 0xad, 0x94, 0x2a, 0x46, 0xd3, 0x07, 0xc6, 0x69, 0xbf, 0x7d,\n        0xed, 0xca, 0x93, 0xd9, 0x69, 0xe3, 0xbf, 0x25, 0x84, 0xda, 0xb8, 0x9d,\n        0xb8, 0x17, 0x41, 0x18, 0x9b, 0xce, 0x9b, 0x68, 0xd5, 0x3f, 0x14, 0xf3,\n        0x21, 0xb8, 0x12, 0x41, 0x61, 0x32, 0x83, 0x03, 0x94, 0x4e, 0xc4, 0x55,\n        0xfc, 0xd2, 0xb7, 0x0a, 0xe4, 0xac, 0x19, 0x96, 0xe9, 0x0a, 0x68, 0x04,\n        0xb3, 0x62, 0xc2, 0x05, 0x6a, 0x01, 0xcf, 0x94, 0x5b, 0x87, 0x98, 0x39,\n        0x85, 0xd7, 0x1c, 0xec, 0xff, 0xd9, 0x3a, 0xe1, 0x40, 0x3b, 0x5f, 0xcf,\n        0x95, 0x89, 0x0f, 0x96, 0x08, 0x1a, 0x53, 0x78, 0x01, 0x44, 0x60, 0x34,\n        0xfe, 0xab, 0x91, 0x0a, 0xfc, 0x31, 0xea, 0x0f, 0x12, 0xb4, 0x49, 0x7e,\n        0x87, 0x00, 0x25, 0x6d, 0xbc, 0x36, 0xde, 0x85, 0x3a, 0xf9, 0xa2, 0xdc,\n        0x38, 0x14, 0xcc, 0x85, 0x2e, 0x5b, 0xd0, 0xba, 0xb0, 0xcc, 0x5d, 0x7e,\n        0x24, 0x97, 0x33, 0x12, 0xcf, 0x35, 0x4e, 0xb1, 0x02, 0x69, 0xa7, 0x6b,\n        0x42, 0xb7, 0xb8, 0xd2, 0x4b, 0xd2, 0xfb, 0xa9, 0x88, 0x61, 0xeb, 0x11,\n        0xa1, 0x51, 0x39, 0x7d, 0x53, 0xc1, 0xe0, 0x9f, 0x11, 0x5e, 0xf3, 0x94,\n        0xb5, 0xa7, 0x1c, 0x5d, 0xd0, 0x6f, 0xc6, 0xbe, 0x7b, 0x86, 0x3b, 0x60,\n        0xde, 0x9e, 0xb2, 0xc6, 0xe1, 0x5a, 0xc4, 0xbf, 0xe7, 0x4f, 0xac, 0x33,\n        0x55, 0x55, 0x64, 0x9d, 0x5d, 0x89, 0xf6, 0x57, 0x71, 0xee, 0x2c, 0x11,\n        0xa8, 0x1d, 0xd5, 0x01, 0x74, 0x1b, 0x66, 0x1d, 0xc0, 0xb1, 0x61, 0xa0,\n        0xb6, 0xea, 0x06, 0x92, 0x4a, 0x6a, 0x83, 0x9d, 0xd4, 0xe3, 0x5d, 0xd5,\n        0xb2, 0xe5, 0x2f, 0x4b, 0xe2, 0x39, 0x6d, 0xbb, 0xc9, 0x27, 0x4d, 0x88,\n        0xce, 0x70, 0x7a, 0x9a, 0x8a, 0x04, 0xf5, 0xbb, 0x69, 0x7d, 0xa6, 0x9f,\n        0x54, 0x2a, 0x56, 0xe7, 0x50, 0x7f, 0x25, 0xb6, 0xe8, 0xe5, 0x23, 0x3d,\n        0xd4, 0x41, 0x63, 0x0a, 0xf9, 0xec, 0xff, 0xfc, 0x12, 0x57, 0x5b, 0xac,\n        0xb0, 0xaf, 0xc3, 0xee, 0x4d, 0xf3, 0x16, 0x70, 0xc3, 0x33, 0x29, 0xfb,\n        0x9d, 0x3a, 0xea, 0x19, 0x02, 0xbc, 0x3b, 0xab, 0x6e, 0xa8, 0xa4, 0x69,\n        0x96, 0xe2, 0x27, 0x5b, 0x86, 0x60, 0xe8, 0x74, 0xf3, 0x7d, 0x8c, 0xa5,\n        0x3a, 0x9c, 0xd4, 0xf1, 0x5d, 0x6f, 0xf2, 0x26, 0x69, 0xcf, 0xed, 0xcf,\n        0x89, 0xd9, 0x09, 0xd2, 0x68, 0xf3, 0x33, 0xf8, 0xc6, 0xc5, 0x8a, 0x44,\n        0x14, 0x88, 0x2c, 0xa2, 0x6e, 0x15, 0x36, 0x63, 0x7a, 0x68, 0x8d, 0x0b,\n        0x9c, 0xa4, 0xe9, 0x8d, 0xe0, 0xf4, 0x98, 0x79, 0x44, 0x07, 0x4d, 0x5b,\n        0x4c, 0x8b, 0xf9, 0x59, 0xd6, 0x2b, 0x97, 0x35, 0xf7, 0x59, 0x86, 0x6c,\n        0x95, 0x08, 0x47, 0xdd, 0x87, 0x67, 0xc4, 0x35, 0xeb, 0xc6, 0xaf, 0x01,\n        0xf8, 0x5e, 0x0b, 0x4e, 0xee, 0x84, 0x08, 0xa1, 0x72, 0xc5, 0x94, 0xf3,\n        0x81, 0x06, 0xc1, 0x2f, 0x91, 0x0a, 0xbd, 0x87, 0x60, 0x70, 0xc8, 0xa3,\n        0xe2, 0x6d, 0x00, 0xaa, 0x8b, 0xd4, 0x2c, 0x4e, 0x9d, 0x6b, 0xcf, 0xdd,\n        0x36, 0x9a, 0x30, 0xa2, 0x21, 0xf2, 0xa0, 0x38, 0x12, 0x65, 0xa3, 0xfa,\n        0x66, 0x9a, 0x8f, 0xae, 0x9b, 0x61, 0x80, 0xf8, 0xdd, 0xe0, 0xf5, 0xe4,\n        0xfa, 0xdb, 0xeb, 0x6a, 0x55, 0x96, 0x19, 0x24, 0xaa, 0x9a, 0xce, 0xfa,\n        0xae, 0x23, 0x8a, 0x5b, 0x4a, 0xc1, 0x46, 0x08, 0xc5, 0x33, 0x34, 0x62,\n        0xf3, 0xca, 0xb1, 0x8a, 0xf2, 0xba, 0x8e, 0x2e, 0xb1, 0x2d, 0x26, 0x41,\n        0x87, 0xc7, 0xf0, 0xa8, 0x86, 0x4e, 0xac, 0xe7, 0x9c, 0x40, 0x21, 0x66,\n        0x13, 0xe2, 0x51, 0xbe, 0x1f, 0xcd, 0x40, 0x39, 0xef, 0x70, 0x2e, 0x2f,\n        0x17, 0xba, 0x26, 0x13, 0x4b, 0xfc, 0xb9, 0x54, 0x60, 0x6f, 0xc7, 0x68,\n        0xed, 0x69, 0x3c, 0x5a, 0xc0, 0x78, 0xf0, 0xcf, 0x4f, 0x9f, 0x35, 0xfe,\n        0x43, 0xfc, 0xd4, 0x8b, 0xbc, 0x41, 0x5e, 0x19, 0x80, 0x8b, 0xa6, 0x29,\n        0xaf, 0x57, 0xf3, 0xb8, 0xc8, 0xb3, 0xa6, 0xe4, 0xf7, 0xaa, 0x4b, 0x2b,\n        0xfd, 0x2a, 0x2c, 0x0f, 0xe0, 0x0f, 0x8c, 0xb8, 0xac, 0xd2, 0x8a, 0xf0,\n        0xef, 0x34, 0x56, 0x94, 0x35, 0x14, 0x02, 0x70, 0x57, 0xf4, 0xe6, 0xc5,\n        0x82, 0x26, 0x81, 0x6b, 0xd2, 0xc8, 0x80, 0x70, 0xc1, 0xa6, 0x6b, 0x64,\n        0x09, 0xe7, 0x52, 0xaf, 0xb2, 0x7f, 0xaa, 0xa0, 0xfc, 0x1a, 0x4d, 0x1c,\n        0xe9, 0x35, 0xe2, 0xa8, 0xf9, 0x7c, 0x34, 0x88, 0x01, 0x39, 0x7d, 0x02,\n        0xff, 0x6f, 0x40, 0x17, 0x59, 0xe3, 0xe8, 0x56, 0x18, 0x87, 0x74, 0x4f,\n        0xe1, 0x2f, 0xf2, 0x9d, 0x57, 0xd1, 0x5d, 0x42, 0xe5, 0x01, 0x21, 0xf4,\n        0x8d, 0xff, 0x0b, 0x0f, 0xd1, 0x8a, 0x81, 0x40, 0xa4, 0xad, 0x70, 0x72,\n        0x75, 0x3a, 0xb0, 0xa1, 0x9a, 0xbf, 0xdf, 0x3c, 0xab, 0x61, 0x52, 0xf7,\n        0xd6, 0xf1, 0x0f, 0x40, 0x15, 0x57, 0x46, 0xa6, 0xc6, 0x8c, 0x75, 0x39,\n        0xc0, 0x8a, 0xb6, 0xfa, 0x0e, 0x11, 0x96, 0xf8, 0x96, 0x69, 0xb8, 0x1f,\n        0xb1, 0xf9, 0xf4, 0xb4, 0x02, 0x3c, 0xb9, 0x43, 0xce, 0xd7, 0x2b, 0xf4,\n        0x76, 0x63, 0x28, 0x2d, 0xeb, 0x55, 0x83, 0x92, 0x54, 0x98, 0xf3, 0x16,\n        0x43, 0x33, 0x29, 0xc9, 0xce, 0x2f, 0x47, 0x28, 0xd2, 0x81, 0xef, 0xe8,\n        0x95, 0xdc, 0xa0, 0x44, 0xe5, 0x64, 0x69, 0x79, 0x34, 0x7f, 0x70, 0x80,\n        0xf5, 0xf0, 0x91, 0x43, 0x51, 0x05, 0xf4, 0xbf, 0x12, 0x6b, 0x2e, 0x75,\n        0xb9, 0x7c, 0x3b, 0x7d, 0xba, 0x92, 0x22, 0x25, 0xd1, 0x83, 0x16, 0x80,\n        0x93, 0x21, 0x8b, 0x61, 0x7c, 0xcf, 0x11, 0x26, 0xad, 0x8e, 0x67, 0xf9,\n        0xf1, 0x0c, 0x53, 0xaa, 0x47, 0xf3, 0x33, 0x21, 0x9c, 0xdd, 0xc4, 0x7d,\n        0x62, 0xf7, 0x29, 0x8f, 0xd1, 0x3c, 0x20, 0x53, 0x1b, 0xf6, 0xac, 0x99,\n        0x58, 0x48, 0xf4, 0xff, 0x41, 0x7c, 0x5f, 0x29, 0x75, 0xd3, 0x86, 0xd0,\n        0xe3, 0x66, 0x44, 0x09, 0x37, 0x86, 0x35, 0x21, 0x81, 0x7b, 0xc4, 0x86,\n        0x6c, 0x97, 0xb8, 0x21, 0xd9, 0xda, 0x4a, 0xdd, 0xab, 0xbd, 0xef, 0x93,\n        0xa3, 0x11, 0x48, 0xaa, 0x3c, 0xfe, 0x1c, 0xa5, 0x1f, 0xac, 0x3d, 0x50,\n        0x65, 0x98, 0xb5, 0xce, 0xe3, 0x4a, 0xbf, 0x4d, 0xa0, 0xb6, 0x86, 0x63,\n        0x83, 0x36, 0x96, 0x43, 0x19, 0x8d, 0xea, 0xaf, 0x0e, 0x34, 0xef, 0xbc,\n        0x37, 0x5f, 0xc2, 0xe6, 0x30, 0x08, 0x1c, 0x45, 0xdf, 0xe5, 0x29, 0x49,\n        0x3c, 0x7d, 0x4a, 0x0a, 0xa5, 0x2b, 0xb4, 0xa2, 0xb1, 0xad, 0x73, 0x75,\n        0x9b, 0x1e, 0x19, 0x80, 0x31, 0x0c, 0xec, 0xa0, 0xc5, 0xaf, 0x08, 0xfe,\n        0x12, 0x1e, 0xee, 0xa0, 0x4d, 0xa2, 0x93, 0x70, 0xbf, 0x3f, 0x16, 0xb2,\n        0x3e, 0x00, 0x1d, 0x5c, 0x9c, 0x4c, 0xbf, 0xb4, 0x62, 0xab, 0x2a, 0xf3,\n        0xe4, 0xce, 0x23, 0xed, 0xb4, 0xa6, 0xc6, 0x76, 0x55, 0xbb, 0x1b, 0x7d,\n        0xc6, 0x9a, 0xc8, 0xe4, 0xc2, 0xe7, 0x26, 0x53, 0x8c, 0x2e, 0x12, 0xd2,\n        0x0d, 0x24, 0x90, 0x60, 0xcc, 0xbf, 0xd1, 0x26, 0xa1, 0x5e, 0x21, 0xfa,\n        0xa6, 0x00, 0x18, 0x96, 0x65, 0xe8, 0xae, 0xd6, 0x3e, 0x33, 0x2f, 0xa8,\n        0xe4, 0xab, 0xb6, 0x01, 0x98, 0xf7, 0xab, 0x8c, 0x9a, 0x0e, 0xe4, 0x6c,\n        0xcc, 0xf2, 0xaa, 0x10, 0x85, 0xf6, 0x67, 0x9a, 0x62, 0x29, 0x38, 0x3f,\n        0x6f, 0x08, 0x4b, 0xaa, 0xbb, 0x22, 0x4d, 0x6c, 0x24, 0x3a, 0xe7, 0x3b,\n        0xe8, 0xb8, 0x54, 0x20, 0xdf, 0xd7, 0x96, 0x3e, 0x99, 0x1d, 0x52, 0x55,\n        0x82, 0x1d, 0x71, 0x23, 0xf5, 0x9a, 0x5c, 0x67, 0xf1, 0x36, 0xf6, 0xd8,\n        0x4e, 0xae, 0x94, 0xa0, 0xc7, 0x4e, 0xd0, 0xc4, 0x77, 0xf5, 0xff, 0x7f,\n        0xc8, 0x86, 0x1f, 0xf6, 0xfe, 0xa0, 0xd0, 0x3c, 0x19, 0xbf, 0xc0, 0x40,\n        0x04, 0x13, 0x1b, 0x6e, 0x27, 0xc4, 0xc3, 0x7a, 0x22, 0xb6, 0xdc, 0x50,\n        0xd6, 0xec, 0x63, 0x83, 0x75, 0xac, 0x18, 0x50, 0xb9, 0x40, 0xdc, 0xac,\n        0x79, 0xb9, 0x79, 0x54, 0x45, 0x8b, 0x2e, 0x0d, 0x5c, 0x27, 0x9c, 0xc2,\n        0x5e, 0x32, 0x4d, 0x91, 0x15, 0x15, 0xa5, 0xed, 0xb4, 0x88, 0x2f, 0xdf,\n        0x3c, 0x47, 0x13, 0x6d, 0x91, 0xb8, 0x03, 0xf8, 0xbf, 0xac, 0x72, 0x62,\n        0x9b, 0x65, 0x56, 0xc8, 0xcf, 0x17, 0x2d, 0xa6, 0xd3, 0x16, 0x37, 0x68,\n        0x5e, 0x11, 0xd9, 0xad, 0x40, 0x24, 0x07, 0x56, 0x61, 0x0c, 0x00, 0x17,\n        0x18, 0xf6, 0x6d, 0xac, 0xe8, 0x86, 0x88, 0xc2, 0x52, 0xac, 0x12, 0xbd,\n        0x47, 0x9e, 0x8a, 0xf6, 0xb6, 0x65, 0x6e, 0x97, 0xd6, 0xd2, 0x40, 0xc0,\n        0xc0, 0x4c, 0x2e, 0x6b, 0x4e, 0x23, 0x27, 0x90, 0x5f, 0x4a, 0xe0, 0x64,\n        0x55, 0xae, 0xf9, 0x34, 0x1a, 0xae, 0x17, 0xec, 0xf8, 0x91, 0x78, 0xb4,\n        0x6f, 0x3a, 0x9d, 0x3c, 0xac, 0x10, 0x59, 0xfa, 0x7c, 0x83, 0xa5, 0x0a,\n        0x21, 0x63, 0xc8, 0x30, 0x7b, 0xea, 0x59, 0xd6, 0x5c, 0xd4, 0x6a, 0xaf,\n        0xe2, 0xbe, 0xca, 0x6d, 0x07, 0x69, 0x8e, 0xb0, 0x14, 0x84, 0xa2, 0x73,\n        0x8e, 0xcf, 0x87, 0x48, 0xfb, 0xee, 0x57, 0x11, 0x7b, 0x35, 0xea, 0x3f,\n        0x64, 0xdf, 0xee, 0x78, 0xb0, 0x39, 0x8f, 0xab, 0x00, 0x40, 0xef, 0x38,\n        0x1e, 0x40, 0x17, 0x85, 0x24, 0xfe, 0xe4, 0xbd, 0xe9, 0x38, 0x68, 0x25,\n        0xd8, 0x10, 0x18, 0xda, 0x6c, 0xb4, 0x21, 0x43, 0xb0, 0xfb, 0xa8, 0xa9,\n        0x6c, 0x5a, 0x3d, 0x64, 0x6a, 0x0e, 0xe7, 0x93, 0xd5, 0x3f, 0x4d, 0xbc,\n        0xb0, 0x32, 0xa2, 0xea, 0xda, 0x74, 0x36, 0x60, 0xac, 0x81, 0x7f, 0x02,\n        0x86, 0xb4, 0x03, 0x9d, 0xa0, 0xee, 0x81, 0x7c, 0x05, 0xc6, 0x56, 0x9c,\n        0x41, 0xc4, 0x5d, 0x08, 0x37, 0x12, 0x53, 0xd5, 0xc3, 0xee, 0x12, 0x9a,\n        0xd3, 0x7e, 0x96, 0x27, 0x2e, 0xa5, 0x07, 0xb5, 0x0b, 0xc4, 0xd0, 0x08,\n        0x49, 0x64, 0x5d, 0x43, 0xaa, 0x7d, 0x56, 0x22, 0x48, 0xd1, 0x74, 0x0e,\n        0xe0, 0x8c, 0xa7, 0x3f, 0x84, 0xdd, 0xa1, 0xfc, 0x02, 0xdb, 0x32, 0xa0,\n        0x1c, 0x92, 0x6e, 0xc0, 0x69, 0x5a, 0x45, 0x5b, 0xb7, 0x73, 0x37, 0xd5,\n        0xa1, 0x40, 0x5f, 0xf3, 0x57, 0x07, 0xa4, 0x57, 0x45, 0xb3, 0x3d, 0x12,\n        0x47, 0x2c, 0x5c, 0xbc, 0xe0, 0x31, 0x92, 0xda, 0xb6, 0x29, 0x5a, 0xd3,\n        0x65, 0xd5, 0xd4, 0x67, 0xd0, 0x26, 0x6a, 0x76, 0x0c, 0x5c, 0xb4, 0x1f,\n        0x61, 0xd3, 0x00, 0xa9, 0xce, 0x1d, 0xe9, 0x3d, 0x7e, 0xbe, 0x92, 0xc6,\n        0xa0, 0xe1, 0x77, 0x58, 0x07, 0xc7, 0x31, 0x96, 0x56, 0x69, 0x49, 0x34,\n        0xf6, 0xbd, 0x42, 0x13, 0x86, 0xe4, 0x12, 0x56, 0xae, 0x0b, 0xb2, 0xf1,\n        0xe5, 0xf6, 0xba, 0xc2, 0xcf, 0xa8, 0xe4, 0x22, 0x86, 0xdd, 0x2a, 0x86,\n        0xee, 0x7c, 0xc5, 0x1e, 0x3f, 0x0c, 0xe9, 0x3c, 0x62, 0xc3, 0x97, 0xc6,\n        0x40, 0xa8, 0x53, 0x82, 0xcf, 0xdc, 0x88, 0x42, 0xb7, 0x76, 0x7e, 0x6c,\n        0xc1, 0x03, 0xf6, 0xf9, 0x1a, 0x93, 0x60, 0x44, 0xb1, 0x50, 0xe3, 0x9e,\n        0xa7, 0x00, 0x2e, 0x73, 0x88, 0x35, 0x8e, 0x5e, 0xdb, 0xdf, 0x63, 0xa5,\n        0x22, 0x50, 0x1a, 0x31, 0x2d, 0x28, 0xe6, 0xf1, 0xbe, 0xe4, 0x4d, 0x05,\n        0x60, 0x01, 0x63, 0x58, 0x71, 0x52, 0x11, 0x11, 0xf1, 0x9f, 0xe7, 0x48,\n        0x1d, 0x67, 0xc3, 0x5a, 0x50, 0x35, 0xe9, 0x4e, 0xcf, 0xda, 0x27, 0x04,\n        0x95, 0x60, 0xd6, 0x5a, 0xc2, 0x32, 0xf8, 0x00, 0x29, 0x5b, 0x46, 0xac,\n        0x9a, 0x22, 0xd6, 0x93, 0xe3, 0x1a, 0xa2, 0xea, 0x56, 0x4a, 0xb8, 0xf0,\n        0x08, 0x50, 0x17, 0xcc, 0x9e, 0xf4, 0x80, 0x5c, 0x12, 0xca, 0x87, 0x23,\n        0x03, 0x31, 0xde, 0x63, 0x18, 0x44, 0x92, 0x7f, 0xff, 0xfb, 0xb2, 0x68,\n        0xbb, 0x55, 0x0f, 0xc6, 0x68, 0xcc, 0xcd, 0xda, 0x58, 0x5b, 0x2a, 0x9d,\n        0x59, 0x8e, 0x4c, 0x80, 0x93, 0x6e, 0xf7, 0x60, 0x41, 0x71, 0x13, 0x4e,\n        0x41, 0x5f, 0xda, 0x7f, 0xea, 0x39, 0x1c, 0xc5, 0x06, 0x79, 0xfe, 0x47,\n        0xc0, 0x47, 0x2f, 0x5e, 0x64, 0x4b, 0x91, 0x82, 0x90, 0xe1, 0x17, 0x95,\n        0x5d, 0xeb, 0x0d, 0x93, 0x81, 0xbc, 0x7a, 0x95, 0x7e, 0xd9, 0x67, 0xc6,\n        0xf8, 0xef, 0x17, 0x8a, 0x64, 0x8d, 0x14, 0x52, 0xb0, 0x3a, 0xac, 0xce,\n        0xea, 0x76, 0xd5, 0xd8, 0xc1, 0x64, 0x84, 0xba, 0xff, 0x66, 0x0b, 0x14,\n        0xe4, 0x13, 0x87, 0xa1, 0x6e, 0x38, 0x19, 0x28, 0xe6, 0x47, 0x7c, 0x6a,\n        0xc5, 0xa8, 0x04, 0xd3, 0x24, 0x61, 0x22, 0xf2, 0x28, 0x0b, 0xfc, 0x24,\n        0x05, 0x91, 0xe6, 0x05, 0x48, 0x2e, 0xc1, 0xc3, 0xec, 0xa5, 0x6c, 0xbf,\n        0x03, 0x44, 0x37, 0x16, 0x0b, 0x56, 0xd7, 0xaa, 0x21, 0xae, 0x04, 0x1c,\n        0xcd, 0x8b, 0xf6, 0xe3, 0xab, 0x46, 0x65, 0x3b, 0x71, 0x96, 0x98, 0x0a,\n        0xce, 0x95, 0xc7, 0x8f, 0x6a, 0x1b, 0xfa, 0x0b, 0x6f, 0xea, 0xac, 0x83,\n        0x09, 0x19, 0xd6, 0x69, 0x0b, 0x5b, 0xfe, 0x13, 0x85, 0x81, 0xef, 0xb3,\n        0x0e, 0x79, 0x56, 0x4e, 0x44, 0x5f, 0x4b, 0x2d, 0x18, 0x0a, 0xb9, 0x17,\n        0x5d, 0x51, 0xb2, 0x73, 0xec, 0xdf, 0x98, 0x4c, 0x02, 0x2a, 0xa1, 0x3d,\n        0xfd, 0x89, 0xde, 0x52, 0x4e, 0x5e, 0x7c, 0x8a, 0xb2, 0x31, 0xcb, 0x20,\n        0xea, 0x7d, 0x60, 0x61, 0x1f, 0x1d, 0x92, 0xc1, 0xe6, 0x67, 0xa9, 0x10,\n        0x1a, 0xb0, 0xa1, 0x8c, 0xec, 0x2c, 0xc7, 0xf2, 0x6b, 0x25, 0xa7, 0xf4,\n        0x41, 0xef, 0xb9, 0x34, 0x6c, 0x7d, 0x7c, 0xe5, 0xc1, 0xb0, 0xa5, 0x11,\n        0x94, 0xce, 0x1f, 0xab, 0x39, 0x87, 0xf7, 0x16, 0xb1, 0x2c, 0x0b, 0x42,\n        0x63, 0x30, 0x44, 0x0d, 0x46, 0xbb, 0x8a, 0x2d, 0xdb, 0x81, 0x03, 0x55,\n        0x1c, 0x9d, 0xf1, 0xfa, 0xe7, 0x88, 0xd4, 0xce, 0x98, 0x7b, 0xfc, 0x0e,\n        0x13, 0x6f, 0x10, 0xdc, 0x58, 0x1b, 0x42, 0xf4, 0x89, 0xd0, 0x83, 0xdc,\n        0x9b, 0x97, 0xfe, 0x60, 0xa6, 0xab, 0xff, 0xfb, 0x35, 0xcf, 0x20, 0x36,\n        0xca, 0x45, 0xac, 0xc0, 0x9f, 0x27, 0x1a, 0x8b, 0x61, 0x35, 0x0d, 0x32,\n        0x17, 0x3d, 0xe6, 0x8b, 0x45, 0x82, 0x4c, 0xf0, 0xb9, 0xdf, 0x49, 0x6e,\n        0x2f, 0x2f, 0xd4, 0x85, 0xc0, 0xdb, 0xcf, 0x91, 0x60, 0x20, 0x23, 0x1d,\n        0xba, 0xb0, 0xb3, 0x71, 0xdc, 0x58, 0x3a, 0xab, 0x25, 0x0e, 0x17, 0x52,\n        0x2b, 0xec, 0xf9, 0xcc, 0xc2, 0x22, 0x26, 0x00, 0xe3, 0xb0, 0x53, 0xc4,\n        0x7a, 0x42, 0xab, 0x6a, 0x0e, 0x74, 0x68, 0xcb, 0x6e, 0xb2, 0xf8, 0x5d,\n        0x2c, 0xb7, 0xc0, 0x32, 0x04, 0xec, 0x23, 0xb8, 0xdd, 0x18, 0x6a, 0x98,\n        0x71, 0x13, 0x59, 0x4b, 0xb6, 0x4c, 0x0c, 0xfb, 0x4c, 0x12, 0x2a, 0xa0,\n        0x23, 0xb6, 0x94, 0x1d, 0xb8, 0x20, 0x94, 0x0d, 0x1e, 0x6d, 0x69, 0x41,\n        0x24, 0x3c, 0x83, 0xf5, 0x1b, 0x74, 0x3d, 0x36, 0xfc, 0xf4, 0x91, 0xd9,\n        0xd7, 0x8a, 0x29, 0xcd, 0x6e, 0x9c, 0x02, 0xc0, 0xc7, 0x7d, 0x62, 0x15,\n        0xa8, 0x80, 0xf6, 0x5a, 0x8a, 0x2a, 0x5e, 0xb4, 0x06, 0x1a, 0xf1, 0x0f,\n        0xe0, 0x8d, 0xe7, 0xc5, 0x67, 0x39, 0xc7, 0xb0, 0xf7, 0x0c, 0xf4, 0xf0,\n        0xe4, 0x5f, 0x07, 0x3b, 0x1d, 0xce, 0x44, 0xc9, 0x49, 0xfd, 0x28, 0xa8,\n        0x61, 0x34, 0x54, 0x74, 0x72, 0xf1, 0x20, 0x27, 0x55, 0x34, 0xfe, 0x0d,\n        0x2f, 0xe7, 0xdf, 0x1e, 0xc9, 0x54, 0x0e, 0x06, 0xe2, 0xda, 0x42, 0xc2,\n        0x14, 0x2b, 0x67, 0xae, 0x5b, 0x31, 0x7f, 0x59, 0x0a, 0x73, 0xde, 0xc6,\n        0xfa, 0xe7, 0xac, 0x88, 0x0e, 0x60, 0xa9, 0x42, 0xa5, 0xca, 0x6c, 0x40,\n        0x15, 0x07, 0xff, 0xe5, 0x23, 0x02, 0x0e, 0x97, 0x20, 0x00, 0x17, 0x05,\n        0x1e, 0x93, 0x64, 0x95, 0x79, 0x34, 0x1b, 0x8c, 0x30, 0xce, 0xc5, 0x5e,\n        0x93, 0x16, 0x06, 0x41, 0x81, 0x4a, 0x74, 0xd6, 0x2e, 0xec, 0x60, 0x17,\n        0x90, 0x97, 0x3e, 0x30, 0x48, 0x9e, 0xb9, 0x67, 0xb8, 0xf0, 0xc1, 0xdd,\n        0x97, 0x71, 0xcf, 0x48, 0xd0, 0xeb, 0x4e, 0x24, 0xc4, 0x67, 0x6c, 0xca,\n        0x95, 0x51, 0x21, 0x0d, 0x76, 0xd3, 0x81, 0x7d, 0x8e, 0xe8, 0xff, 0xdd,\n        0xc3, 0x09, 0xd6, 0xab, 0x26, 0xc4, 0x48, 0xe9, 0xfc, 0x69, 0x0c, 0x43,\n        0xa1, 0xf2, 0x35, 0xca, 0x5a, 0xbf, 0x1a, 0xbd, 0xea, 0x46, 0x22, 0x99,\n        0x75, 0x65, 0x2b, 0xce, 0x16, 0x73, 0xd9, 0xf5, 0x40, 0x2b, 0x7e, 0x3c,\n        0x94, 0xe4, 0x79, 0xfd, 0x5e, 0xb9, 0x9a, 0x99, 0xdd, 0x58, 0x4e, 0xe2,\n        0xcf, 0x2d, 0x36, 0x42, 0x26, 0x15, 0x59, 0xfb, 0xd4, 0xe1, 0xb7, 0x5a,\n        0x51, 0xe3, 0xcc, 0x7f, 0x5f, 0xcc, 0x8f, 0xc6, 0x4e, 0x84, 0xa2, 0xd7,\n        0xdb, 0x75, 0xe1, 0x4c, 0xb1, 0x0d, 0x67, 0x12, 0x11, 0x48, 0x0d, 0x33,\n        0x6b, 0xff, 0xfc, 0xda, 0xd8, 0xed, 0x37, 0xfe, 0x7e, 0x41, 0x0b, 0x73,\n        0x8e, 0x10, 0x2f, 0x07, 0x2a, 0xe3, 0xdc, 0xf9, 0x98, 0x4f, 0xd5, 0xbe,\n        0xa1, 0xd6, 0x4a, 0x77, 0x3b, 0x22, 0xcc, 0xd4, 0x57, 0xc6, 0x2c, 0x02,\n        0xda, 0x4d, 0xf8, 0xca, 0x21, 0x21, 0xc6, 0x55, 0x2d, 0xf6, 0x45, 0xdb,\n        0x75, 0xa8, 0xfa, 0xfe, 0xf4, 0x59, 0x4f, 0xf1, 0x0b, 0x69, 0x6d, 0x37,\n        0xfe, 0x92, 0x23, 0x57, 0x85, 0x31, 0xae, 0x44, 0x6b, 0xd7, 0x9f, 0x28,\n        0x8c, 0x4c, 0xd0, 0xc9, 0xca, 0xf8, 0x8e, 0x1b, 0x27, 0x82, 0x1d, 0xef,\n        0xf5, 0xb3, 0xf1, 0x8f, 0x28, 0x71, 0xde, 0xb8, 0x1c, 0xfa, 0x2a, 0xe9,\n        0x8a, 0x40, 0x6d, 0x92, 0x84, 0x8e, 0x63, 0x42, 0x04, 0x24, 0x17, 0x18,\n        0xb2, 0x80, 0xe4, 0xbe, 0x58, 0x6a, 0xb4, 0xf5, 0x15, 0x1e, 0x1b, 0x08,\n        0xc5, 0x3f, 0xa6, 0xdf, 0xd9, 0xc9, 0x46, 0xda, 0xf3, 0x12, 0xcd, 0xc7,\n        0x02, 0x3a, 0xde, 0x45, 0xe6, 0xee, 0xde, 0x36, 0x3a, 0x8c, 0xc8, 0xfb,\n        0x3a, 0xa5, 0x1a, 0x33, 0x81, 0xe1, 0x9e, 0x55, 0xfa, 0x6b, 0xd3, 0x85,\n        0x36, 0x92, 0xd6, 0x83, 0x86, 0x9d, 0x6f, 0xee, 0xff, 0xa6, 0x27, 0xed,\n        0x4d, 0xe8, 0x3f, 0x34, 0xbd, 0x45, 0x32, 0x5a, 0xab, 0x99, 0x02, 0x99,\n        0x0c, 0xa3, 0xff, 0x79, 0xaf, 0x65, 0x22, 0x56, 0x77, 0xac, 0x49, 0xaf,\n        0xba, 0x17, 0xab, 0xd6, 0x15, 0x41, 0xf3, 0x86, 0x78, 0x5f, 0xbd, 0x5c,\n        0x5e, 0x34, 0x41, 0x7e, 0x32, 0x4f, 0xa8, 0xa4, 0xca, 0xe3, 0x3b, 0x6d,\n        0x1c, 0x25, 0x79, 0xd0, 0xfd, 0xc2, 0x60, 0x2f, 0x0e, 0x22, 0x5f, 0x41,\n        0x43, 0xb4, 0xfc, 0xf6, 0x3a, 0xa3, 0x75, 0xba, 0xe6, 0xf8, 0x1e, 0xf6,\n        0x37, 0x65, 0xc1, 0x88, 0xb7, 0xa8, 0xb7, 0xc7, 0x3b, 0x75, 0x29, 0x21,\n        0xc7, 0xed, 0x40, 0x0e, 0xc9, 0xd7, 0xdd, 0x9d, 0xb0, 0x2e, 0xeb, 0x1b,\n        0xff, 0xf2, 0x1f, 0x23, 0xf3, 0xd5, 0x64, 0xe2, 0x89, 0x6b, 0x6b, 0x58,\n        0xfb, 0xd0, 0xbb, 0xb5, 0x5b, 0x2b, 0x63, 0x4f, 0xb3, 0x6c, 0x8c, 0x3f,\n        0xb0, 0x8a, 0x52, 0x0a, 0xa0, 0xc8, 0x76, 0x59, 0xa6, 0x0a, 0xe1, 0xe0,\n        0xd1, 0xd7, 0x6c, 0x77, 0x33, 0xed, 0x55, 0x10, 0x88, 0x6b, 0xef, 0x07,\n        0x95, 0xc7, 0xdb, 0x1e, 0x06, 0x4b, 0x5e, 0xe4, 0xd8, 0x99, 0xb3, 0x24,\n        0xe2, 0x21, 0x19, 0x76, 0xd0, 0x3c, 0x2d, 0x8a, 0xa8, 0xbe, 0x7f, 0x53,\n        0x58, 0xa8, 0x56, 0xea, 0x1e, 0x70, 0x7f, 0x1c, 0x8e, 0xf7, 0xca, 0xf5,\n        0xb9, 0xcb, 0x2f, 0x75, 0x94, 0x51, 0x71, 0x78, 0x10, 0x26, 0x07, 0xe5,\n        0xf6, 0x3a, 0x28, 0x72, 0x38, 0x87, 0x23, 0xc6, 0x6e, 0x2d, 0x00, 0x95,\n        0x22, 0xb2, 0xa9, 0x3d, 0x2a, 0x5f, 0x32, 0x80, 0x62, 0x5e, 0x35, 0x3b,\n        0x37, 0x29, 0x00, 0x3c, 0x06, 0x11, 0xa4, 0x8e, 0xc4, 0xeb, 0xde, 0x5b,\n        0xbb, 0xd6, 0x88, 0xa4, 0x33, 0xe8, 0x39, 0xea, 0xca, 0xc7, 0x69, 0x89,\n        0x86, 0xb9, 0x45, 0x03, 0x51, 0xd3, 0x84, 0x41, 0xff, 0xaf, 0x2f, 0x6d,\n        0x12, 0x33, 0x48, 0x7b, 0x28, 0x40, 0xb1, 0x36, 0xae, 0xa3, 0xbb, 0x6c,\n        0xd0, 0xad, 0x89, 0x7c, 0xf5, 0xa8, 0xc3, 0xdd, 0xa9, 0x58, 0x2e, 0x03,\n        0x85, 0x9d, 0xa5, 0xcb, 0xa2, 0x69, 0x96, 0x2e, 0x26, 0x99, 0x71, 0xc9,\n        0x16, 0xfe, 0xb7, 0x11, 0xb7, 0x5e, 0x77, 0xc0, 0x63, 0x96, 0x82, 0xf0,\n        0xc6, 0x84, 0xf9, 0x2e, 0x4e, 0xa5, 0x05, 0xc1, 0x06, 0x98, 0xa5, 0x1c,\n        0xa4, 0x5b, 0xa5, 0x3a, 0x2f, 0x3e, 0xc8, 0x39, 0x0e, 0x05, 0x6a, 0x81,\n        0x55, 0x87, 0xbe, 0xef\n    ])\n};\n\nmodule.exports = KEYWORDS_ID\n","/* eslint-disable */ \nimport React from 'react';\nimport {BrowserRouter as Router,Route} from 'react-router-dom'\n\nconst renderMergedProps = (component, ...rest) => {\n  const finalProps = Object.assign({}, ...rest);\n  return (\n    React.createElement(component, finalProps)\n  );\n}\n\nconst PropsRoute = ({ component, ...rest }) => {\n  return (\n    <Route {...rest} render={routeProps => {\n      return renderMergedProps(component, routeProps, rest);\n    }}/>\n  );\n}\n\nexport default PropsRoute;\n","import React from \"react\";\nimport {Component} from 'react';\nimport { Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nclass ContentOne extends Component {\n\n    render() {\n        let that = this;\n        return (\n          <div className=\"component\" style={{marginLeft:'0.3em'}} >\n          <h2 style={{clear: \"both\"}} >Hi, I'm Edison</h2>\n             \n            <div>Say <b>\"Hey Edison\"</b> or click on the microphone to trigger me,  then ask a question. I turn <b>Green</b> when I'm listening. </div>\n                \n                <div>Ask me a question and I'll do my best to answer. Click or say the examples below.</div>\n                \n                 <div style={{marginTop: '0.5em' ,clear: \"both\"}} className=\"helpSampleButtons\" >\n                    <Button variant=\"primary\" onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >What's the date</Button>\n                    <Button variant=\"primary\"  onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >Define the word \"colloquial\"</Button>\n                    <Button variant=\"primary\"  onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >Tell me about celery</Button>\n                </div>\n                <div style={{marginTop: '0.5em' ,clear: \"both\"}} className=\"helpSampleButtons\" >\n                    <Button variant=\"primary\"  onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >What's the capital of Australia</Button>\n                    <Button variant=\"primary\"  onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >Spell the word \"fuzy\"</Button>\n                     <Button variant=\"primary\"  onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >Search youtube for funny cats</Button>\n                      <Button variant=\"primary\"  onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >Show me a picture of a motorbike</Button>\n                       <Button variant=\"primary\"  onClick={function(e) {that.props.sendMessage(e.target.innerText)}} >What are some synonyms for weak</Button>\n                </div>\n                  <br/><br/>\n                 <div className=\"helpSampleButtons\" >\n                 \n                  <div style={{clear: \"both\"}} >As we chat I'll suggest some follow up questions in the top menu.</div>\n                          <div className=\"helpSampleButtons\" >\n                            <Button variant=\"secondary\"  >And what's the population</Button>\n                            <Button variant=\"secondary\"  >Tell me more</Button>\n                        </div>\n            <br/> <br/>  <br/><hr/>\n                    <div style={{clear: \"both\"}} >I can also help you fill in the answers of crosswords by speaking. (You need to be looking at the crossword for this to work.)</div>\n                    <Button variant=\"secondary\"  >One across is Canberra</Button>\n                 <br/>     <div style={{clear: \"both\"}} >With all that information at hand, lets see if you can solve a crossword</div>\n                 \n                    <Link  to='/crossword' ><Button variant=\"success\"   size=\"lg\"  >Start a crossword</Button></Link>\n                     \n                 </div>\n            <br/> <br/>  <br/>\n            <hr/>\n                    <div style={{clear: \"both\"}} >\n                    I'm still learning to speak your language. If I make a mistake you can update your question with the tools at the top of the page.\n                    <br/>\n                    <b>Select some text from your question and then press one of the buttons to update the search values.</b>\n                    <br/>\n                    As well as getting to the information you want, your updates will be integrated to improve the language models so we get it right next time.\n                 </div>\n                 <br/>  <br/>  <br/>\n                 <br/>  <br/>  <br/>\n                 <br/>  <br/>  <br/>\n          </div>\n        );\n    }\n}\n\n\n\n\nexport default class HomePageContent extends Component {\n    \n    render() {\n        let that = this;\n      return (\n        <div className=\"component homePageComponent\">\n            <ContentOne sendMessage={that.props.sendMessage} />\n        </div>\n      );\n    };\n} \n\n","import React from 'react';\n\n// To pass focus/highlight/etc., it's cleaner to use a context.\nexport const CrosswordContext = React.createContext({\n  focused: false,\n  selectedDirection: null,\n  selectedNumber: null,\n\n  // correct answers?\n});\n\nexport const CrosswordSizeContext = React.createContext({\n  cellSize: 0,\n  cellPadding: 0,\n  cellInner: 0,\n  cellHalf: 0,\n  fontSize: 0,\n});\n","import React, { useCallback, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeContext } from 'styled-components';\n\nimport { CrosswordSizeContext } from './context';\n\n// expected props: row, col, answer, crossword, cellSize\n\n/**\n * An individual-letter answer cell within the crossword grid.\n *\n * A `Cell` lives inside the SVG for a [`Crossword`](#crossword), and renders at\n * a location determined by the `row`, `col`, and `cellSize` properties from\n * `cellData` and `renderContext`.\n */\nexport default function Cell({ cellData, onClick, focus, highlight }) {\n  const { cellSize, cellPadding, cellInner, cellHalf, fontSize } = useContext(\n    CrosswordSizeContext\n  );\n  const {\n    // gridBackground,\n    cellBackground,\n    cellBorder,\n    textColor,\n    numberColor,\n    focusBackground,\n    highlightBackground,\n  } = useContext(ThemeContext);\n\n  const handleClick = useCallback(\n    (event) => {\n      event.preventDefault();\n      if (onClick) {\n        onClick(cellData);\n      }\n    },\n    [cellData, onClick]\n  );\n\n  const { row, col, guess, number } = cellData;\n\n  const x = col * cellSize;\n  const y = row * cellSize;\n\n  return (\n    <g\n      onClick={handleClick}\n      style={{ cursor: 'default', fontSize: `${fontSize}px` }}\n    >\n      <rect\n        x={x + cellPadding}\n        y={y + cellPadding}\n        width={cellInner}\n        height={cellInner}\n        fill={\n          focus\n            ? focusBackground\n            : highlight\n            ? highlightBackground\n            : cellBackground\n        }\n        stroke={cellBorder}\n        strokeWidth={cellSize / 50}\n      />\n      {number && (\n        <text\n          x={x + cellPadding * 4}\n          y={y + cellPadding * 4}\n          textAnchor=\"start\"\n          dominantBaseline=\"hanging\"\n          style={{ fontSize: '50%', fill: numberColor }}\n        >\n          {number}\n        </text>\n      )}\n      <text\n        x={x + cellHalf}\n        y={y + cellHalf + 1} // +1 for visual alignment?\n        textAnchor=\"middle\"\n        dominantBaseline=\"middle\"\n        style={{ fill: textColor }}\n      >\n        {guess}\n      </text>\n    </g>\n  );\n}\n\nCell.propTypes = {\n  /** the data specific to this cell */\n  cellData: PropTypes.shape({\n    row: PropTypes.number.isRequired,\n    col: PropTypes.number.isRequired,\n    guess: PropTypes.string.isRequired,\n    number: PropTypes.string,\n  }).isRequired,\n\n  /** whether this cell has focus */\n  focus: PropTypes.bool,\n\n  /** whether this cell is highlighted */\n  highlight: PropTypes.bool,\n\n  /** handler called when the cell is clicked */\n  onClick: PropTypes.func,\n};\n\nCell.defaultProps = {\n  focus: false,\n  highlight: false,\n  onClick: null,\n};\n\n// export default Cell;\n","import React, { useCallback, useContext ,useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {Button,Modal} from 'react-bootstrap';\nimport styled, { ThemeContext } from 'styled-components';\n\nimport { CrosswordContext } from './context';\n\nconst ClueWrapper = styled.div.attrs((props) => ({\n  className: `clue${props.correct ? ' correct' : ''}`,\n}))`\n  cursor: default;\n  background-color: ${(props) =>\n    props.highlight ? props.highlightBackground : 'transparent'};\n`;\n\nexport default function Clue({\n  direction,\n  number,\n  children,\n  correct,\n  ...props\n}) {\n  const [show, setShow] = useState('false');\n  const handleClose = () => setShow('false');\n  const handleShow = () => setShow('true');\n  \n  const [showImage, setShowImage] = useState('false');\n  const handleCloseImage = () => setShowImage('false');\n  const handleShowImage = () => setShowImage('true');\n\n  const { highlightBackground } = useContext(ThemeContext);\n  const {\n    focused,\n    selectedDirection,\n    selectedNumber,\n    onClueSelected,\n  } = useContext(CrosswordContext);\n\n  const handleClick = useCallback(\n    (event) => {\n      event.preventDefault();\n      if (onClueSelected) {\n        onClueSelected(direction, number);\n      }\n    },\n    [direction, number, onClueSelected]\n  );\n\n  return (\n    <ClueWrapper\n      highlightBackground={highlightBackground}\n      highlight={\n        focused && direction === selectedDirection && number === selectedNumber\n      }\n      correct={correct}\n      {...props}\n      onClick={handleClick}\n      aria-label={`clue-${number}-${direction}`}\n    >\n        {(props.clue_data.medialink && props.clue_data.autoshow_media === \"true\") && <div><img src={props.clue_data.medialink} alt='Clue' style={{float:'right',height:'4em'}}/></div>}\n      {props.clue_data.infolink && <Button style={{marginRight:'0.2em',zIndex:'500'}}  onClick={function(e) { window.open(props.clue_data.infolink) }} ><img src='/svg/external-link.svg' alt=\"More Information\" style={{height  :'1.1em'}} /></Button>}\n      {props.clue_data.extraclue &&  <Button style={{marginRight:'0.2em'}} onClick={handleShow} ><img src='/svg/question-mark.svg' alt=\"Memory Aid\" style={{height  :'1.1em'}} /></Button>}\n      {(props.clue_data.medialink && props.clue_data.autoshow_media !== \"true\") && <Button style={{marginRight:'0.2em'}} onClick={handleShowImage} ><img src='/svg/image.svg' alt=\"Show Clue\" style={{height  :'1.1em'}} /></Button>}\n     {show===\"true\" &&      \n\n      <Modal animation={false} show={show===\"true\"} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Memory Aid</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>{props.clue_data.extraclue}</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>}\n      {showImage===\"true\" &&      \n\n      <Modal show={show===\"true\"}  animation={false}  onHide={handleCloseImage}>\n        <Modal.Header closeButton>\n          <Modal.Title>Image</Modal.Title>\n        </Modal.Header>\n        <Modal.Body><img alt=\"Clue\"  src={props.clue_data.medialink} style={{width:'60%'}} /></Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleCloseImage}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>}\n        {number}: {children}\n        \n    </ClueWrapper>\n  );\n}\n\nClue.propTypes = {\n  /** direction of the clue: \"across\" or \"down\"; passed back in onClick */\n  direction: PropTypes.string.isRequired,\n  /** number of the clue (the label shown); passed back in onClick */\n  number: PropTypes.string.isRequired,\n  /** clue text */\n  children: PropTypes.node,\n  /** whether the answer/guess is correct */\n  correct: PropTypes.bool,\n};\n\nClue.defaultProps = {\n  children: undefined,\n  correct: undefined,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// import styled from 'styled-components';\n\nimport Clue from './Clue';\n\nexport default function DirectionClues({ direction, clues , clue_data}) {\n  return (\n    <div className=\"direction\">\n      {/* use something other than h3? */}\n      <h3 className=\"header\">{direction.toUpperCase()}</h3>\n     \n               \n      {clues.map(({ number, clue, correct }) => (\n        <Clue\n          key={number}\n          direction={direction}\n          number={number}\n          correct={correct}\n          clue_data={clue_data[number]}\n        >\n          {clue} \n        </Clue>\n      ))}\n    </div>\n  );\n}\n\nDirectionClues.propTypes = {\n  /** direction of this list of clues (\"across\" or \"down\") */\n  direction: PropTypes.string.isRequired,\n  /** clues for this List's direction */\n  clues: PropTypes.arrayOf(\n    PropTypes.shape({\n      /** number of the clue (the label shown) */\n      number: PropTypes.string.isRequired,\n      /** clue text */\n      clue: PropTypes.node.isRequired,\n      /** whether the answer/guess is correct */\n      correct: PropTypes.bool,\n    })\n  ).isRequired,\n};\n\nDirectionClues.defaultProps = {};\n","const directionInfo = {\n  across: {\n    primary: 'col',\n    orthogonal: 'row',\n  },\n  down: {\n    primary: 'row',\n    orthogonal: 'col',\n  },\n};\n\nexport const bothDirections = Object.keys(directionInfo);\n\nexport function isAcross(direction) {\n  return direction === 'across';\n}\n\nexport function otherDirection(direction) {\n  return isAcross(direction) ? 'down' : 'across';\n}\n\nexport function calculateExtents(data, direction) {\n  const dir = directionInfo[direction];\n  let primaryMax = 0;\n  let orthogonalMax = 0;\n\n  Object.entries(data[direction]).forEach(([i, info]) => {\n    const primary = info[dir.primary] + info.answer.length - 1;\n    if (primary > primaryMax) {\n      primaryMax = primary;\n    }\n\n    const orthogonal = info[dir.orthogonal];\n    if (orthogonal > orthogonalMax) {\n      orthogonalMax = orthogonal;\n    }\n  });\n\n  return {\n    [dir.primary]: primaryMax,\n    [dir.orthogonal]: orthogonalMax,\n  };\n}\n\nconst emptyCellData = {\n  used: false,\n  number: null,\n  answer: '',\n  guess: '',\n  locked: false,\n  // row: r,\n  // col: c,\n  across: null,\n  down: null,\n};\n\nexport function createEmptyGrid(size) {\n  const gridData = Array(size);\n  // Rather than [x][y] in column-major order, the cells are indexed as\n  // [row][col] in row-major order.\n  for (let r = 0; r < size; r++) {\n    gridData[r] = Array(size);\n    for (let c = 0; c < size; c++) {\n      gridData[r][c] = {\n        ...emptyCellData,\n        row: r,\n        col: c,\n      };\n    }\n  }\n\n  return gridData;\n}\n\nexport function fillClues(gridData, clues, data, direction) {\n  const dir = directionInfo[direction];\n\n  Object.entries(data[direction]).forEach(([number, info]) => {\n    const { row: rowStart, col: colStart, clue, answer } = info;\n    for (let i = 0; i < answer.length; i++) {\n      const row = rowStart + (dir.primary === 'row' ? i : 0);\n      const col = colStart + (dir.primary === 'col' ? i : 0);\n      const cellData = gridData[row][col];\n\n      // TODO?: check to ensure the answer is the same if it's already set?\n      cellData.used = true;\n      cellData.answer = answer[i];\n      cellData[direction] = number;\n\n      if (i === 0) {\n        // TODO?: check to ensure the number is the same if it's already set?\n        cellData.number = number;\n      }\n    }\n\n    clues[direction].push({ number, clue });\n  });\n\n  clues[direction].sort(byNumber);\n}\n\n// Given the \"nice format\" for a crossword, generate the usable data optimized\n// for rendering and our interactivity.\nexport function createGridData(data) {\n  const acrossMax = calculateExtents(data, 'across');\n  const downMax = calculateExtents(data, 'down');\n\n  const size =\n    Math.max(...Object.values(acrossMax), ...Object.values(downMax)) + 1;\n\n  const gridData = createEmptyGrid(size);\n\n  // Now fill with answers... and also collect the clues\n  const clues = {\n    across: [],\n    down: [],\n  };\n\n  fillClues(gridData, clues, data, 'across');\n  fillClues(gridData, clues, data, 'down');\n\n  return { size, gridData, clues };\n}\n\n// sort helper for clues...\nexport function byNumber(a, b) {\n  const aNum = Number.parseInt(a.number, 10);\n  const bNum = Number.parseInt(b.number, 10);\n\n  return aNum - bNum;\n}\n\nexport function clearGuesses(storageKey) {\n  if (!window.localStorage) {\n    return;\n  }\n\n  window.localStorage.removeItem(storageKey);\n}\n\nexport function saveGuesses(gridData, storageKey) {\n    //console.log('SAVE GUESSES')\n  const { localStorage } = window;\n  if (!localStorage) {\n    return;\n  }\n\n  const guesses = serializeGuesses(gridData);\n\n  const saveData = {\n    date: Date.now(),\n    guesses,\n  };\n    //console.log(saveData)\n  localStorage.setItem(storageKey, JSON.stringify(saveData));\n}\n\nexport function serializeGuesses(gridData) {\n    //console.log(gridData)\n  const guesses = gridData.reduce((memo, row, r) => {\n    return row.reduce((memoInner, cellData, c) => {\n      const { guess } = cellData;\n      if (guess !== '') {\n        memoInner[`${r}_${c}`] = cellData.guess;\n      }\n      return memoInner;\n    }, memo);\n  }, {});\n\n  return guesses;\n}\n\nexport function loadGuesses(gridData, storageKey) {\n    //console.log('load GUESSES')\n  const { localStorage } = window;\n  if (!localStorage) {\n    return;\n  }\n\n  const saveRaw = localStorage.getItem(storageKey);\n  if (!saveRaw) {\n    return;\n  }\n\n  const saveData = JSON.parse(saveRaw);\n   //console.log(saveData)\n  // TODO: check date for expiration?\n  deserializeGuesses(gridData, saveData.guesses);\n}\n\nexport function deserializeGuesses(gridData, guesses) {\n  Object.entries(guesses).forEach(([key, val]) => {\n    const [r, c] = key.split('_');\n    // ignore any out-of-bounds guesses!\n    if (r <= gridData.length - 1 && c <= gridData[0].length - 1) {\n      gridData[r][c].guess = val;\n    }\n  });\n}\n\nexport function findCorrectAnswers(data, gridData) {\n  const correctAnswers = [];\n\n  bothDirections.forEach((direction) => {\n    const across = isAcross(direction);\n    Object.entries(data[direction]).forEach(([num, info]) => {\n      const { row, col } = info;\n      let correct = true;\n      for (let i = 0; i < info.answer.length; i++) {\n        const r = across ? row : row + i;\n        const c = across ? col + i : col;\n        if (gridData[r][c].guess !== info.answer[i]) {\n          correct = false;\n          break;\n        }\n      }\n      if (correct) {\n        // same args as notifyCorrect: direction, number, answer\n        correctAnswers.push([direction, num, info.answer]);\n      }\n    });\n  });\n\n  return correctAnswers;\n}\n","import React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useImperativeHandle,\n  useRef,\n  useState,\n} from 'react';\nimport PropTypes from 'prop-types';\n\nimport produce from 'immer';\nimport styled, { ThemeContext, ThemeProvider } from 'styled-components';\n\nimport Cell from './Cell';\nimport DirectionClues from './DirectionClues';\n\nimport {\n  bothDirections,\n  createGridData,\n  isAcross,\n  otherDirection,\n  clearGuesses,\n  saveGuesses,\n  loadGuesses,\n  findCorrectAnswers,\n} from './util';\n\nimport { CrosswordContext, CrosswordSizeContext } from './context';\n\n// TODO: make this a component property!\n//const defaultStorageKey = 'guesses';\n\nconst defaultTheme = {\n  columnBreakpoint: '768px',\n  gridBackground: 'rgb(0,0,0)',\n  cellBackground: 'rgb(255,255,255)',\n  cellBorder: 'rgb(0,0,0)',\n  textColor: 'rgb(0,0,0)',\n  numberColor: 'rgba(0,0,0, 0.25)',\n  focusBackground: 'rgb(255,255,0)',\n  highlightBackground: 'rgb(255,255,204)',\n};\n\n// eslint-disable-next-line\nconst OuterWrapper = styled.div.attrs((props) => ({\n  className: `crossword${props.correct ? ' correct' : ''}`,\n}))`\n  margin: 0;\n  padding: 0;\n  border: 0;\n  /* position: relative; */\n  /* width: 40%; */\n  display: flex;\n  flex-direction: row;\n\n  @media (max-width: ${(props) => props.theme.columnBreakpoint}) {\n    flex-direction: column;\n  }\n`;\n\nconst GridWrapper = styled.div.attrs((props) => ({\n  className: 'grid',\n}))`\n  /* position: relative; */\n  min-width: 20rem;\n  max-width: 60rem; /* Should the size matter? */\n  width: auto;\n  flex: 2 1 50%;\n`;\n\nconst CluesWrapper = styled.div.attrs((props) => ({\n  className: 'clues',\n}))`\n  padding: 0 1em;\n  flex: 1 2 25%;\n\n  @media (max-width: ${(props) => props.theme.columnBreakpoint}) {\n    margin-top: 2em;\n  }\n\n  .direction {\n    margin-bottom: 2em;\n    /* padding: 0 1em;\n    flex: 1 1 20%; */\n\n    .header {\n      margin-top: 0;\n      margin-bottom: 0.5em;\n    }\n\n    div {\n      margin-top: 0.5em;\n    }\n  }\n`;\n\n/**\n * The primary, and default, export from the react-crossword library, Crossword\n * renders an answer grid and clues, and manages data and user interaction.\n */\nconst Crossword = React.forwardRef(\n  (\n    {\n      data,\n      onCorrect,\n      onLoadedCorrect,\n      onCrosswordCorrect,\n      onCellChange,\n      useStorage,\n      theme,\n      storageKey \n    },\n    ref\n  ) => {\n    const defaultStorageKey = storageKey ? storageKey : 'guesses';\n    const [size, setSize] = useState(null);\n    const [gridData, setGridData] = useState(null);\n    const [clues, setClues] = useState(null);\n    const [focused, setFocused] = useState(false);\n    const [focusedRow, setFocusedRow] = useState(0);\n    const [focusedCol, setFocusedCol] = useState(0);\n    const [currentDirection, setCurrentDirection] = useState('across');\n    const [currentNumber, setCurrentNumber] = useState('1');\n    const [bulkChange, setBulkChange] = useState(null);\n    const [checkQueue, setCheckQueue] = useState([]);\n    const [crosswordCorrect, setCrosswordCorrect] = useState(false);\n\n    const inputRef = useRef();\n\n    const contextTheme = useContext(ThemeContext);\n\n    const getCellData = useCallback(\n      (row, col) => {\n        if (row >= 0 && row < size && col >= 0 && col < size) {\n          return gridData[row][col];\n        }\n\n        // fake cellData to represent \"out of bounds\"\n        return { row, col, used: false, outOfBounds: true };\n      },\n      [size, gridData]\n    );\n\n    const setCellCharacter = useCallback(\n      (row, col, char) => {\n        const cell = getCellData(row, col);\n\n        if (!cell.used) {\n          return;\n        }\n\n        // If the character is already the cell's guess, there's nothing to do.\n        if (cell.guess === char) {\n          return;\n        }\n\n        // update the gridData with the guess\n        setGridData(\n          produce((draft) => {\n            draft[row][col].guess = char;\n          })\n        );\n\n        // push the row/col for checking!\n        setCheckQueue(\n          produce((draft) => {\n            draft.push({ row, col });\n          })\n        );\n\n        if (onCellChange) {\n          onCellChange(row, col, char);\n        }\n      },\n      [getCellData, onCellChange]\n    );\n\n    const notifyCorrect = useCallback(\n      (direction, number, answer) => {\n        if (onCorrect) {\n          // We *used* to need a timeout workaround to ensure this happened\n          // *after* the state had updated and the DOM rendered.... do we still?\n          onCorrect(direction, number, answer);\n\n          // For future reference, the call looked like:\n          //\n          // setTimeout(() => {\n          //   window.requestAnimationFrame(() => {\n          //     onCorrect(direction, number, answer);\n          //   });\n          // });\n        }\n      },\n      [onCorrect]\n    );\n\n    const checkCorrectness = useCallback(\n      (row, col) => {\n        const cell = getCellData(row, col);\n\n        // check all the cells for both across and down answers that use this\n        // cell\n        bothDirections.forEach((direction) => {\n          const across = isAcross(direction);\n          const number = cell[direction];\n          if (!number) {\n            return;\n          }\n\n          const info = data[direction][number];\n\n          // We start by looking at the current cell... if it's not correct, we\n          // don't need to check anything else!\n          let correct = cell.guess === cell.answer;\n\n          if (correct) {\n            // We *could* compare cell.guess against cell.answer for all the\n            // cells, but info.answer is a simple string and gets us the length\n            // as well (and we only have to calulate row/col math once).\n            for (let i = 0; i < info.answer.length; i++) {\n              const checkCell = getCellData(\n                info.row + (across ? 0 : i),\n                info.col + (across ? i : 0)\n              );\n\n              if (checkCell.guess !== info.answer[i]) {\n                correct = false;\n                break;\n              }\n            }\n          }\n\n          // update the clue state\n          setClues(\n            produce((draft) => {\n              const clueInfo = draft[direction].find(\n                (i) => i.number === number\n              );\n              clueInfo.correct = correct;\n            })\n          );\n\n          if (correct) {\n            notifyCorrect(direction, number, info.answer);\n          }\n        });\n      },\n      [getCellData]\n    );\n\n    // Any time the checkQueue changes, call checkCorrectness!\n    useEffect(() => {\n      if (checkQueue.length === 0) {\n        return;\n      }\n\n      checkQueue.forEach(({ row, col }) => checkCorrectness(row, col));\n      setCheckQueue([]);\n    }, [checkQueue, checkCorrectness]);\n\n    // Any time the clues change, determine if they are all correct or not.\n    useEffect(() => {\n      setCrosswordCorrect(\n        clues &&\n          bothDirections.every((direction) =>\n            clues[direction].every((clueInfo) => clueInfo.correct)\n          )\n      );\n    }, [clues]);\n\n    // Let the consumer know everything's correct (or not) if they've asked to\n    // be informed.\n    useEffect(() => {\n      if (onCrosswordCorrect) {\n        onCrosswordCorrect(crosswordCorrect);\n      }\n    }, [crosswordCorrect, onCrosswordCorrect]);\n\n    // focus and movement\n    const focus = useCallback(() => {\n      if (inputRef.current) {\n        inputRef.current.focus();\n        setFocused(true);\n      }\n    }, []);\n\n    const moveTo = useCallback(\n      (row, col, directionOverride) => {\n        let direction = directionOverride ?? currentDirection;\n        const candidate = getCellData(row, col);\n\n        if (!candidate.used) {\n          return false;\n        }\n\n        if (!candidate[direction]) {\n          direction = otherDirection(direction);\n        }\n\n        setFocusedRow(row);\n        setFocusedCol(col);\n        setCurrentDirection(direction);\n        setCurrentNumber(candidate[direction]);\n\n        return candidate;\n      },\n      [getCellData]\n    );\n\n    const moveRelative = useCallback(\n      (dRow, dCol) => {\n        // We expect *only* one of dRow or dCol to have a non-zero value, and\n        // that's the direction we will \"prefer\".  If *both* are set (or zero),\n        // we don't change the direction.\n        let direction;\n        if (dRow !== 0 && dCol === 0) {\n          direction = 'down';\n        } else if (dRow === 0 && dCol !== 0) {\n          direction = 'across';\n        }\n\n        const cell = moveTo(focusedRow + dRow, focusedCol + dCol, direction);\n\n        return cell;\n      },\n      [focusedRow, focusedCol, moveTo]\n    );\n\n    const moveForward = useCallback(() => {\n      const across = isAcross(currentDirection);\n      moveRelative(across ? 0 : 1, across ? 1 : 0);\n    }, [currentDirection, moveRelative]);\n\n    const moveBackward = useCallback(() => {\n      const across = isAcross(currentDirection);\n      moveRelative(across ? 0 : -1, across ? -1 : 0);\n    }, [currentDirection, moveRelative]);\n\n    // keyboard handling\n    const handleSingleCharacter = useCallback(\n      (char) => {\n        setCellCharacter(focusedRow, focusedCol, char.toUpperCase());\n        moveForward();\n      },\n      [focusedRow, focusedCol, setCellCharacter, moveForward]\n    );\n\n    // We use the keydown event for control/arrow keys, but not for textual\n    // input, because it's hard to suss out when a key is \"regular\" or not.\n    const handleInputKeyDown = useCallback(\n      (event) => {\n        // if ctrl, alt, or meta are down, ignore the event (let it bubble)\n        if (event.ctrlKey || event.altKey || event.metaKey) {\n          return;\n        }\n\n        let preventDefault = true;\n        const { key } = event;\n        // console.log('CROSSWORD KEYDOWN', event.key);\n\n        // FUTURE: should we \"jump\" over black space?  That might help some for\n        // keyboard users.\n        switch (key) {\n          case 'ArrowUp':\n            moveRelative(-1, 0);\n            break;\n\n          case 'ArrowDown':\n            moveRelative(1, 0);\n            break;\n\n          case 'ArrowLeft':\n            moveRelative(0, -1);\n            break;\n\n          case 'ArrowRight':\n            moveRelative(0, 1);\n            break;\n\n          case ' ': // treat space like tab?\n          case 'Tab': {\n            const other = otherDirection(currentDirection);\n            const cellData = getCellData(focusedRow, focusedCol);\n            if (cellData[other]) {\n              setCurrentDirection(other);\n              setCurrentNumber(cellData[other]);\n            }\n            break;\n          }\n\n          // Backspace: delete the current cell, and move to the previous cell\n          // Delete:    delete the current cell, but don't move\n          case 'Backspace':\n          case 'Delete': {\n            setCellCharacter(focusedRow, focusedCol, '');\n            if (key === 'Backspace') {\n              moveBackward();\n            }\n            break;\n          }\n\n          case 'Home':\n          case 'End': {\n            // move to beginning/end of this entry?\n            const info = data[currentDirection][currentNumber];\n            const {\n              answer: { length },\n            } = info;\n            let { row, col } = info;\n            if (key === 'End') {\n              const across = isAcross(currentDirection);\n              if (across) {\n                col += length - 1;\n              } else {\n                row += length - 1;\n              }\n            }\n\n            moveTo(row, col);\n            break;\n          }\n\n          default:\n            // It would be nice to handle \"regular\" characters with onInput, but\n            // that is still experimental, so we can't count on it.  Instead, we\n            // assume that only \"length 1\" values are regular.\n            if (key.length !== 1) {\n              preventDefault = false;\n              break;\n            }\n\n            handleSingleCharacter(key);\n            break;\n        }\n\n        if (preventDefault) {\n          event.preventDefault();\n        }\n      },\n      [\n        data,\n        focusedRow,\n        focusedCol,\n        currentDirection,\n        currentNumber,\n        getCellData,\n        setCellCharacter,\n        moveRelative,\n      ]\n    );\n\n    const handleInputChange = useCallback((event) => {\n      event.preventDefault();\n      setBulkChange(event.target.value);\n    }, []);\n\n    useEffect(() => {\n      if (!bulkChange) {\n        return;\n      }\n\n      // handle bulkChange by updating a character at a time (this lets us\n      // leverage the existing character-entry logic).\n      handleSingleCharacter(bulkChange[0]);\n      setBulkChange(bulkChange.length === 1 ? null : bulkChange.substring(1));\n    }, [bulkChange, handleSingleCharacter]);\n\n    // When the data changes, recalculate the gridData, size, etc.\n    useEffect(() => {\n      // eslint-disable-next-line no-shadow\n      const { size, gridData, clues } = createGridData(data);\n\n      let loadedCorrect;\n      if (useStorage) {\n        loadGuesses(gridData, defaultStorageKey);\n        loadedCorrect = findCorrectAnswers(data, gridData);\n\n        loadedCorrect.forEach(([direction, num]) => {\n          const clueInfo = clues[direction].find((i) => i.number === num);\n          clueInfo.correct = true;\n        });\n      }\n\n      setSize(size);\n      setGridData(gridData);\n      setClues(clues);\n\n      // Should we start with 1-across highlighted/focused?\n\n      // TODO: track input-field focus so we don't draw highlight when we're not\n      // really focused, *and* use first actual clue (whether across or down?)\n      setFocusedRow(0);\n      setFocusedCol(0);\n      setCurrentDirection('across');\n      setCurrentNumber('1');\n\n      setBulkChange(null);\n\n      // trigger any \"loaded correct\" guesses...\n      if (loadedCorrect && loadedCorrect.length > 0 && onLoadedCorrect) {\n        onLoadedCorrect(loadedCorrect);\n      }\n    }, [data, onLoadedCorrect, useStorage]);\n\n    useEffect(() => {\n      if (gridData === null || !useStorage) {\n        return;\n      }\n\n      saveGuesses(gridData, defaultStorageKey);\n    }, [gridData, useStorage]);\n\n    const handleCellClick = useCallback(\n      (cellData) => {\n        const { row, col } = cellData;\n        const other = otherDirection(currentDirection);\n\n        // should this use moveTo?\n        setFocusedRow(row);\n        setFocusedCol(col);\n\n        let direction = currentDirection;\n\n        // We switch to the \"other\" direction if (a) the current direction isn't\n        // available in the clicked cell, or (b) we're already focused and the\n        // clicked cell is the focused cell, *and* the other direction is\n        // available.\n        if (\n          !cellData[currentDirection] ||\n          (focused &&\n            row === focusedRow &&\n            col === focusedCol &&\n            cellData[other])\n        ) {\n          setCurrentDirection(other);\n          direction = other;\n        }\n\n        setCurrentNumber(cellData[direction]);\n\n        focus();\n      },\n      [focused, focusedRow, focusedCol, currentDirection, focus]\n    );\n\n    const handleInputClick = useCallback(\n      (event) => {\n        // *don't* event.preventDefault(), because we want the input to actually\n        // take focus\n\n        // Like general cell-clicks, cliking on the input can change direction.\n        // Unlike cell clicks, we *know* we're clicking on the already-focused\n        // cell!\n        const other = otherDirection(currentDirection);\n        const cellData = getCellData(focusedRow, focusedCol);\n\n        let direction = currentDirection;\n\n        if (focused && cellData[other]) {\n          setCurrentDirection(other);\n          direction = other;\n        }\n\n        setCurrentNumber(cellData[direction]);\n        focus();\n      },\n      [currentDirection, focusedRow, focusedCol, getCellData, focus]\n    );\n\n    const handleClueSelected = useCallback(\n      (direction, number) => {\n        const info = data[direction][number];\n        // TODO: sanity-check info?\n        moveTo(info.row, info.col, direction);\n        focus();\n      },\n      [data, moveTo, focus]\n    );\n\n    // expose some imperative methods\n    useImperativeHandle(\n      ref,\n      () => ({\n        /**\n         * Sets focus to the crossword component.\n         */\n        focus: () => {\n          focus();\n        },\n        \n        /**\n         * Resets the entire crossword; clearing all answers in the grid and\n         * also any persisted data.\n         */\n        reset: () => {\n          setGridData(\n            produce((draft) => {\n              draft.forEach((rowData) => {\n                rowData.forEach((cellData) => {\n                  if (cellData.used) {\n                    cellData.guess = '';\n                  }\n                });\n              });\n            })\n          );\n\n          setClues(\n            produce((draft) => {\n              bothDirections.forEach((direction) => {\n                draft[direction].forEach((clueInfo) => {\n                  delete clueInfo.correct;\n                });\n              });\n            })\n          );\n\n          if (useStorage) {\n            clearGuesses(defaultStorageKey);\n          }\n        },\n\n        /**\n         * Fills all the answers in the grid and calls the `onLoadedCorrect`\n         * callback with _**every**_ answer.\n         */\n        fillAnswer: (direction,number,answer) => {\n            //console.log(['fill answer ',direction,number,answer])\n          setGridData(\n            produce((draft) => {\n              draft.forEach((rowData) => {\n                rowData.forEach((cellData) => {\n                    \n                  if (cellData.used) {\n                      //console.log(['cell used',direction,number.toString(),cellData.across,cellData.down])\n                      if (direction === \"across\") {\n                          if (cellData.across === number.toString()) {\n                              //console.log('across',number)\n                                cellData.guess = cellData.answer\n                          }\n                      } else if (direction === \"down\") {\n                          if (cellData.down === number.toString()) {\n                              //console.log('down',number)\n                              cellData.guess = cellData.answer\n                          }\n                      }\n                      \n                    //cellData.guess = cellData.answer;\n                  }\n                });\n              });\n            })\n          );\n\n          setClues(\n            produce((draft) => {\n              bothDirections.forEach((direction) => {\n                draft[direction].forEach((clueInfo) => {\n                  clueInfo.correct = true;\n                });\n              });\n            })\n          );\n\n          // trigger onLoadedCorrect with every clue!\n          if (onLoadedCorrect) {\n            const loadedCorrect = [];\n            bothDirections.forEach((direction) => {\n              Object.entries(data[direction]).forEach(([number, info]) => {\n                loadedCorrect.push([direction, number, info.answer]);\n              });\n            });\n\n            onLoadedCorrect(loadedCorrect);\n          }\n        },\n        forceLoadGuesses: () => {\n              const { size, gridData, clues } = createGridData(data);\n              let loadedCorrect;\n                loadGuesses(gridData, defaultStorageKey);\n                loadedCorrect = findCorrectAnswers(data, gridData);\n\n                loadedCorrect.forEach(([direction, num]) => {\n                  const clueInfo = clues[direction].find((i) => i.number === num);\n                  clueInfo.correct = true;\n                });\n              \n              setSize(size);\n              setGridData(gridData);\n              setClues(clues);\n\n              // Should we start with 1-across highlighted/focused?\n\n              // TODO: track input-field focus so we don't draw highlight when we're not\n              // really focused, *and* use first actual clue (whether across or down?)\n              setFocusedRow(0);\n              setFocusedCol(0);\n              setCurrentDirection('across');\n              setCurrentNumber('1');\n              setBulkChange(null);\n        },\n        /**\n         * Fills all the answers in the grid and calls the `onLoadedCorrect`\n         * callback with _**every**_ answer.\n         */\n        fillAllAnswers: () => {\n          setGridData(\n            produce((draft) => {\n              draft.forEach((rowData) => {\n                rowData.forEach((cellData) => {\n                  if (cellData.used) {\n                    cellData.guess = cellData.answer;\n                  }\n                });\n              });\n            })\n          );\n\n          setClues(\n            produce((draft) => {\n              bothDirections.forEach((direction) => {\n                draft[direction].forEach((clueInfo) => {\n                  clueInfo.correct = true;\n                });\n              });\n            })\n          );\n\n          // trigger onLoadedCorrect with every clue!\n          if (onLoadedCorrect) {\n            const loadedCorrect = [];\n            bothDirections.forEach((direction) => {\n              Object.entries(data[direction]).forEach(([number, info]) => {\n                loadedCorrect.push([direction, number, info.answer]);\n              });\n            });\n\n            onLoadedCorrect(loadedCorrect);\n          }\n        },\n\n        /**\n         * Returns whether the crossword is entirely correct or not.\n         *\n         * @since 2.2.0\n         */\n        isCrosswordCorrect: () => {\n          return crosswordCorrect;\n        },\n      }),\n      [data, onLoadedCorrect, useStorage, focus, crosswordCorrect]\n    );\n\n    // constants for rendering...\n\n    // We have several properties that we bundle together as context for the\n    // cells, rather than have them as independent properties.  (Or should they\n    // stay separate? Or be passed as \"spread\" values?)\n    const cellSize = 100 / size;\n    const cellPadding = 0.125;\n    const cellInner = cellSize - cellPadding * 2;\n    const cellHalf = cellSize / 2;\n    const fontSize = cellInner * 0.7;\n\n    const context = {\n      focused,\n      selectedDirection: currentDirection,\n      selectedNumber: currentNumber,\n      onClueSelected: handleClueSelected,\n    };\n\n    // The final theme is the merger of three values: the \"theme\" property\n    // passed to the component (which takes precedence), any values from\n    // ThemeContext, and finally the \"defaultTheme\" values fill in for any\n    // needed ones that are missing.  (We create this in standard last-one-wins\n    // order in Javascript, of course.)\n    const finalTheme = { ...defaultTheme, ...contextTheme, ...theme };\n\n    // REVIEW: do we want to recalc this all the time, or cache in state?\n    const cells = [];\n    if (gridData) {\n      gridData.forEach((rowData, row) => {\n        rowData.forEach((cellData, col) => {\n          if (!cellData.used) {\n            return;\n          }\n          cells.push(\n            <Cell\n              // eslint-disable-next-line react/no-array-index-key\n              key={`R${row}C${col}`}\n              cellData={cellData}\n              focus={focused && row === focusedRow && col === focusedCol}\n              highlight={\n                focused &&\n                currentNumber &&\n                cellData[currentDirection] === currentNumber\n              }\n              onClick={handleCellClick}\n            />\n          );\n        });\n      });\n    }\n\n    return (\n      <CrosswordContext.Provider value={context}>\n        <CrosswordSizeContext.Provider\n          value={{ cellSize, cellPadding, cellInner, cellHalf, fontSize }}\n        >\n          <ThemeProvider theme={finalTheme}>\n            <OuterWrapper correct={crosswordCorrect}>\n              <GridWrapper>\n                {/*\n                This div is hard-coded because we *need* a zero-padded,\n                relative-positioned element for aligning the <input> with the\n                cells in the <svg>.\n              */}\n                <div style={{ margin: 0, padding: 0, position: 'relative' }}>\n                   <svg viewBox=\"0 0 100 100\">\n                    <rect\n                      x={0}\n                      y={0}\n                      width={100}\n                      height={100}\n                      fill={finalTheme.gridBackground}\n                    />\n                    {cells}\n                  </svg>\n                  <input\n                    ref={inputRef}\n                    aria-label=\"crossword-input\"\n                    type=\"text\"\n                    onClick={handleInputClick}\n                    onKeyDown={handleInputKeyDown}\n                    onChange={handleInputChange}\n                    value=\"\"\n                    // onInput={this.handleInput}\n                    autoComplete=\"off\"\n                    spellCheck=\"false\"\n                    autoCorrect=\"off\"\n                    style={{\n                      position: 'absolute',\n                      // In order to ensure the top/left positioning makes sense,\n                      // there is an absolutely-positioned <div> with no\n                      // margin/padding that we *don't* expose to consumers.  This\n                      // keeps the math much more reliable.  (But we're still\n                      // seeing a slight vertical deviation towards the bottom of\n                      // the grid!  The \"* 0.995\" seems to help.)\n                      top: `calc(${focusedRow * cellSize * 0.995}% + 2px)`,\n                      left: `calc(${focusedCol * cellSize}% + 2px)`,\n                      width: `calc(${cellSize}% - 4px)`,\n                      height: `calc(${cellSize}% - 4px)`,\n                      fontSize: `${fontSize * 6}px`, // waaay too small...?\n                      textAlign: 'center',\n                      textAnchor: 'middle',\n                      backgroundColor: 'transparent',\n                      caretColor: 'transparent',\n                      margin: 0,\n                      padding: 0,\n                      border: 0,\n                      cursor: 'default',\n                    }}\n                  />\n                </div>\n                 <br/>  <br/>  <br/> \n              </GridWrapper>\n              <CluesWrapper>\n                {clues &&\n                  bothDirections.map((direction) => (\n                    <DirectionClues\n                      key={direction}\n                      direction={direction}\n                      clues={clues[direction]}\n                      clue_data={data[direction]}\n                    />\n                  ))}\n              </CluesWrapper>\n                <br/>  <br/>  <br/>\n                 <br/>  <br/>  <br/>\n              \n            </OuterWrapper>\n          </ThemeProvider>\n        </CrosswordSizeContext.Provider>\n      </CrosswordContext.Provider>\n    );\n  }\n);\n\nCrossword.displayName = 'Crossword';\n\nconst clueShape = PropTypes.shape({\n  clue: PropTypes.string.isRequired,\n  answer: PropTypes.string.isRequired,\n  row: PropTypes.number.isRequired,\n  col: PropTypes.number.isRequired,\n});\n\nCrossword.propTypes = {\n  /** clue/answer data; see <a href=\"#cluedata-format\">Clue/data format</a> for details. */\n  data: PropTypes.shape({\n    /** \"across\" clues and answers */\n    across: PropTypes.objectOf(clueShape),\n    /** \"down\" clues and answers */\n    down: PropTypes.objectOf(clueShape),\n  }).isRequired,\n\n  /** presentation values for the crossword; these override any values coming from a parent ThemeProvider context. */\n  theme: PropTypes.shape({\n    /** browser-width at which the clues go from showing beneath the grid to showing beside the grid */\n    columnBreakpoint: PropTypes.string,\n\n    /** overall background color (fill) for the crossword grid; can be `'transparent'` to show through a page background image */\n    gridBackground: PropTypes.string,\n    /**  background for an answer cell */\n    cellBackground: PropTypes.string,\n    /** border for an answer cell */\n    cellBorder: PropTypes.string,\n    /** color for answer text (entered by the player) */\n    textColor: PropTypes.string,\n    /** color for the across/down numbers in the grid */\n    numberColor: PropTypes.string,\n    /** background color for the cell with focus, the one that the player is typing into */\n    focusBackground: PropTypes.string,\n    /** background color for the cells in the answer the player is working on,\n     * helps indicate in which direction focus will be moving; also used as a\n     * background on the active clue  */\n    highlightBackground: PropTypes.string,\n  }),\n\n  /** whether to use browser storage to persist the player's work-in-progress */\n  useStorage: PropTypes.bool,\n\n  /** callback function that fires when a player answers a clue correctly; called with `(direction, number, answer)` arguments, where `direction` is `'across'` or `'down'`, `number` is the clue number as text (like `'1'`), and `answer` is the answer itself */\n  onCorrect: PropTypes.func,\n  /** callback function that's called when a crossword is loaded, to batch up correct answers loaded from storage; passed an array of the same values that `onCorrect` would recieve */\n  onLoadedCorrect: PropTypes.func,\n  /** callback function that's called when the overall crossword is completely correct (or not) */\n  onCrosswordCorrect: PropTypes.func,\n\n  /**\n   *  callback function called when a cell changes (e.g. when the user types a\n   *  letter); called with `(row, col, char)` arguments, where the `row` and\n   *  `column` are the 0-based position of the cell, and `char` is the character\n   *  typed (already massaged into upper-case)\n   *\n   *  @since 2.1.0\n   */\n  onCellChange: PropTypes.func,\n};\n\nCrossword.defaultProps = {\n  theme: null,\n  useStorage: true,\n  // useStorage: false,\n  onCorrect: null,\n  onLoadedCorrect: null,\n  onCrosswordCorrect: null,\n  onCellChange: null,\n};\n\nexport default Crossword;\n","// We re-export ThemeProvider from styled-components so that consumers don't\n// have to pull it in explicitly if we are the only reason.  (This also helps\n// with our style guide!)\nimport { ThemeProvider } from 'styled-components';\n\nimport Cell from './Cell';\nimport Clue from './Clue';\nimport DirectionClues from './DirectionClues';\nimport Crossword from './Crossword';\nimport { CrosswordContext, CrosswordSizeContext } from './context';\n\nexport {\n  Cell,\n  Clue,\n  DirectionClues,\n  CrosswordContext,\n  CrosswordSizeContext,\n  Crossword,\n  ThemeProvider,\n};\n\nexport default Crossword;\n","import React from \"react\";\nimport {Component} from 'react';\nimport { Button } from \"react-bootstrap\";\nimport {  Link, Redirect } from \"react-router-dom\";\n//import Crossword from '@jaredreisinger/react-crossword';\nimport Crossword from './crossword'\n\nconst data = {\n  across: {},\n  down: {}\n}\n    \nexport default class CrosswordComponent extends Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {_id:'',title:'',data:data, forcereload: 0}\n      this.onCorrect = this.onCorrect.bind(this)\n      this.onLoadedCorrect = this.onLoadedCorrect.bind(this)\n      this.onCrosswordCorrect = this.onCrosswordCorrect.bind(this)\n      this.onCellChange = this.onCellChange.bind(this)\n      this.loadCrossword = this.loadCrossword.bind(this)\n    }\n    \n    componentDidMount() {\n        this.loadCrossword();\n    }\n    \n    componentDidUpdate(props,state) {\n        if (this.props.hermodClient.connected !== props.hermodClient.connected \n            || this.state.forcereload !== state.forcereload) { // || (this.props.match && this.props.match.params && this.state._id.length > 0 && this.props.match.params.id != this.state._id)) {\n\t\t\tthis.loadCrossword();\n\t\t}\n\t\t\n\t\n    }\n    \n    onCorrect(e) {\n        //console.log('oncorrect')\n    }\n    onLoadedCorrect(e) {\n        //console.log('loadedcorrect')\n    }\n    onCrosswordCorrect(e) {\n        //console.log('crosswordcorrect')\n    }\n    onCellChange(e) {\n        //console.log('cellchange')\n    }\n    \n     loadCrossword() {\n        let that = this\n        var stash = {}\n        try {\n            if (localStorage.getItem('crosswords')) {\n                stash = JSON.parse(localStorage.getItem('crosswords'));\n            }\n        } catch(e) {\n            \n        }\n        that.setState({_id:'',data:null, title:''})\n        if (this.props.match && this.props.match.params && this.props.match.params.id && this.props.match.params.id.length > 0)  {\n            if (stash.hasOwnProperty(this.props.match.params.id))  {\n                var useStash = stash[this.props.match.params.id]\n                var across = useStash.data.across\n                var down = useStash.data.down\n                if (this.props.data) useStash.data = this.props.data\n                useStash.data.across = across \n                useStash.data.down = down\n                that.setState(useStash) \n            } else {\n                if (this.props.startWaiting) this.props.startWaiting()\n                if (this.props.hermodClient && this.props.hermodClient.config && this.props.hermodClient.config.site) { \n                    fetch('/api/crossword?id='+this.props.match.params.id+\"&site=\"+ this.props.hermodClient.config.site)\n                    .then(function(response) {\n                        return response.json()\n                    }).then(function(crossword) {\n                        var saveMe = {_id:crossword._id,data:crossword.data, title:crossword.title, author:crossword.author, copyright:crossword.copyright ? crossword.copyright.replace(/[^\\w\\s!?]/g,'') : '', copyright_link:crossword.copyright_link, link:crossword.link}\n                        stash[crossword._id] = saveMe\n                        localStorage.setItem('crosswords',JSON.stringify(stash))\n                        that.setState(saveMe)\n                    }).finally(function() {\n                        if (that.props.stopWaiting) that.props.stopWaiting()  \n                    })\n                }\n            }\n            setTimeout(function() {\n                if (that.props.api && that.props.api.client) {\n                //console.log(['SETPROPS',that.props.api.client.sendMessage,that.props.site,that.props.match.params.id])\n                    that.props.api.client.sendMessage(\n                    'hermod/'+that.props.site+'/rasa/set_slots'\n                    ,{slots:[{slot:'crossword',value:that.props.match.params.id}]}\n                    )\n                }\n            },300)\n        }\n    }\n    \n    render() {\n        let that = this;\n        if (this.props.match.params.id) { \n          return (\n            <div className=\"componentd dfirst-component\" style={{ width:'100%'}}>\n                <div className=\"acontent-block\" style={{ width:'100%'}}>\n                \n                <Link style={{float:'left', marginRight:'0.2em'}}  to=\"/crosswords\"><Button variant=\"success\">Start a new crossword</Button></Link>\n                <h3 style={{ clear:'both', marginRight:'0.2em', width:'100%'}}> <a target=\"_new\" href={this.state.link}>{that.state.title}</a> </h3>\n                <div>\n                    <span>\n                        {that.state.author &&  <span> by {that.state.author}</span>} \n                    </span>\n                </div>   \n                {(that.state.copyright && that.state.copyright_link) && <span> &copy; <a target=\"_new\"  href={this.state.copyright_link}>{that.state.copyright}</a></span>}\n                {(that.state.copyright && !that.state.copyright_link) && <span> &copy; {that.state.copyright}</span>}                \n\n {(that.state.data && that.props.hermodClient.connected) && <div style={{zIndex:1}} ><Crossword   data={that.state.data} \n                      storageKey={'guesses_'+this.props.match.params.id} \n                      ref={that.props.crosswordRef}\n                      onCorrect={that.onCorrect}\n                      onLoadedCorrect={that.onLoadedCorrect}\n                      onCrosswordCorrect={that.onCrosswordCorrect}\n                      onCellChange={that.onCellChange}\n                    /></div>}\n                </div>\n            </div>\n          )\n      } else {\n          return <Redirect to='/crosswords' />\n      }\n    }\n     \n}\n","import React from 'react';\nimport {Component} from 'react';\nimport waitingIcon from './images/waiting_small.gif'\nimport {Link} from 'react-router-dom'\nexport default class MicrophoneComponent extends Component {\n     \n    render() {\n        var that = this\n        var borderColor = ''\n        var backgroundColor = ''\n        if (this.props.hermodClient.isPlaying) { \n            borderColor = 'green'\n            backgroundColor = 'lightblue'\n        } else {\n            borderColor = 'black'\n            backgroundColor = 'grey'\n            if (parseInt(this.props.hermodClient.microphoneState) === 1) {\n                borderColor = 'green'\n                backgroundColor = 'grey'\n            } else if (parseInt(this.props.hermodClient.microphoneState) === 2 ) {\n                borderColor = 'red'\n                backgroundColor = 'pink'\n            } else if (parseInt(this.props.hermodClient.microphoneState) === 3) {\n                borderColor = 'green'\n                backgroundColor = 'green'\n            }\n        }\n\n        const micStyle = {position: \"fixed\", top:'0.9em', right:'0.9em', height:\"3.1em\", width:\"3.1em\", padding:\"0.3em\", zIndex: 60}\n        const buttonStyle = {\n            position: \"fixed\",\n            top: \"0.5em\",\n            right: \"0.5em\",\n            fontSize: \"1.2em\",\n            backgroundColor:backgroundColor,\n            border: \"2px solid \"+borderColor,\n            borderRadius: \"2em\",\n            height: \"4em\",\n            width: \"4em\",\n            textDecoration: \"none\",\n            outline: \"none\"\n        }\n        const waitingOverlayStyle = {\n            position: \"fixed\",\n            top: \"0.8em\", \n            right: \"0.8em\", \n            height: \"3.2em\", \n            opacity: 0.2, \n            zIndex: 50\n        }\n\n        const micImage = <svg   style={micStyle}  aria-hidden=\"true\" id=\"micImage\"  focusable=\"false\" data-prefix=\"fas\" data-icon=\"microphone\" className=\"microphoneImage\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 352 512\"><path fill=\"currentColor\" d=\"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z\"></path></svg>   \n        return (\n        <div>\n            {that.props.hermodClient.microphoneState !==1 && <button  id='microphoneButton' onClick={that.props.toggleMicrophone}  style={buttonStyle} >\n              <div>\n                    {that.props.hermodClient.isWaiting && <img style={waitingOverlayStyle} alt=\"microphone\" id=\"waitingOverlay\" src={waitingIcon}  />}\n                    {micImage}\n                    \n                </div>\n            </button>}\n            \n            {that.props.hermodClient.microphoneState === 1 && <Link to='/about_edison' onClick={that.props.api.client.startHotword} ><button  id='microphoneButton'  style={buttonStyle} >\n              <div>\n                    {micImage}\n                    \n                </div>\n            </button></Link>}\n        </div>\n        );\n        }\n}\n","import React from 'react';\nimport {Component} from 'react';\n\nexport default class SpeechBubbleComponent extends Component {\n    \n    render() {\n      let that = this;\n\n     const wrapStyle = {\n            position: \"fixed\",\n            top: \"4em\",\n            right: \"8em\",\n            minWidth: \"15em\",\n            zIndex:99\n      }\n      \n      const bubbleStyle = {\n        position: \"relative\",\n        background: \"#38cedc\",\n        borderRadius: \".4em\",\n        minHeight: \"3em\",\n        width: \"100%\",\n        padding: \"0.5em\",\n        textDecoration: \"none\",\n        textAlign:\"left\"\n      }\n      \n      var visible = false\n      if (that.props.hermodClient.transcript  && that.props.hermodClient.transcript.length > 0) {\n          visible = true;\n      }\n         \n      return (\n        <div style={wrapStyle} className=\"speechBubbleComponent\">\n         {visible &&   <div  style={bubbleStyle} id=\"speechbubble\" className=\"speech-bubble\">\n             <div style={{fontWeight: 'bold'}} >{that.props.hermodClient.transcript}</div>\n             {that.props.hermodClient.say && <div>{that.props.hermodClient.say}</div>}\n             </div>}\n        </div>\n      );\n    }\n}\n             \n","import React from 'react';\nimport './App.css';\nimport { Button } from \"react-bootstrap\";\n\nfunction SuggestionButtonsComponent(props) {\n    var renderedButtons = []\n    var i = 0;\n    const sendMessage = function(e) {\n         props.sendMessage(e.target.getAttribute('data-message'))\n    }\n    const showFrame = function(e) {\n        props.showFrame(e.target.getAttribute('data-frame'))\n    }\n    const showWindow = function(e) {\n        props.showWindow(e.target.getAttribute('data-url'))\n    }\n    \n    for (i in props.buttons) {\n       if (props.buttons[i].text) {\n           renderedButtons.push(<Button key={i} variant=\"primary\" data-message={props.buttons[i].text} onClick={sendMessage} >{props.buttons[i].label ? props.buttons[i].label : props.buttons[i].text}</Button>)                    //button.onclick=function() {client.sendASRTextMessage(config.site,thebutton.text)}\n       } else if (props.buttons[i].frame) {\n           renderedButtons.push(<Button key={i} variant=\"primary\" data-frame={props.buttons[i].frame} onClick={showFrame} >{props.buttons[i].label}</Button>)\n       } else if (props.buttons[i].url) {\n           renderedButtons.push(<Button key={i} variant=\"primary\" data-url={props.buttons[i].url} onClick={showWindow} >{props.buttons[i].label}</Button>)\n       } \n    }\n    \n  return (\n     <span style={{float: \"left\", marginRight: \"0.5em\", padding: \"0.5em\"}} className=\"dynamicButtons\" id=\"dynamicButtons\" >\n                {renderedButtons}\n    </span>\n    \n  );\n}\n\nexport default SuggestionButtonsComponent;\n","    import React from \"react\";\n    import {Component} from 'react';\n\n    import { Button, Dropdown, ButtonGroup } from \"react-bootstrap\";\n      \n    export default class NluFixerComponent extends Component {\n\n       constructor(props) {\n          super(props);\n          this.getPrettyIntentName = this.getPrettyIntentName.bind(this)\n          this.onIntentChanged = this.onIntentChanged.bind(this)\n          this.onEntityChanged = this.onEntityChanged.bind(this)\n          this.onEntityClicked = this.onEntityClicked.bind(this)\n          this.sendForm = this.sendForm.bind(this)\n          this.sendFormQuestion = this.sendFormQuestion.bind(this)\n          this.onQuestionSelect = this.onQuestionSelect.bind(this)\n          this.onQuestionBlur = this.onQuestionBlur.bind(this)\n          this.onQuestionFocus = this.onQuestionFocus.bind(this)\n          this.onQuestionKeyup = this.onQuestionKeyup.bind(this)\n          this.getQuestionSelection = this.getQuestionSelection.bind(this)\n          this.getQuestionSelectionRange = this.getQuestionSelectionRange.bind(this)\n          this.newEntity = this.newEntity.bind(this)\n          this.addOrUpdateEntityValue = this.addOrUpdateEntityValue.bind(this)\n          this.addOrUpdateEntityType = this.addOrUpdateEntityType.bind(this)\n          this.onEntityDeleted = this.onEntityDeleted.bind(this)\n          this.setQuestionSelection = this.setQuestionSelection.bind(this)\n          this.onEntityListExpanded = this.onEntityListExpanded.bind(this)\n          this.allowIntent = this.allowIntent.bind(this)\n          this.canShowEntity = this.canShowEntity.bind(this)\n          \n          this.questionInput =  React.createRef();\n          \n          \n          this.state={selection:'',selectionRange:[0,0]}\n          this.keyupTimeout = null;\n          this.state={changed: false, questionIsFocussed: false, showAddButton:false}\n        }\n        \n        getPrettyIntentName(intentName) {\n            if (this.props.intentNames && this.props.intentNames.hasOwnProperty(intentName) &&  this.props.intentNames[intentName].length > 0) {\n                return this.props.intentNames[intentName]\n            } else {\n                return intentName\n            }\n        }\n        \n        getPrettyEntityName(entityName) {\n            if (this.props.entityNames && this.props.entityNames.hasOwnProperty(entityName) &&  this.props.entityNames[entityName].length > 0) {\n                return this.props.entityNames[entityName]\n            } else {\n                return entityName\n            }\n        }\n        \n        onIntentChanged(e) {\n            var nlu = JSON.parse(this.props.hermodClient.nlu_json_original);\n            nlu.intent.name = e.target.attributes.value.textContent\n            this.props.api.setNluJson(nlu)\n            this.setState({changed:true})\n        }\n        \n        onEntityClicked(e) {\n            if (this.state.selection) {     \n                this.addOrUpdateEntityValue(e.target.attributes.value.textContent,this.state.selection)\n            } else {\n                this.setQuestionSelection(e.target.attributes.start.textContent,e.target.attributes.end.textContent)\n            }\n        }\n        \n        onEntityListExpanded(e) {\n            if (this.state.selection) {     \n                this.addOrUpdateEntityValue(e.target.attributes.value.textContent,this.state.selection)\n            }\n        }\n        \n            \n        onEntityChanged(e) {\n            this.addOrUpdateEntityType(e.target.attributes.oldvalue.textContent,e.target.attributes.value.textContent,this.state.selection)\n        }\n\n        onEntityDeleted(e) {\n            if (e.target.attributes.value && e.target.attributes.value.textContent) { \n                var entity = e.target.attributes.value.textContent\n                var nlu = this.props.hermodClient.nlu_json;\n                var entities = this.props.hermodClient.nlu_json.entities;\n                var newEntities=[]\n                for (var i in entities) {\n                    if (entities[i].entity !== entity) {\n                        newEntities.push(entities[i])\n                    }\n                }\n                nlu.entities = newEntities;\n                this.props.api.setNluJson(nlu)\n                this.setState({changed:true,selection:'',selectionRange:[0,0]})\n            }\n        }\n        \n        \n        addOrUpdateEntityType(entity,newEntity,value) {\n            var nlu = this.props.hermodClient.nlu_json;\n            var entities = this.props.hermodClient.nlu_json.entities;\n            var found = false\n            for (var i in entities) {\n                if (entities[i].entity === entity) {\n                    found = true\n                    entities[i].entity = newEntity\n                    if (value) entities[i].value = value\n                }\n            }\n            if (!found) {\n                var range = this.state.selectionRange;\n                entities.push({entity:newEntity,start:range[0],end:range[1],value:this.state.selection})\n            }\n            nlu.entities = entities;\n            this.props.api.setNluJson(nlu)\n            this.setState({changed:true,selection:'',selectionRange:[0,0],showAddButton:false})\n        }\n        \n        addOrUpdateEntityValue(entity,value) {\n            if (value) {\n                var nlu = this.props.hermodClient.nlu_json;\n                var entities = this.props.hermodClient.nlu_json.entities;\n                var found = false\n                for (var i in entities) {\n                    if (entities[i].entity === entity) {\n                        found = true\n                        entities[i].value = value\n                    }\n                }\n                if (!found) {\n                    var range = this.state.selectionRange;\n                    entities.push({entity:entity,start:range[0],end:range[1],value:this.state.selection})\n                }\n                nlu.entities = entities;\n                this.props.api.setNluJson(nlu)\n                this.setState({changed:true,selection:'',selectionRange:[0,0],showAddButton:false})\n            }\n        }\n        \n        \n        newEntity(event) {\n            if (event.target.attributes.value && event.target.attributes.value.textContent) { \n                var entity = event.target.attributes.value.textContent\n                var nlu = this.props.hermodClient.nlu_json;\n                var entities = this.props.hermodClient.nlu_json.entities;\n                var newEntities=[]\n                for (var i in entities) {\n                    if (entities[i].entity !== entity) {\n                        newEntities.push(entities[i])\n                    }\n                }\n                var range = this.state.selectionRange;\n                newEntities.push({entity:entity,start:range[0],end:range[1],value:this.state.selection})\n                nlu.entities = newEntities;\n                this.props.api.setNluJson(nlu)\n                this.setState({changed:true,selection:'',selectionRange:[0,0]})\n            }\n        }\n       \n        allowIntent(intent) {\n            if (this.props.allowedIntents) {\n                if (intent in this.props.allowedIntents) {\n                    return true\n                } else {\n                    return false\n                }\n            } else {\n                return true\n            }\n        }\n        \n        canShowEntity(intent,entity) {\n            return true\n            //console.log(['CANSHOW',intent,entity])\n            //console.log(this.props.hermodClient.domain)\n            // build index\n            var intentIndex = {}\n            if (this.props.hermodClient.domain && this.props.hermodClient.domain.intents) {\n               for (var i in this.props.hermodClient.domain.intents) {\n                   var intentItems = this.props.hermodClient.domain.intents[i]\n                   var intentName = Object.keys(intentItems)[0]\n                   var intentData = intentItems[intentName]\n                   intentIndex[intentName]={}\n                   if (intentData.hasOwnProperty('use_entities')) {\n                       intentIndex[intentName].allow = intentData['use_entities']\n                   } else if (intentData.hasOwnProperty('ignore_entities'))  {\n                        intentIndex[intentName].deny = intentData['ignore_entities']\n                   }\n               }\n               //console.log(intentIndex)\n               // now check\n               if (intentIndex.hasOwnProperty(intent) && (intentIndex[intent].deny || intentIndex[intent].allow)) {\n                   // have some form of restriction\n                    if (intentIndex.hasOwnProperty(intent) && (intentIndex[intent].deny)) {\n                       if (entity in  intentIndex[intent].deny) {\n                         //console.log('exp deny')\n                         return false\n                       }\n                    }\n                    if (intentIndex.hasOwnProperty(intent) && (intentIndex[intent].allow)) {\n                        if (entity in  intentIndex[intent].allow) {\n                           //console.log('exp allow')\n                           return true\n                        } else {\n                            //console.log('allow not listed')\n                            return false\n                        }\n                    }\n                    // deny set but not in denied list\n                    return true\n               } else {\n                   // no restrictions set\n                   return true\n               } \n               \n            }\n        }\n     \n        render() {\n            let that = this;\n            if (this.props.hermodClient) {\n                 var parsedIntent = (this.props.hermodClient && this.props.hermodClient.nlu_json && this.props.hermodClient.nlu_json.intent && this.props.hermodClient.nlu_json.intent.name) ? this.props.hermodClient.nlu_json.intent.name : ''\n                 \n                 var parsedEntities = (this.props.hermodClient && this.props.hermodClient.nlu_json && this.props.hermodClient.nlu_json.entities) ? this.props.hermodClient.nlu_json.entities : []\n                  var entityIndex = {}\n                  for (var parsedEntity in parsedEntities) {\n                      entityIndex[parsedEntities[parsedEntity].entity] = parsedEntities[parsedEntity]\n                  }\n                  var entityOptions=[<option key={-1} value=\"\" ></option>]\n                  var form = null\n                  var intentName = null\n                  var entityName = null\n                  var i=0\n                  if (that.props.hermodClient.question && this.props.hermodClient.domain && this.props.hermodClient.domain.entities){\n                      // RENDER INTENT PICKLIST\n                      var options=[<option key={-1} value=\"\" ></option>]\n                      // first options from nlu_json.intent_ranking in order\n                      var intentUsed={}\n                      for (i in this.props.hermodClient.nlu_json.intent_ranking) {\n                          var ranking=this.props.hermodClient.nlu_json.intent_ranking[i]\n                          intentName = ranking.name\n                          options.push(<Dropdown.Item key={i} value={intentName} onClick={function(event) {that.onIntentChanged(event)}} >{this.getPrettyIntentName(intentName)}</Dropdown.Item>)\n                          intentUsed[intentName] = true;\n                      }\n                      // remaining options\n                      for (i in this.props.hermodClient.domain.intents) {\n                          var intent = this.props.hermodClient.domain.intents[i]\n                          intentName = Object.keys(intent)[0]\n                          if (!intentUsed.hasOwnProperty(intentName)) {\n                                options.push(<Dropdown.Item key={i+this.props.hermodClient.domain.intents.length} value={intentName} onClick={function(event) {that.onIntentChanged(event)}} >{this.getPrettyIntentName(intentName)}</Dropdown.Item>)\n                          }\n                      }\n                      \n                    // RENDER ENTITIES\n                      for (i in this.props.hermodClient.domain.entities) {\n                          entityName = this.props.hermodClient.domain.entities[i]\n                          entityOptions.push(<Dropdown.Item key={i} value={entityName} onClick={function(event) {that.onEntityChanged(event)}} >{this.getPrettyEntityName(entityName)}</Dropdown.Item>)\n                      } \n                      \n                      var buttons=[]\n                      var entityNameInner = null\n                      for (i in this.props.hermodClient.domain.entities) {\n                        entityName = this.props.hermodClient.domain.entities[i]\n                        var innerEntityOptions = []\n                        innerEntityOptions.push(<Dropdown.Item key={i+2} ><Button value={entityName} onClick={function(event) {that.onEntityDeleted(event)}}  className=\"btn btn-danger\" >Delete</Button></Dropdown.Item>)\n                        innerEntityOptions.push(<Dropdown.Divider key={i+1} />)\n                          \n                          \n                        for (var j in this.props.hermodClient.domain.entities) {\n                              entityNameInner = this.props.hermodClient.domain.entities[j]\n                              if (this.canShowEntity(parsedIntent,entityNameInner)) {\n                                  if (entityName !== entityNameInner) {\n                                    innerEntityOptions.push(<Dropdown.Item key={j} oldvalue={entityName} value={entityNameInner} onClick={function(event) {that.onEntityChanged(event)}} >{this.getPrettyEntityName(entityNameInner)}</Dropdown.Item>)    \n                                  } else {\n                                      innerEntityOptions.push(<Dropdown.Item style={{backgroundColor:'lightgrey',fontWeight:'bold'}} key={j} oldvalue={entityName} value={entityNameInner} onClick={function(event) {that.onEntityChanged(event)}} >{this.getPrettyEntityName(entityNameInner)}</Dropdown.Item>)    \n                                  }\n                              }\n                              \n                          } \n                          \n                          \n                        if (entityIndex.hasOwnProperty(entityName)) {\n                              buttons.push(\n                              <Dropdown key={i}   style={{border: '1px solid #6a4077' ,marginLeft:'0.3em',backgroundColor:\"#c88eda\", zIndex:1}}  as={ButtonGroup}>\n\n                                  <Dropdown.Toggle split style={{marginLeft:'0.3em',backgroundColor:\"#c88eda\",border: 'none'}}  size=\"sm\"  id=\"dropdown-split-basic\" ></Dropdown.Toggle>\n                                  <Button onClick={function(event) {that.onEntityClicked(event)}} value={entityName} start={entityIndex[entityName].start} end={entityIndex[entityName].end} style={{marginLeft:'0.3em',backgroundColor:\"#c88eda\",border: 'none'}}  size=\"sm\" >{entityIndex[entityName].value}</Button>\n\n                                  <Dropdown.Menu>\n                                    {innerEntityOptions}\n                                  </Dropdown.Menu>\n                                </Dropdown>\n                             \n                             )\n                          }\n                      }\n                      var addEntityOptions=[]\n                        for (i in this.props.hermodClient.domain.entities) {\n                              entityNameInner = this.props.hermodClient.domain.entities[i]\n                              addEntityOptions.push(<Dropdown.Item key={i} oldvalue={entityName} value={entityNameInner} onClick={function(event) {that.newEntity(event)}} >&nbsp;{this.getPrettyEntityName(entityNameInner)}&nbsp;</Dropdown.Item>)\n                        } \n                        form = <form onSubmit={function() { return false} } style={{display:'inline'}}>\n                            {(parsedIntent) &&    <Dropdown key={i}   style={{clear:'both',border: '1px solid #6a4077' ,marginLeft:'0.3em',backgroundColor:\"#c88eda\"}}  as={ButtonGroup}>\n\n                                  <Dropdown.Toggle split style={{marginLeft:'0.3em',backgroundColor:\"#c88eda\",border: 'none'}}  size=\"sm\"  id=\"dropdown-split-basic\" >{parsedIntent}</Dropdown.Toggle>\n                                \n                                  <Dropdown.Menu>\n                                    {options}\n                                  </Dropdown.Menu>\n                                </Dropdown>\n                              \n                              }\n                            {buttons}\n                           {(this.state.showAddButton && this.state.selection) && <Dropdown  show={true} style={{border: '1px solid #6a4077' ,marginLeft:'0.3em',backgroundColor:\"#c88eda\", zIndex:1}}  as={ButtonGroup}>\n                            <Dropdown.Toggle split style={{marginLeft:'0.3em',backgroundColor:\"#c88eda\",border: 'none'}}  size=\"sm\"  id=\"dropdown-split-basic\" ></Dropdown.Toggle>\n                                  \n                                  <Dropdown.Menu>\n                                    {addEntityOptions}\n                                  </Dropdown.Menu>\n                                </Dropdown>\n                            }\n                          \n                          {that.state.changed && <Button onClick={that.sendForm} className='btn' size=\"sm\"  style={{marginLeft:'1em', backgroundColor:\"#82b77c\"}} >Try Again</Button>}\n                        </form>\n                  }\n                  return (\n                    <div style={{height:'1em', textAlign:'left'}} className=\"nluFixerComponent\">\n\n\n                        <div style={{marginLeft: \"0.5em\", marginRight: \"0.5em\", clear: \"both\" , width: \"90%\"}}  >\n                          <form style={{clear:'both'}} onSubmit={that.sendFormQuestion} ><input ref={that.questionInput} onKeyUp={this.onQuestionKeyup} onFocus={this.onQuestionFocus} onBlur={this.onQuestionBlur} onSelect={this.onQuestionSelect} style={{clear:'both', fontSize: \"1.3em\" , width: \"100%\"}} id=\"text_input\" type='text' value={that.props.hermodClient.question} onChange={that.props.setQuestion} placeholder='Ask a question' /></form>\n                        </div>     \n                        <div style={{zIndex:999}} >{form}</div>\n                    </div>\n                  )\n            }\n            return null;\n        }\n         \n\n\n     \n         \n        sendFormQuestion(e) {\n            let that = this;\n            e.preventDefault(); \n            if (that.props.hermodClient && that.props.hermodClient.question) {\n                let question = that.props.hermodClient.question;\n                var data = {'text':question}\n                that.props.api.client.sendMessage('hermod/'+that.props.hermodClient.config.site+'/asr/text',data)\n                that.setState({changed: false})\n            }\n            return false;\n        }       \n        \n        sendForm(e) {\n            let that = this;\n            if (that.props.hermodClient && that.props.hermodClient.nlu_json) {\n                let nlu_json = that.props.hermodClient.nlu_json;\n                nlu_json.text = that.props.hermodClient.question\n                e.preventDefault()\n                that.props.api.client.sendMessage('hermod/'+that.props.hermodClient.config.site+'/nlu/intent',nlu_json)\n            }\n            that.setState({changed: false})\n            return false;\n        }\n        \n        getQuestionSelection(event) {\n            const selection = event.target.value.substring(event.target.selectionStart, event.target.selectionEnd);\n            return selection ? selection : '';\n        }\n        \n        setQuestionSelection(selectionStart, selectionEnd) {\n            var questionInput = this.questionInput.current\n            if (questionInput) {\n                this.createSelection(questionInput,selectionStart, selectionEnd)\n            }\n        }\n        \n        createSelection(field, start, end) {\n            if( field.createTextRange ) {\n                var selRange = field.createTextRange();\n                selRange.collapse(true);\n                selRange.moveStart('character', start);\n                selRange.moveEnd('character', end-start);\n                selRange.select();\n            } else if( field.setSelectionRange ) {\n                field.setSelectionRange(start, end);\n            } else if( field.selectionStart ) {\n                field.selectionStart = start;\n                field.selectionEnd = end;\n            }\n            field.focus();\n        } \n        \n        getQuestionSelectionRange(event) {\n            const selection = [event.target.selectionStart ? event.target.selectionStart : 0, event.target.selectionEnd ? event.target.selectionEnd : 0];\n            return selection\n        }\n        \n        onQuestionSelect(event) {\n            this.setState({'selection':this.getQuestionSelection(event),'selectionRange':this.getQuestionSelectionRange(event),showAddButton:true})\n        }\n        \n        onQuestionBlur(event) {\n            this.setState({questionIsFocussed: false, showAddButton: false}) //selection:'',selectionRange:[0,0]})\n        }\n\n        onQuestionFocus(event) {\n            this.setState({questionIsFocussed: true}) //selection:'',selectionRange:[0,0]})\n        }\n\n        \n        onQuestionKeyup(event) {\n        }\n        \n    }\n\n","import React from \"react\";\nimport {Component} from 'react';\nimport { Button } from \"react-bootstrap\";\nimport MicrophoneComponent from './MicrophoneComponent'\nimport SpeechBubbleComponent from './SpeechBubbleComponent'\nimport SuggestionButtonsComponent from './SuggestionButtonsComponent'\nimport NluFixerComponent from './NluFixerComponent'\n\n\nimport { Link } from \"react-router-dom\";\n\nexport default class HeaderComponent extends Component {\n    \n    render() {\n        let that = this;\n      return (\n        <div className=\"hermodHeader\" style={{backgroundColor: \"#b5a5f3\", minHeight: \"9em\", width: \"100%\", top: 0, left: 0, position: 'fixed'}}>\n          <MicrophoneComponent hermodClient={that.props.hermodClient} toggleMicrophone={this.props.toggleMicrophone} api={this.props.api} />\n          <SpeechBubbleComponent hermodClient={that.props.hermodClient} />\n          <div id=\"buttons\" style={{float: \"left\", marginRight: \"0.5em\", padding: \"0.5em\"}}>\n            <span  className=\"fixedButtons\" id=\"fixedButtons\" style={{float: \"left\", marginRight: \"0.5em\"}} >\n                 <Link  to='/' ><Button style={{float: 'left'}} variant=\"secondary\"  size=\"lg\" >Home</Button></Link>\n                 {(this.props.hermodClient.slots && this.props.hermodClient.slots.crossword) && <Link  to={'/crossword/'+this.props.hermodClient.slots.crossword} ><Button style={{marginLeft:'0.3em',float: 'left'}} variant=\"secondary\"   >Crossword</Button></Link>}\n            {that.props.hermodClient.microphoneState !== 1 &&  <Link  to='/about_edison' ><Button style={{marginLeft:'0.3em',float: 'left'}} variant=\"secondary\"   >Help</Button></Link>}\n            \n            </span>\n            <SuggestionButtonsComponent  buttons={that.props.hermodClient.buttons} sendMessage={that.props.sendMessage}  showFrame={that.props.showFrame}  showWindow={that.props.showWindow}/>\n        </div>\n        \n      \n        \n        <div style={{float: \"left\",marginLeft: \"0.5em\", marginRight: \"0.5em\", clear: \"both\" , width: \"90%\"}}  >\n             <NluFixerComponent  intents={[]}   entities={[]} hermodClient={this.props.hermodClient}  api={this.props.api} setQuestion={this.props.setQuestion} />  \n        </div>\n        </div>\n      );\n    }\n};\n//     {!(this.props.hermodClient.slots && this.props.hermodClient.slots.crossword) && <Link  to='/crosswords' ><Button style={{marginLeft:'0.3em',float: 'left'}} variant=\"secondary\"   >Crossword</Button></Link>}\n            \n","import React from 'react';\nimport './App.css';\nimport { Button } from \"react-bootstrap\";\n\nfunction SlotListComponent(props) {\n    var renderedButtons = []\n    var i = 0;\n\n    for (i in props.slots) {\n       if (props.slots[i] && props.slots[i].length > 0) {\n           renderedButtons.push(<Button key={i} variant=\"light\"  >{i} {props.slots[i]}</Button>)     \n       } \n    }\n    \n  return (\n     <div style={{float: \"left\", marginRight: \"0.5em\", padding: \"0.5em\", clear:'both'}} className=\"slotList\" id=\"slotList\" >\n                {renderedButtons}\n    </div>\n    \n  );\n}\n\nexport default SlotListComponent;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport {  Link } from \"react-router-dom\";\n//import GoogleAds from 'react-google-ads'\n\nimport SlotListComponent from './SlotListComponent';\n\nexport default (props) => {\n  return (\n    <div className=\"hermodFooter\" style={{overflowY:\"scroll\", backgroundColor: \"rgba(137, 140, 224, 0.81)\",textAlign:'left', borderTop: '1px solid black', height:'2.2em', width: '100%', position: \"fixed\", left: 0, bottom: 0}}>\n    \n      \n      <Link style={{float:'right', marginRight:'0.8em'}} to='/about' ><Button style={{float: 'left'}} variant=\"primary\"  size=\"sm\" >About the Software  </Button></Link>\n <b style={{float:'left', marginRight:'0.8em'}}>&nbsp;&nbsp;<a rel=\"noopener noreferrer\" target=\"_blank\" style={{color: 'lightgrey'}} href='https://github.com/syntithenai/hermod' >Copyleft Steve Ryan</a>&nbsp;&nbsp;</b>\n     \n       <SlotListComponent slots={props.slots} />\n     \n    </div>\n  );\n};\n  //<GoogleAds\n        //client={props.adsenseClient}\n        //slot={props.adsenseSlot}\n        //style={{ display: 'inline-block', width: '100%', }}\n        ///>\n //\n  //   <div>{JSON.stringify(props.hermodClient)}</div>\n","import React from \"react\";\nimport { Redirect} from \"react-router-dom\";\n\nconst divStyle = {\n    left: 0,\n    top: 0,\n     overflowY: 'hidden', \n     width: '100%',\n     height: '100%',\n     overflow: 'hidden', \n     border: 'None'\n}\n\nexport default (props) => {\n    if (props.hermodClient.frame && props.hermodClient.frame.length > 0) {\n      return (\n        <div className=\"component iframeComponent\" style={{height:'90em'}}>\n          <iframe title=\"External\" style={divStyle}  src={props.hermodClient.frame}></iframe>\n        </div>\n      );\n    } else {\n        return <Redirect to=\"/\" />\n    }\n};\n","import React from \"react\";\nimport {  Redirect} from \"react-router-dom\";\nimport YouTube from 'react-youtube';\n\nconst opts = {\n      height: '600',\n      //width: '90%',\n      playerVars: {\n        // https://developers.google.com/youtube/player_parameters\n        autoplay: 1,\n      },\n    };\n\nfunction _onReady(event) {\n    // access to player in all event handlers via event.target\n   // event.target.pauseVideo();\n  }\n  \nexport default (props) => {\n    if (props.hermodClient.youtube && props.hermodClient.youtube.length > 0) {\n      return (\n        <div className=\"component youtubeComponent\" >\n          <YouTube videoId={props.hermodClient.youtube} opts={opts} onReady={_onReady} />\n        </div>\n      );\n    } else {\n        return <Redirect to=\"/\" />\n    }\n};\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nexport default () => {\n  return (\n    <div className=\"component first-component\" style={{textAlign:'left', marginLeft:'1em'}}>\n        <h2>About This Software</h2>\n        <div>This software is a demonstration for Hermod, a suite of tools for building applications with voice.</div>\n        <br/>\n        \n        <div>The software is freely available under a FreeBSD Open Source License.<br/></div>\n\n        <a  target=\"_new\" href='https://github.com/syntithenai/hermod' ><Button style={{marginLeft:'1em'}}  >Developer Documentation</Button></a>\n        <a href=\"https://github.com/syntithenai/hermod/issues\" target=\"_new\"  ><Button style={{marginLeft:'1em'}}  >Report a problem</Button></a>\n        <br/>\n        <div>\n            Built using \n            <ul> \n                <li><a target=\"_new\" href=\"https://rasa.com/docs/rasa/nlu/about/\" >RASA</a></li>\n                <li><a target=\"_new\"  href=\"https://github.com/mozilla/DeepSpeech\" >Deepspeech Voice Recognition</a></li>\n                <li><a target=\"_new\"  href=\"https://picovoice.ai/\" >Picovoice Hotword Recognition</a></li>\n                <li>and many other open source projects</li>\n            </ul>\n            </div>\n            <div>\n            Help improve Deepspeech\n            <br/>\n            <a  target=\"_new\"  href=\"https://voice.mozilla.org/en/speak\" ><Button  variant=\"success\"  >Contribute your voice to the Mozilla Open Source Voice Dataset</Button></a>\n        </div>\n         <br/>\n         <div>\n         This software brings together information from \n            <ul> \n                <li>Wikipedia, Wiktionary and Wikidata to answer questions <a target=\"_new\" href=\"https://donate.wikimedia.org/w/index.php?title=Special:LandingPage&country=AU&uselang=en&utm_medium=donatewiki_page&utm_source=Ways_to_Give&utm_campaign=donate_now_btn\" >Support the Wikimedia Foundation</a></li>\n                <li>Images from <a  target=\"_new\" href =\"https://unsplash.com/\" >Unsplash</a></li>\n                <li>and Videos from <a  target=\"_new\" href =\"https://youtube.com/\" >Youtube</a></li>\n            </ul>\n          </div>\n        \n    </div>\n  );\n};\n","import React from \"react\";\nimport {Component} from 'react';\nimport { Redirect} from \"react-router-dom\";\n\n\nexport default class ImageListComponent extends Component {\n    \n    render() {\n        let that = this;\n        if (this.props.images && this.props.images.length > 0) { \n            let images = []\n            for (var i = 0; i< that.props.images.length; i++) {\n                images.push(<span  key={i} ><img alt={that.props.images[i].attribution} src={that.props.images[i].url} style={{width: '90%'}} /><div>{that.props.images[i].attribution}</div></span>)\n            }\n            return (\n            <div className=\"images-list\" >\n                {images}\n                <br/><br/><br/><br/><br/><br/>\n            </div>\n            );\n        } else {\n            return <Redirect to=\"/\" />\n        }\n    }\n};\n","import React from 'react';\nimport { GoogleLogin } from 'react-google-login';\n\n\nconst responseGoogle = (response) => {\n  console.log(response);\n}\n \nfunction LoginComponent() {\n  return (\n    <div className=\"Login\">\n      <GoogleLogin\n        clientId=\"589552091078-p6ccsnt8kchep5r46t9hfuti328fofjr.apps.googleusercontent.com\"\n        buttonText=\"Login\"\n        onSuccess={responseGoogle}\n        onFailure={responseGoogle}\n        cookiePolicy={'single_host_origin'}\n      />\n    </div>\n  );\n}\n\nexport default LoginComponent;\n","/* global window */\n\nimport React from 'react';\nimport {Component} from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport ReactGA from 'react-ga';\nimport 'whatwg-fetch'\nvar HermodWebClient = require('./hermod_client.js')\nexport default withRouter(class HermodClient extends Component {\n    constructor(props) {\n        super(props);\n        this.state={\n            isListening: false,\n            isSpeaking: false,\n            isPlaying: false,\n            microphoneState: 0,\n            slots:[],\n            transcript:'',\n            nlu:'',\n            nlu_json:{},\n            say:'',\n            isWaiting:false,\n            question: '',\n            frame: '',\n            images: [],\n            image: '',\n            buttons: [],\n            connected: false\n        } \n        this.useAnalytics = false;\n        this.toggleMicrophone = this.toggleMicrophone.bind(this)\n        this.setQuestion = this.setQuestion.bind(this)\n        this.initClient = this.initClient.bind(this)\n        this.showFrame = this.showFrame.bind(this)  \n        this.showWindow = this.showWindow.bind(this)  \n        this.analyticsEvent = this.analyticsEvent.bind(this)\n        this.startWaiting = this.startWaiting.bind(this)\n        this.stopWaiting = this.stopWaiting.bind(this)\n        this.sendMessage = this.sendMessage.bind(this)\n        this.navigateTo = this.navigateTo.bind(this)\n        this.setNluJson = this.setNluJson.bind(this)\n    }\n    \n    navigateTo(target) {\n        this.props.history.push(target)        \n    }\n    \n    initClient() {\n            let that = this;\n           \n            fetch('/config')\n            .then(function(response) {\n                return response.json()\n            }).then(function(config) {\n                var protocol = 'ws://'\n                var port = 9001\n                if (window.location.protocol === \"https:\") {\n                    protocol = 'wss://'\n                }\n                if (!config.server) config.server = protocol + window.location.hostname + ':' + port; \n                \n                that.setState({config:config})\n                var clearSpeechTimeout = null\n                if (config['analytics_code'] && config['analytics_code'].length > 0) {\n                    that.useAnalytics = true\n                    ReactGA.initialize(config['analytics_code']);\n                    ReactGA.pageview(window.location.pathname + window.location.search);\n                }\n                \n                config['javascript_environment'] = 'react'\n                that.client = new HermodWebClient(config)\n                that.setState({client:that.client})\n                that.client.bind('hotwordDetected',function() {\n                })\n                that.client.bind('hotwordReady',function() {\n                   that.setState({hotwordReady: true})\n                })\n                that.client.bind('microphoneStart',function() {\n                   that.setState({microphoneState: 3})\n                })\n                that.client.bind('hotwordStart',function() {\n                   that.setState({ microphoneState: 2})\n                })\n                that.client.bind('hotwordStop',function() {\n                  that.setState({microphoneState: 1})\n                })\n                that.client.bind('microphoneStop',function() {\n                   that.setState({microphoneState: 2})\n                })\n                that.client.bind('disconnect',function() {\n                   that.setState({microphoneState: 0, connected: false})\n                })\n                that.client.bind('reconnect',function() {\n                   that.setState({microphoneState: 0, connected: true})\n                })\n                that.client.bind('connect',function() {\n                  that.setState({microphoneState: 1, connected: true})\n                  that.client.sendMessage('hermod/'+config.site+'/rasa/get_domain',{})\n    \n                })\n                that.client.bind('startSpeaking',function() {\n                    that.setState({isSpeaking: true})\n                })\n                that.client.bind('stopSpeaking',function() {\n                    that.setState({isSpeaking: false})\n                })\n                that.client.bind('startPlaying',function() {\n                    that.setState({isPlaying: true})\n                })\n                that.client.bind('stopPlaying',function() {\n                    that.setState({isPlaying: false})\n                })\n                \n                that.client.bind('message',function(message,payloadIn) {\n                    var parts = message.split(\"/\")\n                    \n                    var payload = {}\n                    var intentName = ''    \n                    var cleanEntities = {}\n                    \n                    function jsonPayload(payloadIn) {\n                        var pl = {}\n                        try {\n                            pl = JSON.parse(payloadIn.toString())\n                        } catch (e) {\n                        }\n                        return pl;\n                    }\n                    payload = jsonPayload(payloadIn)\n                    // bind topics to functions passed down from parent component\n                    var altparts = message.split(\"/\")\n                    altparts[1] = '+';\n                    var alttopic = altparts.join(\"/\")\n                    if (that.props.bindTopic && alttopic in that.props.bindTopic && that.props.bindTopic[alttopic] !== null) {\n                        try {\n                            that.props.bindTopic[alttopic](payload)\n                        } catch (e) {\n                            console.log(e)\n                        }\n                    }\n                    \n                    if (parts.length > 3 && parts[2] === \"display\" && parts[3] === \"show\" ) {\n                        if (payload.url && payload.url.length > 0) {\n                            that.client.showUrl(payload.url)\n                        }\n                        if (payload.frame && payload.frame.length > 0) {\n                            that.showFrame(payload.frame)\n                        }\n                        if (payload.youtube && payload.youtube.length > 0) {\n                            that.showYoutube(payload.youtube)\n                        }\n                        if (payload.image && payload.image.length > 0) {\n                            that.showImages([payload.image])\n                        }\n                        if (payload.images && payload.images.length > 0) {\n                            that.showImages(payload.images)\n                        }\n                        if (payload.buttons && payload.buttons.length > 0) {\n                            that.setState({buttons: payload.buttons})\n                        }\n                        if (payload.navigate && payload.navigate.length > 0) {\n                            that.navigateTo(payload.navigate)\n                        }\n                \n                    } else if (parts.length > 3 && parts[2] === \"dialog\"  && parts[3] === \"slots\") {\n                        that.setState({slots: payload})\n                    } else if (parts.length > 3 && parts[2] === \"rasa\"  && parts[3] === \"domain\") {\n                        that.setState({domain: payload})                        \n                    } else if (parts.length > 3 && parts[2] === \"asr\"  && parts[3] === \"text\") {\n                        that.setState({question:payload.text, transcript: payload.text, nlu:'', say:''})\n                        if (clearSpeechTimeout) clearTimeout(clearSpeechTimeout) \n                        clearSpeechTimeout = setTimeout(function() {\n                            that.setState({transcript: ''})\n                        },3000)\n                    } else if (parts.length > 3 && parts[2] === \"dialog\"  && parts[3] === \"end\") {\n                        that.setState({transcript: \"\"})\n                    } else if (parts.length > 3 && parts[2] === \"nlu\"  && parts[3] === \"intent\") {\n                        intentName = payload.intent && payload.intent.name ? payload.intent.name : '' \n                        cleanEntities = {}\n                        if (intentName.length > 0 && payload.entities) {\n                            for (var i in payload.entities) {\n                                var entity = payload.entities[i]\n                                if (entity.entity && entity.entity.length > 0 && entity.value && entity.value.length > 0 ) {\n                                    cleanEntities[entity.entity] = entity.value\n                                }\n                            }\n                            that.setState({nlu_json: payload,nlu_json_original:JSON.stringify(payload), nlu: intentName + JSON.stringify(cleanEntities), buttons: []})\n                            that.analyticsEvent(intentName + JSON.stringify(cleanEntities))\n                        }\n                    } else if (parts.length > 3 && parts[2] === \"nlu\"  && parts[3] === \"externalintent\") {\n                        intentName = payload.intent && payload.intent.name ? payload.intent.name : '' \n                        cleanEntities = {}\n                        if (intentName.length > 0 && payload.entities) {\n                            for (var k in payload.entities) {\n                                var entitya = payload.entities[k]\n                                if (entitya.entity && entitya.entity.length > 0 && entitya.value && entitya.value.length > 0 ) {\n                                    cleanEntities[entitya.entity] = entitya.value\n                                }\n                            }\n                            that.setState({nlu_json: payload, nlu: intentName + JSON.stringify(cleanEntities)})\n                        }\n                    }  else if (parts.length > 2 && parts[2] === \"tts\"  && parts[3] === \"say\") {\n                        that.setState({say: payload.text}) \n                    }  else if (parts.length > 3  && parts[2] === \"display\" && parts[3] === \"startwaiting\") {\n                        that.setState({isWaiting: true}) \n                    }  else if (parts.length > 3  && parts[2] === \"display\" && parts[3] === \"stopwaiting\") {\n                        that.setState({isWaiting: false}) \n                    }\n                })\n                that.client.connect()\n            }).catch(function(ex) {\n                console.log('parsing failed', ex)\n            })\n    }\n \n        \n    componentDidMount() {\n        this.initClient()\n    };\n    \n    \n    toggleMicrophone() {\n        let that = this;\n        var state = this.state.microphoneState;\n        if (that.state.isPlaying) {\n            that.client.stopPlaying()\n            that.client.sendMessage('hermod/'+that.state.config.site+'/tts/finished',{})\n        } else {          \n            if (state === 1) { // connected stopped\n                that.client.stopMicrophone()\n                that.client.stopHotword()\n                // trigger dialog start through hermod\n                that.client.sendMessage('hermod/'+that.state.config.site+'/dialog/end',{})\n            } else if (state === 2) {  // hotword active\n                that.client.stopHotword()\n                that.client.startMicrophone()\n                that.client.sendMessage('hermod/'+that.state.config.site+'/hotword/detected',{})\n            } else if (state === 3) { // active\n                that.client.stopMicrophone()\n                that.client.stopHotword()\n                that.client.sendMessage('hermod/'+that.state.config.site+'/dialog/end',{})\n            } else {\n                \n            }\n        }\n    }\n    \n    setNluJson(json) {\n        this.setState({nlu_json:json})\n    }\n    \n    setQuestion(event) {\n        this.setState({question:event.target.value})\n    }\n \n    analyticsEvent(page,category='Navigation') {\n          if (this.useAnalytics) {\n              ReactGA.event({\n                  category: category,\n                  action:  page\n                });\n          }\n      }\n      \n\n      showFrame(url) {\n          this.setState({\"frame\":url})\n          this.props.history.push('/frame');\n      }\n      \n       showYoutube(url) {\n          this.setState({\"youtube\":url})\n          this.props.history.push('/youtube');\n      }\n      \n      showImages(images) {\n          this.setState({\"images\":images})\n          this.props.history.push('/images');\n      }\n      \n      showWindow(url) {\n        var displayWindow = null;\n        if (displayWindow) {\n            displayWindow.close()\n        }\n        displayWindow = window.open(url)\n      }\n      \n      startWaiting() {\n        this.setState({isWaiting: true})\n      }\n      \n      stopWaiting() {\n        this.setState({isWaiting: false})\n      }\n      \n      sendMessage(text) {\n          this.client.sendASRTextMessage(this.state.config.site,text)\n       }\n\n    \n    render() {\n        if (this.state.config) {\n                var api = {\n                toggleMicrophone:this.toggleMicrophone,\n                setQuestion:this.setQuestion,\n                client: this.state.client,\n                showFrame: this.showFrame,\n                showWindow: this.showWindow,\n                startWaiting: this.startWaiting,\n                stopWaiting: this.stopWaiting,\n                sendMessage: this.sendMessage,\n                setNluJson: this.setNluJson\n            }\n\n          return (\n            <div className=\"HermodClient\">\n            {this.props.children(this.state,api)}\n            </div>\n          );\n        } else return null\n    }\n})\n\n\n","import React, {Component} from 'react';\nimport 'whatwg-fetch'\nimport { Button } from \"react-bootstrap\";\nimport {Link } from \"react-router-dom\";\n\nexport default class CrosswordListComponent extends Component {\n    \n    constructor(props) {\n      super(props);\n      this.state = {\n         crosswords: [],\n         searchFor: ''  ,\n         difficulty: '' \n       }\n       this.searchCrosswords = this.searchCrosswords.bind(this)\n       this.updateSearchFor = this.updateSearchFor.bind(this)\n       this.sendForm = this.sendForm.bind(this)\n       this.updateSearchFor =this.updateSearchFor.bind(this)\n       this.searchDifficulty = this.searchDifficulty.bind(this)\n       this.searchTimeout = null\n    }\n\n    \n      componentDidMount() {\n        let that = this;\n           var crosswords = []\n           if (localStorage.getItem('crossword_list_entry')) {\n               try {\n                   crosswords = JSON.parse(localStorage.getItem('crossword_list_entry'))\n                   this.setState({crosswords: crosswords})\n               } catch (e) {\n                    this.searchCrosswords().then(function() {\n                        localStorage.setItem('crossword_list_entry',JSON.stringify(that.state.crosswords))\n                    })\n               }\n            }\n            if (!crosswords || crosswords.length === 0){\n                this.searchCrosswords().then(function() {\n                    localStorage.setItem('crossword_list_entry',JSON.stringify(that.state.crosswords))\n                })\n                \n            }        this.crossword =  React.createRef();\n      };\n      \n      updateSearchFor(e) {\n          this.setState({searchFor:e.target.value})\n          this.sendForm(e)\n      }\n      \n      searchCrosswords() {\n        let that = this\n        return new Promise(function(resolve,reject) {\n            var queryParts = []\n            if (that.state.searchFor.length > 0) {\n                queryParts.push(\"search=\"+that.state.searchFor)\n            }\n            if (that.state.difficulty.length > 0) {\n                queryParts.push(\"difficulty=\"+that.state.difficulty)\n            }\n            var prep = ''//this.props.hermodClient.config && this.props.hermodClient.config.webserver ? this.props.hermodClient.config.webserver : '';\n            if (that.props.startWaiting) that.props.startWaiting()\n            fetch(prep+'/api/crosswords?'+queryParts.join(\"&\"))\n                .then(function(response) {\n                    return response.json()\n                }).then(function(list) {\n                    that.setState({crosswords:list})\n                }).finally(function() {\n                  if (that.props.stopWaiting) that.props.stopWaiting()  \n                  resolve()\n                })\n        })\n    }\n    \n    sendForm(e) {\n        e.preventDefault()\n        if (this.searchTimeout) {\n            clearTimeout(this.searchTimeout)\n        }\n        this.searchTimeout = setTimeout(this.searchCrosswords,1000)\n        return false;\n    }\n    \n    searchDifficulty(difficulty) {\n        this.setState({difficulty:difficulty})\n        this.searchCrosswords()\n    }\n\n    render () {\n        let that = this\n        var searchResults = []\n        var difficultyMap = {\"1\":\"Kids\",\"2\":\"Adult Easy\",\"3\":\"Adult Medium\",\"4\":\"Adult Hard\",\"5\":\"Cryptic\",\"10\":\"Junior Primary School\",\"11\":\"Middle Primary School\",\"12\":\"Upper Primary School\",\"13\":\"Junior High School\",\"14\":\"Senior High School\"}\n        var categoryItems={}\n        for (var i in this.state.crosswords) {\n            var crossword = this.state.crosswords[i]\n            var difficulty = Number(crossword.difficulty > 0 ? crossword.difficulty : 1).toString();\n            if (! categoryItems.hasOwnProperty(difficulty)) {\n                categoryItems[difficulty] = []\n            }\n            categoryItems[difficulty].push(<div key={i} style={{width:'90%', textAlign:'left'}} ><Link to={\"/crossword/\"+crossword._id} ><Button style={{minWidth:'18em'}}><span style={{float:'right', marginLeft:'0.5em'}} className=\"badge badge-light\">{difficultyMap.hasOwnProperty(crossword.difficulty) ? difficultyMap[crossword.difficulty]:\"Unknown\"}</span>Start the {crossword.title} crossword</Button></Link></div>)\n            searchResults.push(<div key={i} style={{width:'90%', textAlign:'left', padding:'1em'}} ><Link to={\"/crossword/\"+crossword._id} ><Button style={{minWidth:'18em'}}><span style={{float:'right', marginLeft:'0.5em'}} className=\"badge badge-light\">{difficultyMap.hasOwnProperty(crossword.difficulty) ? difficultyMap[crossword.difficulty]:\"Unknown\"}</span>Start the {crossword.title} crossword</Button></Link></div>)\n        }\n        var categoryStyle={backgroundColor: 'orange', minWidth: '30%', float: 'left', minHeight: '7em', border: '1px solid blue', marginLeft: '0.8em' , marginTop: '0.8em' , fontSize:'2em', textAlign:'center', align:'center'\n            }\n            \n        var categories = [\n        ]\n        for (var j in categoryItems) {\n            categories.push(<div className='col-10 col-md-5' onClick={function(j) { return function() {that.searchDifficulty(j)}}(j)} style={categoryStyle} key={j} >{difficultyMap.hasOwnProperty(j) ? difficultyMap[j]:\"Unknown\"}\n                <div >{categoryItems[j]}</div>\n            </div>)\n        }\n        \n      return (\n        <div className=\"crosswordListComponent row\">\n              <div style={{marginLeft: \"0.5em\", marginRight: \"0.5em\", clear: \"both\" , width: \"50%\"}}  >\n                  <form onSubmit={that.sendForm} ><input style={{fontSize: \"1.8em\" , width: \"100%\"}} id=\"text_input\" type='text' value={that.state.searchFor} onChange={that.updateSearchFor} placeholder='Search crosswords' /></form>\n            </div> \n            <div className=\"crosswordSearchResults\" style={{clear:'both', width: '100%'}}>\n            {this.state.searchFor.length > 0 && searchResults}\n            {this.state.searchFor.length === 0 && categories}\n            </div>\n            <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>\n        </div>\n      );\n    }\n}\n\n            \n","import React from 'react';\nimport {Component} from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport PropsRoute from './PropsRoute';\n\nimport HomeContentComponent from \"./HomeContentComponent\";\nimport CrosswordComponent from \"./CrosswordComponent\";\nimport HeaderComponent from \"./HeaderComponent\";\nimport FooterComponent from \"./FooterComponent\";\nimport IFrameComponent from \"./IFrameComponent\";\nimport YoutubeComponent from \"./YoutubeComponent\";\nimport AboutComponent from './AboutComponent';\nimport ImageListComponent from './ImageListComponent';\nimport LoginComponent from './LoginComponent';\n//import AboutEdisonComponent from './AboutEdisonComponent';\n\nimport HermodClient from './HermodClient';\nimport CrosswordListComponent from './CrosswordListComponent';\n\nexport default class App extends Component {\n\n  constructor(props) {\n      super(props);\n      this.fillCrossword=this.fillCrossword.bind(this)\n    }\n\n    \n      componentDidMount() {\n        this.crossword =  React.createRef();\n      };\n      \n   \n   fillCrossword(payload) {\n       if (this.crossword) {\n           this.crossword.current.fillAnswer(payload.direction,payload.number,payload.word);\n        }\n   }\n   \n    render() {\n      let that = this;\n      return (\n        <div className=\"App\">\n            <Router>\n                <HermodClient bindTopic={{\"hermod/+/crossword/fill\": that.fillCrossword}} >\n                {(hermodClient, api) => (\n                    <div>\n                        <PropsRoute  path=\"/\" hermodClient={hermodClient} component={HeaderComponent} api={api} showFrame={api.showFrame} showWindow={api.showWindow} sendMessage={api.sendMessage} toggleMicrophone={api.toggleMicrophone} setQuestion={api.setQuestion} />\n                        <div style={{marginTop:\"9em\"}}>\n                        <div>{JSON.stringify(this.props.hermodClient)}</div>\n                            <PropsRoute  exact={true} path=\"/\" hermodClient={hermodClient} component={CrosswordListComponent} sendMessage={api.sendMessage}  />\n                            <PropsRoute  exact={true} path=\"/home\"  hermodClient={hermodClient}  component={HomeContentComponent} sendMessage={api.sendMessage}   />\n                            <PropsRoute  exact={true} path=\"/crossword\" connected={hermodClient.connected} site={hermodClient.config.site} api={api} hermodClient={hermodClient}  component={CrosswordComponent} crosswordRef={this.crossword}  startWaiting={api.startWaiting} stopWaiting={api.stopWaiting}  />\n                            <PropsRoute  exact={true} path=\"/crossword/:id\" connected={hermodClient.connected} site={hermodClient.config.site} api={api}  hermodClient={hermodClient}  component={CrosswordComponent} crosswordRef={this.crossword}  startWaiting={api.startWaiting} stopWaiting={api.stopWaiting}  />\n                            <PropsRoute  exact={true} path=\"/crosswords\"  hermodClient={hermodClient}  component={CrosswordListComponent} startWaiting={api.startWaiting} stopWaiting={api.stopWaiting}  />\n                            <PropsRoute  exact={true} path=\"/frame\"  hermodClient={hermodClient}  component={IFrameComponent}   />\n                            <PropsRoute  exact={true} path=\"/youtube\"  hermodClient={hermodClient}  component={YoutubeComponent}   />\n                            <PropsRoute  exact={true} path=\"/about\"  hermodClient={hermodClient} component={AboutComponent}  />\n                            <PropsRoute  exact={true} path=\"/login\"  hermodClient={hermodClient} component={LoginComponent}   />\n                            <PropsRoute  exact={true} path=\"/images\"  images={hermodClient.images} component={ImageListComponent}   />\n                            <PropsRoute  exact={true} path=\"/about_edison\"  hermodClient={hermodClient}  component={HomeContentComponent} sendMessage={api.sendMessage}   />\n                        </div>\n                        \n                        <FooterComponent slots={hermodClient.slots} adsenseClient={hermodClient.adsenseClient} adsenseSlot={hermodClient.adsenseSlot} />\n                    </div>\n                  )}\n                </HermodClient>\n            </Router>\n            \n        </div>\n      );\n    }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}