(this.webpackJsonpspokencrossword=this.webpackJsonpspokencrossword||[]).push([[0],{127:function(e,t){e.exports=function(e){var t;onmessage=function(e){switch(e.data.command){case"init":a=e.data.inputSampleRate,t=a;break;case"process":!function(e){for(var a=0;a<e.length;a++)n.push(32767*e[a]);for(;16e3*n.length/t>512;){for(var o=new Int16Array(512),r=0,i=0,s=0,c=0;s<512;){for(r=0,i=0;c<Math.min(n.length,(s+1)*t/16e3);)r+=n[c],i++,c++;o[s]=r/i,s++}postMessage(o),n=n.slice(c)}}(e.data.inputFrame);break;case"reset":n=[]}var a};var n=[]}},133:function(e,t,n){e.exports=n.p+"static/media/waiting_small.d362cb3f.gif"},142:function(e,t,n){e.exports=n(296)},147:function(e,t,n){},165:function(e,t,n){(function(t){var a=n(168),o=n(171),r=n(173),i=n(262),s=function(e){var s=n(291),c=n(295);try{window.PorcupineManager=s}catch(Y){}var l=null,u=!1,d=!1,h=!1,m={},p={},f=!1,g=!1,b=window.AudioContext||window.webkitAudioContext,y=null,v=null,w=null,E=null,C=null,k=null,O=!1,S=[],j=null,x=null,M=[],_=new Float32Array([.9]),N={"hermod/+/speaker/cache/+":function(e,t,n){M.push(n)},"hermod/+/speaker/play/+":function(e,t,n){var o,r=e.split("/"),i="no_id";if(r.length>4&&(i=r[4]),t&&t.length>0){var s={};try{s=JSON.parse(n)}catch(Y){}s&&s.url?(p.hasOwnProperty("startPlaying")&&p.startPlaying(),(o=s.url,h=!0,new Promise((function(e,t){(C=new Audio(o)).addEventListener("canplaythrough",(function(e){C.play()})),C.addEventListener("ended",(function(t){h=!1,e()})),C.addEventListener("error",(function(t){h=!1,e()}))}))).then((function(){l.publish("hermod/"+t+"/speaker/finished",JSON.stringify({id:i})),p.hasOwnProperty("stopPlaying")&&p.stopPlaying()}))):(l.publish("hermod/"+t+"/speaker/started",JSON.stringify({id:i})),p.hasOwnProperty("startPlaying")&&p.startPlaying(),M.push(n),q(function(e){var t=e.reduce((function(e,t){return e+t.length}),0);if(!e.length)return null;var n,o=new Uint8Array(t),r=0,i=a(e);try{for(i.s();!(n=i.n()).done;){var s=n.value;o.set(s,r),r+=s.length}}catch(c){i.e(c)}finally{i.f()}return o}(M)).then((function(){M=[],l.publish("hermod/"+t+"/speaker/finished",JSON.stringify({id:i})),p.hasOwnProperty("stopPlaying")&&p.stopPlaying()})))}},"hermod/+/nlu/intent":function(e,t,n){var a=JSON.parse(n);if(a&&a.intent&&a.intent.name){a.intent.name;var o=[];if(a.entities){for(var r in a.entities)o.push(a.entities[r].entity);o.length>0&&"::"+o.join("__")}}},"hermod/+/tts/say":function(e,t,n){p.hasOwnProperty("startSpeaking")&&p.startSpeaking()},"hermod/+/tts/finished":function(e,t,n){p.hasOwnProperty("stopSpeaking")&&p.stopSpeaking()},"hermod/+/speaker/volume":function(e,t,n){var a={};try{(a=JSON.parse(n)).volume&&T(a.volume)}catch(Y){}},"hermod/+/asr/start":function(e,t,n){D(),Q()},"hermod/+/asr/stop":function(e,t,n){V(),F()},"hermod/+/hotword/start":function(e,t,n){L()},"hermod/+/hotword/stop":function(e,t,n){U()},"hermod/+/ready":function(e,t,n){console.log("reload on server restart"),I(t)}};function P(e,t){if(m.hasOwnProperty(e))l.unsubscribe(e),m[e](e,t),delete m[e];else{var n=e.split("/");(n.length>4&&"speaker"===n[2]&&"play"===n[3]||n.length>4&&"speaker"===n[2]&&"cache"===n[3]||n.length>4&&"speaker"===n[2]&&"stream_mp3"===n[3]||n.length>4&&"speaker"===n[2]&&"stream_wav"===n[3])&&(n[4]="+");var a=n[1];n[1]="+";var o=n.join("/");N.hasOwnProperty(o)&&N[o](e,a,t)}p.hasOwnProperty("message")&&p.message(e,t)}function I(e){W("hermod/"+e+"/dialog/init",{platform:"web",url:window.location.origin,supports:["audio","display"]})}function A(){return new Promise((function(t,n){var a={clientId:e.username,protocolId:"MQTT",protocolVersion:4,clean:!1,username:e.username,password:e.password,rejectUnauthorized:!1},o="ws://";"https:"==window.location.protocol&&(o="wss://");var i=null;i=e.server?e.server:o+window.location.hostname+":9001",(l=r.connect(i,a)).on("connect",(function(){e.subscribe&&e.subscribe.length>0?l.subscribe("hermod/rasa/ready",(function(n){l.unsubscribe(e.subscribe,(function(n){n&&console.log(["unSUBSCRIBE ERROR",n]),l.subscribe(e.subscribe,(function(n){n&&console.log(["SUBSCRIBE ERROR",n]),W("hermod/"+e.site+"/asr/activate",{}),p.hasOwnProperty("connect")&&p.connect(),I(e.site),t()}))}))})):(I(e.site),p.hasOwnProperty("connect")&&p.connect(),t())})),l.on("error",(function(e){console.log("error"),console.log(e),p.hasOwnProperty("disconnect")&&p.disconnect()})),l.on("disconnect",(function(e){console.log("disconnect"),console.log(e),p.hasOwnProperty("disconnect")&&p.disconnect()})),l.on("reconnect",(function(e){console.log("reconnect"),p.hasOwnProperty("reconnect")&&p.reconnect()})),l.on("message",P)}))}function W(e,t){l.publish(e,JSON.stringify(t))}function R(e,t){l.publish(e,t)}function B(e,t,n){return new Promise((function(a,o){l.subscribe(n),m[n]=function(){a()},l.publish(e,JSON.stringify(t))}))}function T(e){E&&E.gain&&(E.gain.value=e/100)}function D(){E&&E.gain&&(x=E.gain.value,E.gain.value=.05)}function F(){null!=x&&E&&E.gain&&(E.gain.value=x,x=E.gain.value)}function L(){if(p.hasOwnProperty("hotwordStart")&&p.hotwordStart(),g=!0,!f){var t=!1;"react"===e.javascript_environment&&(t=!0),s("./porcupine/porcupine_worker.js",t).start(c,_,(function(t){t&&g&&(Q(),W("hermod/"+e.site+"/hotword/detected",{}),p.hasOwnProperty("hotwordDetected")&&p.hotwordDetected(t))}),(function(e){console.log(e)}),(function(){!0,p.hasOwnProperty("hotwordReady")&&p.hotwordReady()})),f=!0}}function U(){p.hasOwnProperty("hotwordStop")&&p.hotwordStop(),g=!1}function z(){navigator.getUserMedia||(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia);try{navigator.getUserMedia?navigator.getUserMedia({audio:!0},(function(t){var n=o(t,{});n.on("speaking",(function(){clearTimeout(k),function(e){for(var t in S)R("hermod/"+e+"/microphone/audio",S[t]);S=[]}(e.site),O=!0,p.hasOwnProperty("speaking")&&p.speaking()})),n.on("stopped_speaking",(function(){k=setTimeout((function(){clearTimeout(k),O=!1,p.hasOwnProperty("stopspeaking")&&p.stopspeaking()}),3e3)}))}),(function(e){console.log(["MIC Error capturing audio.",e])})):console.log("MIC getUserMedia not supported in this browser.")}catch(Y){console.log(Y)}}function Q(){d=!0,D(),p.hasOwnProperty("microphoneStart")&&p.microphoneStart()}function J(e,n){for(var a="default",o={},r=0;r!==e.length;++r){var i=e[r];"audioinput"===i.kind&&(o[i.label]=i.deviceId,i.label&&-1!==i.label.toLowerCase().indexOf("speakerphone")&&(a=i.deviceId)),o.FINAL=a}!function(e,n){if(u)return;u=!0,navigator.getUserMedia||(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia);try{navigator.getUserMedia?navigator.getUserMedia({audio:!0},(function(n){y=new b,(v=y.createGain()).gain.value=1;var a=y.createMediaStreamSource(n);function o(e){if(e){for(var t=e.length,n=new Int16Array(t);t--;)n[t]=32767*Math.min(1,e[t]);return n.buffer}}var r=y.createScriptProcessor(4096,1,1);r.onaudioprocess=function(n){u&&d&&function(e,t,n){for(var a=new OfflineAudioContext(e.numberOfChannels,e.duration*e.numberOfChannels*t,t),o=a.createBuffer(e.numberOfChannels,e.length,e.sampleRate),r=0;r<e.numberOfChannels;r++)o.copyToChannel(e.getChannelData(r),r);var i=a.createBufferSource();i.buffer=e,i.connect(a.destination),i.start(0),a.oncomplete=function(e){var t=e.renderedBuffer.getChannelData(0);n(t)},a.startRendering()}(n.inputBuffer,16e3,(function(n){var a;h||(O&&u&&d?R("hermod/"+e+"/microphone/audio",t.from(o(n))):(setTimeout((function(){V(),L()}),5e3),a=t.from(o(n)),S.push(a),S.length>30&&S.shift()))}))},v.connect(r),a.connect(v),r.connect(y.destination)}),(function(e){console.log(["dMIC Error capturing audio.",e])})):console.log("MIC getUserMedia not supported in this browser.")}catch(Y){console.log(Y)}}(n)}function H(e){console.log("navigator.MediaDevices.getUserMedia error: ",e.message,e.name)}function q(e,t){return t||(t=0),h=!0,new Promise((function(t,n){try{if(e){var a=new Uint8Array(e.length);a.set(new Uint8Array(e),0),w=new b,(E=w.createGain()).gain.value=1,w.decodeAudioData(a.buffer,(function(e){(j=w.createBufferSource()).buffer=e,j.connect(E),E.connect(w.destination);try{j.start(0)}catch(Y){console.log("play sound error starting"),console.log(Y),h=!1,t()}j.onended=function(){console.log("PLAY SOUND BYTES source ended"),h=!1,t()},j.onerror=function(){console.log("PLAY SOUND BYTES source error"),h=!1,t()}}),(function(e){console.log("PLAY SOUND BYTES decode FAIL"),console.log(e),h=!1,t()}))}else console.log("PLAY SOUND BYTES no bytes"),h=!1,t()}catch(Y){console.log("PLAY SOUND BYTES err"),h=!1,console.log(Y),t()}}))}function V(){d=!1,p.hasOwnProperty("microphoneStop")&&p.microphoneStop(),F()}return navigator&&navigator.mediaDevices&&(navigator.mediaDevices.enumerateDevices().then((function(t){J(t,e.site)})).catch(H),z()),{setVolume:T,muteVolume:D,unmuteVolume:F,playSound:q,stopPlaying:function(){console.log("STOP PLAY"),h=!1,j&&(console.log("STOP PLAY real"),j.stop()),C&&C.pause(),p.hasOwnProperty("stopPlaying")&&p.stopPlaying()},say:function(t){return B("hermod/"+e.site+"/tts/say",{text:t},"hermod/"+e.site+"/tts/finished")},stopAll:function(){U(),V()},bind:function(e,t){p[e]=t},unbind:function(e){delete p[e]},startMicrophone:Q,stopMicrophone:V,sendAndWaitFor:B,sendAudioAndWaitFor:function(e,t,n){return new Promise((function(a,o){l.subscribe(n),m[n]=function(){i.stop(),a()},i.start(l,e,t)}))},sendMessage:W,sendNLUMessage:function(e,t,n){n||(n=[]),l.publish("hermod/"+e+"/nlu/intent",JSON.stringify({intent:{name:t},entities:n}))},sendASRTextMessage:function(e,t){l.publish("hermod/"+e+"/asr/text",JSON.stringify({text:t}))},authenticate:function(){},connect:A,disconnect:function(){p.hasOwnProperty("disconnect")&&p.disconnect(),l.end(),setTimeout((function(){A()}),3e3)},startHotword:L,stopHotword:U}};e.exports=s;try{window&&(window.HermodWebClient=s)}catch(c){}}).call(this,n(17).Buffer)},176:function(e,t){},178:function(e,t){},257:function(e,t){},258:function(e,t){},262:function(e,t,n){var a=n(263),o=n(81),r=(o.Readable,o.Writable,n(122)),i=null;e.exports={start:function(e,t,o){var s=a(512,{flush:!0});s.on("data",(function(n){e.publish("hermod/"+t+"/microphone/audio",n)})),i=r.createReadStream(o),console.log("stream "+o);var c=new(n(274).Reader)({channels:1,sampleRate:16e3,bitDepth:16}),l=!1;c.on("format",(function(e){l=!0})),c.on("data",(function(e){l&&(console.log("read body"),console.log(e&&e.buffer?e.buffer.length:-1),s.write(e))})),i.pipe(c)},stop:function(e){!1,i&&(i.pause(),i.destroy())}}},265:function(e,t){},267:function(e,t){},283:function(e,t){},291:function(e,t,n){var a=n(292);PorcupineManager=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=function(o,r,i,s,c){(t=new Worker(e)).postMessage({command:"init",keywordIDs:o,sensitivities:r}),t.onmessage=function(e){e.data.ready?(console.log("WORKER MSG"),console.log(e.data),c()):i(e.data.keyword)},a.start([this],s,n)},r=function(){a.stop(),t.postMessage({command:"release"})},i=function(e){t.postMessage({command:"process",inputFrame:e})};return{start:o,processFrame:i,stop:r}};try{e.exports=PorcupineManager}catch(o){}try{window.PorcupineManager=PorcupineManager}catch(o){}},292:function(e,t,n){var a=n(293),o=n(294);WebVoiceProcessor=function(){var e=!1;return{start:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];navigator.mediaDevices.getUserMedia({audio:!0}).then((function(r){var s,c=new(window.AudioContext||window.webkitAudioContext),l=c.createMediaStreamSource(r),u=c.createScriptProcessor(4096,1,1);u.onaudioprocess=function(t){e&&s.postMessage({command:"process",inputFrame:t.inputBuffer.getChannelData(0)})},l.connect(u),u.connect(c.destination),(s=i?o(127):a(n(127))).postMessage({command:"init",inputSampleRate:l.context.sampleRate}),s.onmessage=function(e){t.forEach((function(t){t.processFrame(e.data)}))}})).catch(r),e=!0},stop:function(){e=!1,(void 0).postMessage({command:"reset"})}}}(),e.exports=WebVoiceProcessor;try{window.WebVoiceProcessor=WebVoiceProcessor}catch(r){}},295:function(e,t){var n={"Hey Edison":new Uint8Array([118,237,148,135,159,220,36,201,56,239,145,237,180,93,2,141,52,25,146,185,64,57,215,232,206,126,81,225,148,220,233,125,208,20,155,99,250,111,85,62,137,213,98,126,95,153,72,52,111,249,44,213,197,123,110,70,228,216,115,70,151,98,25,130,57,222,81,112,215,229,127,232,165,197,192,156,201,244,137,20,50,109,9,238,58,247,222,38,229,187,241,206,10,21,41,124,192,63,24,24,48,176,53,104,217,134,233,160,198,236,140,172,100,134,146,72,12,52,188,214,229,137,61,153,85,28,217,217,182,147,245,151,247,9,226,202,165,184,72,39,37,167,52,17,133,49,180,127,74,67,100,41,124,72,112,172,252,71,209,210,189,143,0,49,172,213,21,83,205,66,79,46,245,229,246,234,89,169,6,130,188,11,37,192,108,101,219,130,64,37,74,57,60,230,134,142,206,104,185,128,178,88,183,55,101,213,227,212,156,107,119,112,129,57,182,209,7,164,55,199,187,118,118,132,199,153,255,172,243,20,132,36,77,111,56,87,156,76,7,95,199,137,125,94,33,210,211,103,16,67,84,255,12,88,157,51,149,153,34,9,209,175,177,210,27,211,89,204,189,117,34,173,63,31,172,97,118,245,207,179,22,1,50,65,228,130,185,68,4,175,173,148,42,70,211,7,198,105,191,125,237,202,147,217,105,227,191,37,132,218,184,157,184,23,65,24,155,206,155,104,213,63,20,243,33,184,18,65,97,50,131,3,148,78,196,85,252,210,183,10,228,172,25,150,233,10,104,4,179,98,194,5,106,1,207,148,91,135,152,57,133,215,28,236,255,217,58,225,64,59,95,207,149,137,15,150,8,26,83,120,1,68,96,52,254,171,145,10,252,49,234,15,18,180,73,126,135,0,37,109,188,54,222,133,58,249,162,220,56,20,204,133,46,91,208,186,176,204,93,126,36,151,51,18,207,53,78,177,2,105,167,107,66,183,184,210,75,210,251,169,136,97,235,17,161,81,57,125,83,193,224,159,17,94,243,148,181,167,28,93,208,111,198,190,123,134,59,96,222,158,178,198,225,90,196,191,231,79,172,51,85,85,100,157,93,137,246,87,113,238,44,17,168,29,213,1,116,27,102,29,192,177,97,160,182,234,6,146,74,106,131,157,212,227,93,213,178,229,47,75,226,57,109,187,201,39,77,136,206,112,122,154,138,4,245,187,105,125,166,159,84,42,86,231,80,127,37,182,232,229,35,61,212,65,99,10,249,236,255,252,18,87,91,172,176,175,195,238,77,243,22,112,195,51,41,251,157,58,234,25,2,188,59,171,110,168,164,105,150,226,39,91,134,96,232,116,243,125,140,165,58,156,212,241,93,111,242,38,105,207,237,207,137,217,9,210,104,243,51,248,198,197,138,68,20,136,44,162,110,21,54,99,122,104,141,11,156,164,233,141,224,244,152,121,68,7,77,91,76,139,249,89,214,43,151,53,247,89,134,108,149,8,71,221,135,103,196,53,235,198,175,1,248,94,11,78,238,132,8,161,114,197,148,243,129,6,193,47,145,10,189,135,96,112,200,163,226,109,0,170,139,212,44,78,157,107,207,221,54,154,48,162,33,242,160,56,18,101,163,250,102,154,143,174,155,97,128,248,221,224,245,228,250,219,235,106,85,150,25,36,170,154,206,250,174,35,138,91,74,193,70,8,197,51,52,98,243,202,177,138,242,186,142,46,177,45,38,65,135,199,240,168,134,78,172,231,156,64,33,102,19,226,81,190,31,205,64,57,239,112,46,47,23,186,38,19,75,252,185,84,96,111,199,104,237,105,60,90,192,120,240,207,79,159,53,254,67,252,212,139,188,65,94,25,128,139,166,41,175,87,243,184,200,179,166,228,247,170,75,43,253,42,44,15,224,15,140,184,172,210,138,240,239,52,86,148,53,20,2,112,87,244,230,197,130,38,129,107,210,200,128,112,193,166,107,100,9,231,82,175,178,127,170,160,252,26,77,28,233,53,226,168,249,124,52,136,1,57,125,2,255,111,64,23,89,227,232,86,24,135,116,79,225,47,242,157,87,209,93,66,229,1,33,244,141,255,11,15,209,138,129,64,164,173,112,114,117,58,176,161,154,191,223,60,171,97,82,247,214,241,15,64,21,87,70,166,198,140,117,57,192,138,182,250,14,17,150,248,150,105,184,31,177,249,244,180,2,60,185,67,206,215,43,244,118,99,40,45,235,85,131,146,84,152,243,22,67,51,41,201,206,47,71,40,210,129,239,232,149,220,160,68,229,100,105,121,52,127,112,128,245,240,145,67,81,5,244,191,18,107,46,117,185,124,59,125,186,146,34,37,209,131,22,128,147,33,139,97,124,207,17,38,173,142,103,249,241,12,83,170,71,243,51,33,156,221,196,125,98,247,41,143,209,60,32,83,27,246,172,153,88,72,244,255,65,124,95,41,117,211,134,208,227,102,68,9,55,134,53,33,129,123,196,134,108,151,184,33,217,218,74,221,171,189,239,147,163,17,72,170,60,254,28,165,31,172,61,80,101,152,181,206,227,74,191,77,160,182,134,99,131,54,150,67,25,141,234,175,14,52,239,188,55,95,194,230,48,8,28,69,223,229,41,73,60,125,74,10,165,43,180,162,177,173,115,117,155,30,25,128,49,12,236,160,197,175,8,254,18,30,238,160,77,162,147,112,191,63,22,178,62,0,29,92,156,76,191,180,98,171,42,243,228,206,35,237,180,166,198,118,85,187,27,125,198,154,200,228,194,231,38,83,140,46,18,210,13,36,144,96,204,191,209,38,161,94,33,250,166,0,24,150,101,232,174,214,62,51,47,168,228,171,182,1,152,247,171,140,154,14,228,108,204,242,170,16,133,246,103,154,98,41,56,63,111,8,75,170,187,34,77,108,36,58,231,59,232,184,84,32,223,215,150,62,153,29,82,85,130,29,113,35,245,154,92,103,241,54,246,216,78,174,148,160,199,78,208,196,119,245,255,127,200,134,31,246,254,160,208,60,25,191,192,64,4,19,27,110,39,196,195,122,34,182,220,80,214,236,99,131,117,172,24,80,185,64,220,172,121,185,121,84,69,139,46,13,92,39,156,194,94,50,77,145,21,21,165,237,180,136,47,223,60,71,19,109,145,184,3,248,191,172,114,98,155,101,86,200,207,23,45,166,211,22,55,104,94,17,217,173,64,36,7,86,97,12,0,23,24,246,109,172,232,134,136,194,82,172,18,189,71,158,138,246,182,101,110,151,214,210,64,192,192,76,46,107,78,35,39,144,95,74,224,100,85,174,249,52,26,174,23,236,248,145,120,180,111,58,157,60,172,16,89,250,124,131,165,10,33,99,200,48,123,234,89,214,92,212,106,175,226,190,202,109,7,105,142,176,20,132,162,115,142,207,135,72,251,238,87,17,123,53,234,63,100,223,238,120,176,57,143,171,0,64,239,56,30,64,23,133,36,254,228,189,233,56,104,37,216,16,24,218,108,180,33,67,176,251,168,169,108,90,61,100,106,14,231,147,213,63,77,188,176,50,162,234,218,116,54,96,172,129,127,2,134,180,3,157,160,238,129,124,5,198,86,156,65,196,93,8,55,18,83,213,195,238,18,154,211,126,150,39,46,165,7,181,11,196,208,8,73,100,93,67,170,125,86,34,72,209,116,14,224,140,167,63,132,221,161,252,2,219,50,160,28,146,110,192,105,90,69,91,183,115,55,213,161,64,95,243,87,7,164,87,69,179,61,18,71,44,92,188,224,49,146,218,182,41,90,211,101,213,212,103,208,38,106,118,12,92,180,31,97,211,0,169,206,29,233,61,126,190,146,198,160,225,119,88,7,199,49,150,86,105,73,52,246,189,66,19,134,228,18,86,174,11,178,241,229,246,186,194,207,168,228,34,134,221,42,134,238,124,197,30,63,12,233,60,98,195,151,198,64,168,83,130,207,220,136,66,183,118,126,108,193,3,246,249,26,147,96,68,177,80,227,158,167,0,46,115,136,53,142,94,219,223,99,165,34,80,26,49,45,40,230,241,190,228,77,5,96,1,99,88,113,82,17,17,241,159,231,72,29,103,195,90,80,53,233,78,207,218,39,4,149,96,214,90,194,50,248,0,41,91,70,172,154,34,214,147,227,26,162,234,86,74,184,240,8,80,23,204,158,244,128,92,18,202,135,35,3,49,222,99,24,68,146,127,255,251,178,104,187,85,15,198,104,204,205,218,88,91,42,157,89,142,76,128,147,110,247,96,65,113,19,78,65,95,218,127,234,57,28,197,6,121,254,71,192,71,47,94,100,75,145,130,144,225,23,149,93,235,13,147,129,188,122,149,126,217,103,198,248,239,23,138,100,141,20,82,176,58,172,206,234,118,213,216,193,100,132,186,255,102,11,20,228,19,135,161,110,56,25,40,230,71,124,106,197,168,4,211,36,97,34,242,40,11,252,36,5,145,230,5,72,46,193,195,236,165,108,191,3,68,55,22,11,86,215,170,33,174,4,28,205,139,246,227,171,70,101,59,113,150,152,10,206,149,199,143,106,27,250,11,111,234,172,131,9,25,214,105,11,91,254,19,133,129,239,179,14,121,86,78,68,95,75,45,24,10,185,23,93,81,178,115,236,223,152,76,2,42,161,61,253,137,222,82,78,94,124,138,178,49,203,32,234,125,96,97,31,29,146,193,230,103,169,16,26,176,161,140,236,44,199,242,107,37,167,244,65,239,185,52,108,125,124,229,193,176,165,17,148,206,31,171,57,135,247,22,177,44,11,66,99,48,68,13,70,187,138,45,219,129,3,85,28,157,241,250,231,136,212,206,152,123,252,14,19,111,16,220,88,27,66,244,137,208,131,220,155,151,254,96,166,171,255,251,53,207,32,54,202,69,172,192,159,39,26,139,97,53,13,50,23,61,230,139,69,130,76,240,185,223,73,110,47,47,212,133,192,219,207,145,96,32,35,29,186,176,179,113,220,88,58,171,37,14,23,82,43,236,249,204,194,34,38,0,227,176,83,196,122,66,171,106,14,116,104,203,110,178,248,93,44,183,192,50,4,236,35,184,221,24,106,152,113,19,89,75,182,76,12,251,76,18,42,160,35,182,148,29,184,32,148,13,30,109,105,65,36,60,131,245,27,116,61,54,252,244,145,217,215,138,41,205,110,156,2,192,199,125,98,21,168,128,246,90,138,42,94,180,6,26,241,15,224,141,231,197,103,57,199,176,247,12,244,240,228,95,7,59,29,206,68,201,73,253,40,168,97,52,84,116,114,241,32,39,85,52,254,13,47,231,223,30,201,84,14,6,226,218,66,194,20,43,103,174,91,49,127,89,10,115,222,198,250,231,172,136,14,96,169,66,165,202,108,64,21,7,255,229,35,2,14,151,32,0,23,5,30,147,100,149,121,52,27,140,48,206,197,94,147,22,6,65,129,74,116,214,46,236,96,23,144,151,62,48,72,158,185,103,184,240,193,221,151,113,207,72,208,235,78,36,196,103,108,202,149,81,33,13,118,211,129,125,142,232,255,221,195,9,214,171,38,196,72,233,252,105,12,67,161,242,53,202,90,191,26,189,234,70,34,153,117,101,43,206,22,115,217,245,64,43,126,60,148,228,121,253,94,185,154,153,221,88,78,226,207,45,54,66,38,21,89,251,212,225,183,90,81,227,204,127,95,204,143,198,78,132,162,215,219,117,225,76,177,13,103,18,17,72,13,51,107,255,252,218,216,237,55,254,126,65,11,115,142,16,47,7,42,227,220,249,152,79,213,190,161,214,74,119,59,34,204,212,87,198,44,2,218,77,248,202,33,33,198,85,45,246,69,219,117,168,250,254,244,89,79,241,11,105,109,55,254,146,35,87,133,49,174,68,107,215,159,40,140,76,208,201,202,248,142,27,39,130,29,239,245,179,241,143,40,113,222,184,28,250,42,233,138,64,109,146,132,142,99,66,4,36,23,24,178,128,228,190,88,106,180,245,21,30,27,8,197,63,166,223,217,201,70,218,243,18,205,199,2,58,222,69,230,238,222,54,58,140,200,251,58,165,26,51,129,225,158,85,250,107,211,133,54,146,214,131,134,157,111,238,255,166,39,237,77,232,63,52,189,69,50,90,171,153,2,153,12,163,255,121,175,101,34,86,119,172,73,175,186,23,171,214,21,65,243,134,120,95,189,92,94,52,65,126,50,79,168,164,202,227,59,109,28,37,121,208,253,194,96,47,14,34,95,65,67,180,252,246,58,163,117,186,230,248,30,246,55,101,193,136,183,168,183,199,59,117,41,33,199,237,64,14,201,215,221,157,176,46,235,27,255,242,31,35,243,213,100,226,137,107,107,88,251,208,187,181,91,43,99,79,179,108,140,63,176,138,82,10,160,200,118,89,166,10,225,224,209,215,108,119,51,237,85,16,136,107,239,7,149,199,219,30,6,75,94,228,216,153,179,36,226,33,25,118,208,60,45,138,168,190,127,83,88,168,86,234,30,112,127,28,142,247,202,245,185,203,47,117,148,81,113,120,16,38,7,229,246,58,40,114,56,135,35,198,110,45,0,149,34,178,169,61,42,95,50,128,98,94,53,59,55,41,0,60,6,17,164,142,196,235,222,91,187,214,136,164,51,232,57,234,202,199,105,137,134,185,69,3,81,211,132,65,255,175,47,109,18,51,72,123,40,64,177,54,174,163,187,108,208,173,137,124,245,168,195,221,169,88,46,3,133,157,165,203,162,105,150,46,38,153,113,201,22,254,183,17,183,94,119,192,99,150,130,240,198,132,249,46,78,165,5,193,6,152,165,28,164,91,165,58,47,62,200,57,14,5,106,129,85,135,190,239])};e.exports=n},296:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(27),i=n.n(r),s=(n(147),n(11)),c=n(12),l=n(3),u=n(14),d=n(13),h=(n(76),n(148),n(8)),m=n(71),p=n(10),f=function(e){var t=e.component,n=Object(m.a)(e,["component"]);return o.a.createElement(p.b,Object.assign({},n,{render:function(e){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=Object.assign.apply(Object,[{}].concat(n));return o.a.createElement(e,r)}(t,e,n)}}))},g=n(128),b=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"component",style:{marginLeft:"0.3em"}},o.a.createElement("h2",{style:{clear:"both"}},"Hi, I'm Edison"),o.a.createElement("div",null,"Say ",o.a.createElement("b",null,'"Hey Edison"')," or click on the microphone to trigger me,  then ask a question. I turn ",o.a.createElement("b",null,"Green")," when I'm listening. "),o.a.createElement("div",null,"Ask me a question and I'll do my best to answer. Click or say the examples below."),o.a.createElement("div",{style:{marginTop:"0.5em",clear:"both"},className:"helpSampleButtons"},o.a.createElement(g.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},"What's the date"),o.a.createElement(g.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},'Define the word "colloquial"'),o.a.createElement(g.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},"Tell me about celery")),o.a.createElement("div",{style:{marginTop:"0.5em",clear:"both"},className:"helpSampleButtons"},o.a.createElement(g.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},"What's the capital of Australia"),o.a.createElement(g.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},'Spell the word "fuzy"'),o.a.createElement(g.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},"Search youtube for funny cats"),o.a.createElement(g.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},"Show me a picture of a motorbike"),o.a.createElement(g.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},"What are some synonyms for weak")),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",{className:"helpSampleButtons"},o.a.createElement("div",{style:{clear:"both"}},"As we chat I'll suggest some follow up questions in the top menu."),o.a.createElement("div",{className:"helpSampleButtons"},o.a.createElement(g.a,{variant:"secondary"},"And what's the population"),o.a.createElement(g.a,{variant:"secondary"},"Tell me more")),o.a.createElement("br",null)," ",o.a.createElement("br",null),"  ",o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement("div",{style:{clear:"both"}},"I can also help you fill in the answers of crosswords by speaking. (You need to be looking at the crossword for this to work.)"),o.a.createElement(g.a,{variant:"secondary"},"One across is Canberra"),o.a.createElement("br",null),"     ",o.a.createElement("div",{style:{clear:"both"}},"With all that information at hand, lets see if you can solve a crossword"),o.a.createElement(h.b,{to:"/crossword"},o.a.createElement(g.a,{variant:"success",size:"lg"},"Start a crossword"))),o.a.createElement("br",null)," ",o.a.createElement("br",null),"  ",o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement("div",{style:{clear:"both"}},"I'm still learning to speak your language. If I make a mistake you can update your question with the tools at the top of the page.",o.a.createElement("br",null),o.a.createElement("b",null,"Select some text from your question and then press one of the buttons to update the search values."),o.a.createElement("br",null),"As well as getting to the information you want, your updates will be integrated to improve the language models so we get it right next time."),o.a.createElement("br",null),"  ",o.a.createElement("br",null),"  ",o.a.createElement("br",null),o.a.createElement("br",null),"  ",o.a.createElement("br",null),"  ",o.a.createElement("br",null),o.a.createElement("br",null),"  ",o.a.createElement("br",null),"  ",o.a.createElement("br",null))}}]),n}(a.Component),y=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"component homePageComponent"},o.a.createElement(b,{sendMessage:this.props.sendMessage}))}}]),n}(a.Component),v=n(21),w=o.a.createContext({focused:!1,selectedDirection:null,selectedNumber:null}),E=o.a.createContext({cellSize:0,cellPadding:0,cellInner:0,cellHalf:0,fontSize:0});function C(e){var t=e.cellData,n=e.onClick,r=e.focus,i=e.highlight,s=Object(a.useContext)(E),c=s.cellSize,l=s.cellPadding,u=s.cellInner,d=s.cellHalf,h=s.fontSize,m=Object(a.useContext)(v.a),p=m.cellBackground,f=m.cellBorder,g=m.textColor,b=m.numberColor,y=m.focusBackground,w=m.highlightBackground,C=Object(a.useCallback)((function(e){e.preventDefault(),n&&n(t)}),[t,n]),k=t.row,O=t.col,S=t.guess,j=t.number,x=O*c,M=k*c;return o.a.createElement("g",{onClick:C,style:{cursor:"default",fontSize:"".concat(h,"px")}},o.a.createElement("rect",{x:x+l,y:M+l,width:u,height:u,fill:r?y:i?w:p,stroke:f,strokeWidth:c/50}),j&&o.a.createElement("text",{x:x+4*l,y:M+4*l,textAnchor:"start",dominantBaseline:"hanging",style:{fontSize:"50%",fill:b}},j),o.a.createElement("text",{x:x+d,y:M+d+1,textAnchor:"middle",dominantBaseline:"middle",style:{fill:g}},S))}C.defaultProps={focus:!1,highlight:!1,onClick:null};var k=n(6),O=n(48),S=n(302);function j(){var e=Object(O.a)(["\n  cursor: default;\n  background-color: ",";\n"]);return j=function(){return e},e}var x=v.c.div.attrs((function(e){return{className:"clue".concat(e.correct?" correct":"")}}))(j(),(function(e){return e.highlight?e.highlightBackground:"transparent"}));function M(e){var t=e.direction,n=e.number,r=e.children,i=e.correct,s=Object(m.a)(e,["direction","number","children","correct"]),c=Object(a.useState)("false"),l=Object(k.a)(c,2),u=l[0],d=l[1],h=function(){return d("false")},p=Object(a.useState)("false"),f=Object(k.a)(p,2),b=f[0],y=f[1],E=function(){return y("false")},C=Object(a.useState)("false"),O=Object(k.a)(C,2),j=O[0],M=O[1],_=function(){return M("false")},N=Object(a.useContext)(v.a).highlightBackground,P=Object(a.useContext)(w),I=P.focused,A=P.selectedDirection,W=P.selectedNumber,R=P.onClueSelected,B=Object(a.useCallback)((function(e){e.preventDefault(),R&&R(t,n)}),[t,n,R]);return o.a.createElement(x,Object.assign({highlightBackground:N,highlight:I&&t===A&&n===W,correct:i},s,{onClick:B,"aria-label":"clue-".concat(n,"-").concat(t)}),s.clue_data.medialink&&"true"===s.clue_data.autoshow_media&&o.a.createElement("div",null,o.a.createElement("img",{src:s.clue_data.medialink,alt:"Clue",style:{float:"right",height:"2.5em"}})),s.clue_data.infolink&&o.a.createElement(g.a,{style:{marginRight:"0.2em",zIndex:"500"},onClick:function(e){window.open(s.clue_data.infolink)}},o.a.createElement("img",{src:"/svg/external-link.svg",alt:"More Information",style:{height:"1.1em"}})),s.clue_data.answer&&o.a.createElement(g.a,{style:{marginRight:"0.2em"},onClick:function(){return y("true")}},o.a.createElement("img",{src:"/svg/question-mark.svg",alt:"Answer",style:{height:"1.1em"}})),s.clue_data.extraclue&&o.a.createElement(g.a,{style:{marginRight:"0.2em"},onClick:function(){return d("true")}},o.a.createElement("img",{src:"/svg/bell.svg",alt:"Memory Aid",style:{height:"1.1em"}})),s.clue_data.medialink&&"true"!==s.clue_data.autoshow_media&&o.a.createElement(g.a,{style:{marginRight:"0.2em"},onClick:function(){return M("true")}},o.a.createElement("img",{src:"/svg/image.svg",alt:"Show Clue",style:{height:"1.1em"}})),"true"===b&&o.a.createElement(S.a,{animation:!1,show:"true"===b,onHide:E},o.a.createElement(S.a.Header,{closeButton:!0},o.a.createElement(S.a.Title,null,"Answer")),o.a.createElement(S.a.Body,null,s.clue_data.answer),o.a.createElement(S.a.Footer,null,o.a.createElement(g.a,{variant:"secondary",onClick:E},"Close"))),"true"===u&&o.a.createElement(S.a,{animation:!1,show:"true"===u,onHide:h},o.a.createElement(S.a.Header,{closeButton:!0},o.a.createElement(S.a.Title,null,"Memory Aid")),o.a.createElement(S.a.Body,null,s.clue_data.extraclue),o.a.createElement(S.a.Footer,null,o.a.createElement(g.a,{variant:"secondary",onClick:h},"Close"))),"true"===j&&o.a.createElement(S.a,{show:"true"===j,animation:!1,onHide:_},o.a.createElement(S.a.Header,{closeButton:!0},o.a.createElement(S.a.Title,null,"Image")),o.a.createElement(S.a.Body,null,o.a.createElement("img",{alt:"Clue",src:s.clue_data.medialink,style:{width:"60%"}})),o.a.createElement(S.a.Footer,null,o.a.createElement(g.a,{variant:"secondary",onClick:_},"Close"))),n,": ",r)}function _(e){var t=e.direction,n=e.clues,a=e.clue_data;return o.a.createElement("div",{className:"direction"},o.a.createElement("h3",{className:"header"},t.toUpperCase()),n.map((function(e){var n=e.number,r=e.clue,i=e.correct;return o.a.createElement(M,{key:n,direction:t,number:n,correct:i,clue_data:a[n]},r)})))}M.defaultProps={children:void 0,correct:void 0},_.defaultProps={};var N=n(41),P=n(29),I=n(88),A=n(60),W={across:{primary:"col",orthogonal:"row"},down:{primary:"row",orthogonal:"col"}},R=Object.keys(W);function B(e){return"across"===e}function T(e){return B(e)?"down":"across"}function D(e,t){var n,a=W[t],o=0,r=0;return Object.entries(e[t]).forEach((function(e){var t=Object(k.a)(e,2),n=(t[0],t[1]),i=n[a.primary]+n.answer.length-1;i>o&&(o=i);var s=n[a.orthogonal];s>r&&(r=s)})),n={},Object(A.a)(n,a.primary,o),Object(A.a)(n,a.orthogonal,r),n}var F={used:!1,number:null,answer:"",guess:"",locked:!1,across:null,down:null};function L(e,t,n,a){var o=W[a];Object.entries(n[a]).forEach((function(n){for(var r=Object(k.a)(n,2),i=r[0],s=r[1],c=s.row,l=s.col,u=s.clue,d=s.answer,h=0;h<d.length;h++){var m=c+("row"===o.primary?h:0),p=l+("col"===o.primary?h:0),f=e[m][p];f.used=!0,f.answer=d[h],f[a]=i,0===h&&(f.number=i)}t[a].push({number:i,clue:u})})),t[a].sort(z)}function U(e){var t=D(e,"across"),n=D(e,"down"),a=Math.max.apply(Math,Object(I.a)(Object.values(t)).concat(Object(I.a)(Object.values(n))))+1,o=function(e){for(var t=Array(e),n=0;n<e;n++){t[n]=Array(e);for(var a=0;a<e;a++)t[n][a]=Object(N.a)(Object(N.a)({},F),{},{row:n,col:a})}return t}(a),r={across:[],down:[]};return L(o,r,e,"across"),L(o,r,e,"down"),{size:a,gridData:o,clues:r}}function z(e,t){return Number.parseInt(e.number,10)-Number.parseInt(t.number,10)}function Q(e,t){var n=window.localStorage;if(n){var a=n.getItem(t);if(a)!function(e,t){Object.entries(t).forEach((function(t){var n=Object(k.a)(t,2),a=n[0],o=n[1],r=a.split("_"),i=Object(k.a)(r,2),s=i[0],c=i[1];s<=e.length-1&&c<=e[0].length-1&&(e[s][c].guess=o)}))}(e,JSON.parse(a).guesses)}}function J(e,t){var n=[];return R.forEach((function(a){var o=B(a);Object.entries(e[a]).forEach((function(e){for(var r=Object(k.a)(e,2),i=r[0],s=r[1],c=s.row,l=s.col,u=!0,d=0;d<s.answer.length;d++){var h=o?l+d:l;if(t[o?c:c+d][h].guess!==s.answer[d]){u=!1;break}}u&&n.push([a,i,s.answer])}))})),n}function H(){var e=Object(O.a)(["\n  padding: 0 1em;\n  flex: 1 2 25%;\n\n  @media (max-width: ",") {\n    margin-top: 2em;\n  }\n\n  .direction {\n    margin-bottom: 2em;\n    /* padding: 0 1em;\n    flex: 1 1 20%; */\n\n    .header {\n      margin-top: 0;\n      margin-bottom: 0.5em;\n    }\n\n    div {\n      margin-top: 0.5em;\n    }\n  }\n"]);return H=function(){return e},e}function q(){var e=Object(O.a)(["\n  /* position: relative; */\n  min-width: 20rem;\n  max-width: 60rem; /* Should the size matter? */\n  width: auto;\n  flex: 2 1 50%;\n"]);return q=function(){return e},e}function V(){var e=Object(O.a)(["\n  margin: 0;\n  padding: 0;\n  border: 0;\n  /* position: relative; */\n  /* width: 40%; */\n  display: flex;\n  flex-direction: row;\n\n  @media (max-width: ",") {\n    flex-direction: column;\n  }\n"]);return V=function(){return e},e}var Y={columnBreakpoint:"768px",gridBackground:"rgb(0,0,0)",cellBackground:"rgb(255,255,255)",cellBorder:"rgb(0,0,0)",textColor:"rgb(0,0,0)",numberColor:"rgba(0,0,0, 0.25)",focusBackground:"rgb(255,255,0)",highlightBackground:"rgb(255,255,204)"},G=v.c.div.attrs((function(e){return{className:"crossword".concat(e.correct?" correct":"")}}))(V(),(function(e){return e.theme.columnBreakpoint})),K=v.c.div.attrs((function(e){return{className:"grid"}}))(q()),$=v.c.div.attrs((function(e){return{className:"clues"}}))(H(),(function(e){return e.theme.columnBreakpoint})),X=o.a.forwardRef((function(e,t){var n=e.data,r=e.onCorrect,i=e.onLoadedCorrect,s=e.onCrosswordCorrect,c=e.onCellChange,l=e.useStorage,u=e.theme,d=e.storageKey,h=d||"guesses",m=Object(a.useState)(null),p=Object(k.a)(m,2),f=p[0],g=p[1],b=Object(a.useState)(null),y=Object(k.a)(b,2),O=y[0],S=y[1],j=Object(a.useState)(null),x=Object(k.a)(j,2),M=x[0],I=x[1],A=Object(a.useState)(!1),W=Object(k.a)(A,2),D=W[0],F=W[1],L=Object(a.useState)(0),z=Object(k.a)(L,2),H=z[0],q=z[1],V=Object(a.useState)(0),X=Object(k.a)(V,2),Z=X[0],ee=X[1],te=Object(a.useState)("across"),ne=Object(k.a)(te,2),ae=ne[0],oe=ne[1],re=Object(a.useState)("1"),ie=Object(k.a)(re,2),se=ie[0],ce=ie[1],le=Object(a.useState)(null),ue=Object(k.a)(le,2),de=ue[0],he=ue[1],me=Object(a.useState)([]),pe=Object(k.a)(me,2),fe=pe[0],ge=pe[1],be=Object(a.useState)(!1),ye=Object(k.a)(be,2),ve=ye[0],we=ye[1],Ee=Object(a.useRef)(),Ce=Object(a.useContext)(v.a),ke=Object(a.useCallback)((function(e,t){return e>=0&&e<f&&t>=0&&t<f?O[e][t]:{row:e,col:t,used:!1,outOfBounds:!0}}),[f,O]),Oe=Object(a.useCallback)((function(e,t,n){var a=ke(e,t);a.used&&a.guess!==n&&(S(Object(P.a)((function(a){a[e][t].guess=n}))),ge(Object(P.a)((function(n){n.push({row:e,col:t})}))),c&&c(e,t,n))}),[ke,c]),Se=Object(a.useCallback)((function(e,t,n){r&&r(e,t,n)}),[r]),je=Object(a.useCallback)((function(e,t){var a=ke(e,t);R.forEach((function(e){var t=B(e),o=a[e];if(o){var r=n[e][o],i=a.guess===a.answer;if(i)for(var s=0;s<r.answer.length;s++){if(ke(r.row+(t?0:s),r.col+(t?s:0)).guess!==r.answer[s]){i=!1;break}}I(Object(P.a)((function(t){t[e].find((function(e){return e.number===o})).correct=i}))),i&&Se(e,o,r.answer)}}))}),[ke]);Object(a.useEffect)((function(){0!==fe.length&&(fe.forEach((function(e){var t=e.row,n=e.col;return je(t,n)})),ge([]))}),[fe,je]),Object(a.useEffect)((function(){we(M&&R.every((function(e){return M[e].every((function(e){return e.correct}))})))}),[M]),Object(a.useEffect)((function(){s&&s(ve)}),[ve,s]);var xe=Object(a.useCallback)((function(){Ee.current&&(Ee.current.focus(),F(!0))}),[]),Me=Object(a.useCallback)((function(e,t,n){var a=null!==n&&void 0!==n?n:ae,o=ke(e,t);return!!o.used&&(o[a]||(a=T(a)),q(e),ee(t),oe(a),ce(o[a]),o)}),[ke]),_e=Object(a.useCallback)((function(e,t){var n;return 0!==e&&0===t?n="down":0===e&&0!==t&&(n="across"),Me(H+e,Z+t,n)}),[H,Z,Me]),Ne=Object(a.useCallback)((function(){var e=B(ae);_e(e?0:1,e?1:0)}),[ae,_e]),Pe=Object(a.useCallback)((function(){var e=B(ae);_e(e?0:-1,e?-1:0)}),[ae,_e]),Ie=Object(a.useCallback)((function(e){Oe(H,Z,e.toUpperCase()),Ne()}),[H,Z,Oe,Ne]),Ae=Object(a.useCallback)((function(e){if(!(e.ctrlKey||e.altKey||e.metaKey)){var t=!0,a=e.key;switch(a){case"ArrowUp":_e(-1,0);break;case"ArrowDown":_e(1,0);break;case"ArrowLeft":_e(0,-1);break;case"ArrowRight":_e(0,1);break;case" ":case"Tab":var o=T(ae),r=ke(H,Z);r[o]&&(oe(o),ce(r[o]));break;case"Backspace":case"Delete":Oe(H,Z,""),"Backspace"===a&&Pe();break;case"Home":case"End":var i=n[ae][se],s=i.answer.length,c=i.row,l=i.col;if("End"===a)B(ae)?l+=s-1:c+=s-1;Me(c,l);break;default:if(1!==a.length){t=!1;break}Ie(a)}t&&e.preventDefault()}}),[n,H,Z,ae,se,ke,Oe,_e]),We=Object(a.useCallback)((function(e){e.preventDefault(),he(e.target.value)}),[]);Object(a.useEffect)((function(){de&&(Ie(de[0]),he(1===de.length?null:de.substring(1)))}),[de,Ie]),Object(a.useEffect)((function(){var e,t=U(n),a=t.size,o=t.gridData,r=t.clues;l&&(Q(o,h),(e=J(n,o)).forEach((function(e){var t=Object(k.a)(e,2),n=t[0],a=t[1];r[n].find((function(e){return e.number===a})).correct=!0}))),g(a),S(o),I(r),q(0),ee(0),oe("across"),ce("1"),he(null),e&&e.length>0&&i&&i(e)}),[n,i,l]),Object(a.useEffect)((function(){null!==O&&l&&function(e,t){var n=window.localStorage;if(n){var a=function(e){return e.reduce((function(e,t,n){return t.reduce((function(e,t,a){return""!==t.guess&&(e["".concat(n,"_").concat(a)]=t.guess),e}),e)}),{})}(e),o={date:Date.now(),guesses:a};n.setItem(t,JSON.stringify(o))}}(O,h)}),[O,l]);var Re=Object(a.useCallback)((function(e){var t=e.row,n=e.col,a=T(ae);q(t),ee(n);var o=ae;(!e[ae]||D&&t===H&&n===Z&&e[a])&&(oe(a),o=a),ce(e[o]),xe()}),[D,H,Z,ae,xe]),Be=Object(a.useCallback)((function(e){var t=T(ae),n=ke(H,Z),a=ae;D&&n[t]&&(oe(t),a=t),ce(n[a]),xe()}),[ae,H,Z,ke,xe]),Te=Object(a.useCallback)((function(e,t){var a=n[e][t];Me(a.row,a.col,e),xe()}),[n,Me,xe]);Object(a.useImperativeHandle)(t,(function(){return{focus:function(){xe()},reset:function(){S(Object(P.a)((function(e){e.forEach((function(e){e.forEach((function(e){e.used&&(e.guess="")}))}))}))),I(Object(P.a)((function(e){R.forEach((function(t){e[t].forEach((function(e){delete e.correct}))}))}))),l&&function(e){window.localStorage&&window.localStorage.removeItem(e)}(h)},fillAnswer:function(e,t,a){if(S(Object(P.a)((function(n){n.forEach((function(n){n.forEach((function(n){n.used&&("across"===e?n.across===t.toString()&&(n.guess=n.answer):"down"===e&&n.down===t.toString()&&(n.guess=n.answer))}))}))}))),I(Object(P.a)((function(e){R.forEach((function(t){e[t].forEach((function(e){e.correct=!0}))}))}))),i){var o=[];R.forEach((function(e){Object.entries(n[e]).forEach((function(t){var n=Object(k.a)(t,2),a=n[0],r=n[1];o.push([e,a,r.answer])}))})),i(o)}},forceLoadGuesses:function(){var e=U(n),t=e.size,a=e.gridData,o=e.clues;Q(a,h),J(n,a).forEach((function(e){var t=Object(k.a)(e,2),n=t[0],a=t[1];o[n].find((function(e){return e.number===a})).correct=!0})),g(t),S(a),I(o),q(0),ee(0),oe("across"),ce("1"),he(null)},fillAllAnswers:function(){if(S(Object(P.a)((function(e){e.forEach((function(e){e.forEach((function(e){e.used&&(e.guess=e.answer)}))}))}))),I(Object(P.a)((function(e){R.forEach((function(t){e[t].forEach((function(e){e.correct=!0}))}))}))),i){var e=[];R.forEach((function(t){Object.entries(n[t]).forEach((function(n){var a=Object(k.a)(n,2),o=a[0],r=a[1];e.push([t,o,r.answer])}))})),i(e)}},isCrosswordCorrect:function(){return ve}}}),[n,i,l,xe,ve]);var De=100/f,Fe=De-.25,Le=De/2,Ue=.7*Fe,ze={focused:D,selectedDirection:ae,selectedNumber:se,onClueSelected:Te},Qe=Object(N.a)(Object(N.a)(Object(N.a)({},Y),Ce),u),Je=[];return O&&O.forEach((function(e,t){e.forEach((function(e,n){e.used&&Je.push(o.a.createElement(C,{key:"R".concat(t,"C").concat(n),cellData:e,focus:D&&t===H&&n===Z,highlight:D&&se&&e[ae]===se,onClick:Re}))}))})),o.a.createElement(w.Provider,{value:ze},o.a.createElement(E.Provider,{value:{cellSize:De,cellPadding:.125,cellInner:Fe,cellHalf:Le,fontSize:Ue}},o.a.createElement(v.b,{theme:Qe},o.a.createElement(G,{correct:ve},o.a.createElement(K,null,o.a.createElement("div",{style:{margin:0,padding:0,position:"relative"}},o.a.createElement("svg",{viewBox:"0 0 100 100"},o.a.createElement("rect",{x:0,y:0,width:100,height:100,fill:Qe.gridBackground}),Je),o.a.createElement("input",{ref:Ee,"aria-label":"crossword-input",type:"text",onClick:Be,onKeyDown:Ae,onChange:We,value:"",autoComplete:"off",spellCheck:"false",autoCorrect:"off",style:{position:"absolute",top:"calc(".concat(H*De*.995,"% + 2px)"),left:"calc(".concat(Z*De,"% + 2px)"),width:"calc(".concat(De,"% - 4px)"),height:"calc(".concat(De,"% - 4px)"),fontSize:"".concat(6*Ue,"px"),textAlign:"center",textAnchor:"middle",backgroundColor:"transparent",caretColor:"transparent",margin:0,padding:0,border:0,cursor:"default"}})),o.a.createElement("br",null),"  ",o.a.createElement("br",null),"  ",o.a.createElement("br",null)),o.a.createElement($,null,M&&R.map((function(e){return o.a.createElement(_,{key:e,direction:e,clues:M[e],clue_data:n[e]})}))),o.a.createElement("br",null),"  ",o.a.createElement("br",null),"  ",o.a.createElement("br",null),o.a.createElement("br",null),"  ",o.a.createElement("br",null),"  ",o.a.createElement("br",null)))))}));X.displayName="Crossword",X.defaultProps={theme:null,useStorage:!0,onCorrect:null,onLoadedCorrect:null,onCrosswordCorrect:null,onCellChange:null};var Z=X,ee={across:{},down:{}},te=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={_id:"",title:"",data:ee,forcereload:0},a.onCorrect=a.onCorrect.bind(Object(l.a)(a)),a.onLoadedCorrect=a.onLoadedCorrect.bind(Object(l.a)(a)),a.onCrosswordCorrect=a.onCrosswordCorrect.bind(Object(l.a)(a)),a.onCellChange=a.onCellChange.bind(Object(l.a)(a)),a.loadCrossword=a.loadCrossword.bind(Object(l.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.loadCrossword()}},{key:"componentDidUpdate",value:function(e,t){this.props.hermodClient.connected===e.hermodClient.connected&&this.state.forcereload===t.forcereload||this.loadCrossword()}},{key:"onCorrect",value:function(e){}},{key:"onLoadedCorrect",value:function(e){}},{key:"onCrosswordCorrect",value:function(e){}},{key:"onCellChange",value:function(e){}},{key:"loadCrossword",value:function(){var e=this,t={};try{localStorage.getItem("crosswords")&&(t=JSON.parse(localStorage.getItem("crosswords")))}catch(r){}if(e.setState({_id:"",data:null,title:""}),this.props.match&&this.props.match.params&&this.props.match.params.id&&this.props.match.params.id.length>0){if(t.hasOwnProperty(this.props.match.params.id)){var n=t[this.props.match.params.id],a=n.data.across,o=n.data.down;this.props.data&&(n.data=this.props.data),n.data.across=a,n.data.down=o,e.setState(n)}else this.props.startWaiting&&this.props.startWaiting(),this.props.hermodClient&&this.props.hermodClient.config&&this.props.hermodClient.config.site&&fetch("/api/crossword?id="+this.props.match.params.id+"&site="+this.props.hermodClient.config.site).then((function(e){return e.json()})).then((function(n){var a={_id:n._id,data:n.data,title:n.title,author:n.author,copyright:n.copyright?n.copyright.replace(/[^\w\s!?]/g,""):"",copyright_link:n.copyright_link,link:n.link};t[n._id]=a,localStorage.setItem("crosswords",JSON.stringify(t)),e.setState(a)})).finally((function(){e.props.stopWaiting&&e.props.stopWaiting()}));setTimeout((function(){e.props.api&&e.props.api.client&&e.props.api.client.sendMessage("hermod/"+e.props.site+"/rasa/set_slots",{slots:[{slot:"crossword",value:e.props.match.params.id}]})}),300)}}},{key:"render",value:function(){return this.props.match.params.id?o.a.createElement("div",{className:"componentd dfirst-component",style:{width:"100%"}},o.a.createElement("div",{className:"acontent-block",style:{width:"100%"}},o.a.createElement(h.b,{style:{float:"left",marginRight:"0.2em"},to:"/crosswords"},o.a.createElement(g.a,{variant:"success"},"Start a new crossword")),o.a.createElement("h3",{style:{clear:"both",marginRight:"0.2em",width:"100%"}}," ",o.a.createElement("a",{target:"_new",href:this.state.link},this.state.title)," "),o.a.createElement("div",null,o.a.createElement("span",null,this.state.author&&o.a.createElement("span",null," by ",this.state.author))),this.state.copyright&&this.state.copyright_link&&o.a.createElement("span",null," \xa9 ",o.a.createElement("a",{target:"_new",href:this.state.copyright_link},this.state.copyright)),this.state.copyright&&!this.state.copyright_link&&o.a.createElement("span",null," \xa9 ",this.state.copyright),this.state.data&&this.props.hermodClient.connected&&o.a.createElement("div",{style:{zIndex:1}},o.a.createElement(Z,{data:this.state.data,storageKey:"guesses_"+this.props.match.params.id,ref:this.props.crosswordRef,onCorrect:this.onCorrect,onLoadedCorrect:this.onLoadedCorrect,onCrosswordCorrect:this.onCrosswordCorrect,onCellChange:this.onCellChange})))):o.a.createElement(p.a,{to:"/crosswords"})}}]),n}(a.Component),ne=n(133),ae=n.n(ne),oe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e="",t="";this.props.hermodClient.isPlaying?(e="green",t="lightblue"):(e="black",t="grey",1===parseInt(this.props.hermodClient.microphoneState)?(e="green",t="grey"):2===parseInt(this.props.hermodClient.microphoneState)?(e="red",t="pink"):3===parseInt(this.props.hermodClient.microphoneState)&&(e="green",t="green"));var n={position:"fixed",top:"0.5em",right:"0.5em",fontSize:"1.2em",backgroundColor:t,border:"2px solid "+e,borderRadius:"2em",height:"4em",width:"4em",textDecoration:"none",outline:"none"},a=o.a.createElement("svg",{style:{position:"fixed",top:"0.9em",right:"0.9em",height:"3.1em",width:"3.1em",padding:"0.3em",zIndex:60},"aria-hidden":"true",id:"micImage",focusable:"false","data-prefix":"fas","data-icon":"microphone",className:"microphoneImage",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},o.a.createElement("path",{fill:"currentColor",d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"}));return o.a.createElement("div",null,1!==this.props.hermodClient.microphoneState&&o.a.createElement("button",{id:"microphoneButton",onClick:this.props.toggleMicrophone,style:n},o.a.createElement("div",null,this.props.hermodClient.isWaiting&&o.a.createElement("img",{style:{position:"fixed",top:"0.8em",right:"0.8em",height:"3.2em",opacity:.2,zIndex:50},alt:"microphone",id:"waitingOverlay",src:ae.a}),a)),1===this.props.hermodClient.microphoneState&&o.a.createElement(h.b,{to:"/about_edison",onClick:this.props.api.client.startHotword},o.a.createElement("button",{id:"microphoneButton",style:n},o.a.createElement("div",null,a))))}}]),n}(a.Component),re=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=!1;return this.props.hermodClient.transcript&&this.props.hermodClient.transcript.length>0&&(e=!0),o.a.createElement("div",{style:{position:"fixed",top:"4em",right:"8em",minWidth:"15em",zIndex:99},className:"speechBubbleComponent"},e&&o.a.createElement("div",{style:{position:"relative",background:"#38cedc",borderRadius:".4em",minHeight:"3em",width:"100%",padding:"0.5em",textDecoration:"none",textAlign:"left"},id:"speechbubble",className:"speech-bubble"},o.a.createElement("div",{style:{fontWeight:"bold"}},this.props.hermodClient.transcript),this.props.hermodClient.say&&o.a.createElement("div",null,this.props.hermodClient.say)))}}]),n}(a.Component);var ie=function(e){var t=[],n=0,a=function(t){e.sendMessage(t.target.getAttribute("data-message"))},r=function(t){e.showFrame(t.target.getAttribute("data-frame"))},i=function(t){e.showWindow(t.target.getAttribute("data-url"))};for(n in e.buttons)e.buttons[n].text?t.push(o.a.createElement(g.a,{key:n,variant:"primary","data-message":e.buttons[n].text,onClick:a},e.buttons[n].label?e.buttons[n].label:e.buttons[n].text)):e.buttons[n].frame?t.push(o.a.createElement(g.a,{key:n,variant:"primary","data-frame":e.buttons[n].frame,onClick:r},e.buttons[n].label)):e.buttons[n].url&&t.push(o.a.createElement(g.a,{key:n,variant:"primary","data-url":e.buttons[n].url,onClick:i},e.buttons[n].label));return o.a.createElement("span",{style:{float:"left",marginRight:"0.5em",padding:"0.5em"},className:"dynamicButtons",id:"dynamicButtons"},t)},se=n(303),ce=n(301),le=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).getPrettyIntentName=a.getPrettyIntentName.bind(Object(l.a)(a)),a.onIntentChanged=a.onIntentChanged.bind(Object(l.a)(a)),a.onEntityChanged=a.onEntityChanged.bind(Object(l.a)(a)),a.onEntityClicked=a.onEntityClicked.bind(Object(l.a)(a)),a.sendForm=a.sendForm.bind(Object(l.a)(a)),a.sendFormQuestion=a.sendFormQuestion.bind(Object(l.a)(a)),a.onQuestionSelect=a.onQuestionSelect.bind(Object(l.a)(a)),a.onQuestionBlur=a.onQuestionBlur.bind(Object(l.a)(a)),a.onQuestionFocus=a.onQuestionFocus.bind(Object(l.a)(a)),a.onQuestionKeyup=a.onQuestionKeyup.bind(Object(l.a)(a)),a.getQuestionSelection=a.getQuestionSelection.bind(Object(l.a)(a)),a.getQuestionSelectionRange=a.getQuestionSelectionRange.bind(Object(l.a)(a)),a.newEntity=a.newEntity.bind(Object(l.a)(a)),a.addOrUpdateEntityValue=a.addOrUpdateEntityValue.bind(Object(l.a)(a)),a.addOrUpdateEntityType=a.addOrUpdateEntityType.bind(Object(l.a)(a)),a.onEntityDeleted=a.onEntityDeleted.bind(Object(l.a)(a)),a.setQuestionSelection=a.setQuestionSelection.bind(Object(l.a)(a)),a.onEntityListExpanded=a.onEntityListExpanded.bind(Object(l.a)(a)),a.allowIntent=a.allowIntent.bind(Object(l.a)(a)),a.canShowEntity=a.canShowEntity.bind(Object(l.a)(a)),a.questionInput=o.a.createRef(),a.state={selection:"",selectionRange:[0,0]},a.keyupTimeout=null,a.state={changed:!1,questionIsFocussed:!1,showAddButton:!1},a}return Object(c.a)(n,[{key:"getPrettyIntentName",value:function(e){return this.props.intentNames&&this.props.intentNames.hasOwnProperty(e)&&this.props.intentNames[e].length>0?this.props.intentNames[e]:e}},{key:"getPrettyEntityName",value:function(e){return this.props.entityNames&&this.props.entityNames.hasOwnProperty(e)&&this.props.entityNames[e].length>0?this.props.entityNames[e]:e}},{key:"onIntentChanged",value:function(e){var t=JSON.parse(this.props.hermodClient.nlu_json_original);t.intent.name=e.target.attributes.value.textContent,this.props.api.setNluJson(t),this.setState({changed:!0})}},{key:"onEntityClicked",value:function(e){this.state.selection?this.addOrUpdateEntityValue(e.target.attributes.value.textContent,this.state.selection):this.setQuestionSelection(e.target.attributes.start.textContent,e.target.attributes.end.textContent)}},{key:"onEntityListExpanded",value:function(e){this.state.selection&&this.addOrUpdateEntityValue(e.target.attributes.value.textContent,this.state.selection)}},{key:"onEntityChanged",value:function(e){this.addOrUpdateEntityType(e.target.attributes.oldvalue.textContent,e.target.attributes.value.textContent,this.state.selection)}},{key:"onEntityDeleted",value:function(e){if(e.target.attributes.value&&e.target.attributes.value.textContent){var t=e.target.attributes.value.textContent,n=this.props.hermodClient.nlu_json,a=this.props.hermodClient.nlu_json.entities,o=[];for(var r in a)a[r].entity!==t&&o.push(a[r]);n.entities=o,this.props.api.setNluJson(n),this.setState({changed:!0,selection:"",selectionRange:[0,0]})}}},{key:"addOrUpdateEntityType",value:function(e,t,n){var a=this.props.hermodClient.nlu_json,o=this.props.hermodClient.nlu_json.entities,r=!1;for(var i in o)o[i].entity===e&&(r=!0,o[i].entity=t,n&&(o[i].value=n));if(!r){var s=this.state.selectionRange;o.push({entity:t,start:s[0],end:s[1],value:this.state.selection})}a.entities=o,this.props.api.setNluJson(a),this.setState({changed:!0,selection:"",selectionRange:[0,0],showAddButton:!1})}},{key:"addOrUpdateEntityValue",value:function(e,t){if(t){var n=this.props.hermodClient.nlu_json,a=this.props.hermodClient.nlu_json.entities,o=!1;for(var r in a)a[r].entity===e&&(o=!0,a[r].value=t);if(!o){var i=this.state.selectionRange;a.push({entity:e,start:i[0],end:i[1],value:this.state.selection})}n.entities=a,this.props.api.setNluJson(n),this.setState({changed:!0,selection:"",selectionRange:[0,0],showAddButton:!1})}}},{key:"newEntity",value:function(e){if(e.target.attributes.value&&e.target.attributes.value.textContent){var t=e.target.attributes.value.textContent,n=this.props.hermodClient.nlu_json,a=this.props.hermodClient.nlu_json.entities,o=[];for(var r in a)a[r].entity!==t&&o.push(a[r]);var i=this.state.selectionRange;o.push({entity:t,start:i[0],end:i[1],value:this.state.selection}),n.entities=o,this.props.api.setNluJson(n),this.setState({changed:!0,selection:"",selectionRange:[0,0]})}}},{key:"allowIntent",value:function(e){return!this.props.allowedIntents||e in this.props.allowedIntents}},{key:"canShowEntity",value:function(e,t){return!0}},{key:"render",value:function(){var e=this;if(this.props.hermodClient){var t=this.props.hermodClient&&this.props.hermodClient.nlu_json&&this.props.hermodClient.nlu_json.intent&&this.props.hermodClient.nlu_json.intent.name?this.props.hermodClient.nlu_json.intent.name:"",n=this.props.hermodClient&&this.props.hermodClient.nlu_json&&this.props.hermodClient.nlu_json.entities?this.props.hermodClient.nlu_json.entities:[],a={};for(var r in n)a[n[r].entity]=n[r];var i=[o.a.createElement("option",{key:-1,value:""})],s=null,c=null,l=null,u=0;if(e.props.hermodClient.question&&this.props.hermodClient.domain&&this.props.hermodClient.domain.entities){var d=[o.a.createElement("option",{key:-1,value:""})],h={};for(u in this.props.hermodClient.nlu_json.intent_ranking){c=this.props.hermodClient.nlu_json.intent_ranking[u].name,d.push(o.a.createElement(se.a.Item,{key:u,value:c,onClick:function(t){e.onIntentChanged(t)}},this.getPrettyIntentName(c))),h[c]=!0}for(u in this.props.hermodClient.domain.intents){var m=this.props.hermodClient.domain.intents[u];c=Object.keys(m)[0],h.hasOwnProperty(c)||d.push(o.a.createElement(se.a.Item,{key:u+this.props.hermodClient.domain.intents.length,value:c,onClick:function(t){e.onIntentChanged(t)}},this.getPrettyIntentName(c)))}for(u in this.props.hermodClient.domain.entities)l=this.props.hermodClient.domain.entities[u],i.push(o.a.createElement(se.a.Item,{key:u,value:l,onClick:function(t){e.onEntityChanged(t)}},this.getPrettyEntityName(l)));var p=[],f=null;for(u in this.props.hermodClient.domain.entities){l=this.props.hermodClient.domain.entities[u];var b=[];for(var y in b.push(o.a.createElement(se.a.Item,{key:u+2},o.a.createElement(g.a,{value:l,onClick:function(t){e.onEntityDeleted(t)},className:"btn btn-danger"},"Delete"))),b.push(o.a.createElement(se.a.Divider,{key:u+1})),this.props.hermodClient.domain.entities)f=this.props.hermodClient.domain.entities[y],this.canShowEntity(t,f)&&(l!==f?b.push(o.a.createElement(se.a.Item,{key:y,oldvalue:l,value:f,onClick:function(t){e.onEntityChanged(t)}},this.getPrettyEntityName(f))):b.push(o.a.createElement(se.a.Item,{style:{backgroundColor:"lightgrey",fontWeight:"bold"},key:y,oldvalue:l,value:f,onClick:function(t){e.onEntityChanged(t)}},this.getPrettyEntityName(f))));a.hasOwnProperty(l)&&p.push(o.a.createElement(se.a,{key:u,style:{border:"1px solid #6a4077",marginLeft:"0.3em",backgroundColor:"#c88eda",zIndex:1},as:ce.a},o.a.createElement(se.a.Toggle,{split:!0,style:{marginLeft:"0.3em",backgroundColor:"#c88eda",border:"none"},size:"sm",id:"dropdown-split-basic"}),o.a.createElement(g.a,{onClick:function(t){e.onEntityClicked(t)},value:l,start:a[l].start,end:a[l].end,style:{marginLeft:"0.3em",backgroundColor:"#c88eda",border:"none"},size:"sm"},a[l].value),o.a.createElement(se.a.Menu,null,b)))}var v=[];for(u in this.props.hermodClient.domain.entities)f=this.props.hermodClient.domain.entities[u],v.push(o.a.createElement(se.a.Item,{key:u,oldvalue:l,value:f,onClick:function(t){e.newEntity(t)}},"\xa0",this.getPrettyEntityName(f),"\xa0"));s=o.a.createElement("form",{onSubmit:function(){return!1},style:{display:"inline"}},t&&o.a.createElement(se.a,{key:u,style:{clear:"both",border:"1px solid #6a4077",marginLeft:"0.3em",backgroundColor:"#c88eda"},as:ce.a},o.a.createElement(se.a.Toggle,{split:!0,style:{marginLeft:"0.3em",backgroundColor:"#c88eda",border:"none"},size:"sm",id:"dropdown-split-basic"},t),o.a.createElement(se.a.Menu,null,d)),p,this.state.showAddButton&&this.state.selection&&o.a.createElement(se.a,{show:!0,style:{border:"1px solid #6a4077",marginLeft:"0.3em",backgroundColor:"#c88eda",zIndex:1},as:ce.a},o.a.createElement(se.a.Toggle,{split:!0,style:{marginLeft:"0.3em",backgroundColor:"#c88eda",border:"none"},size:"sm",id:"dropdown-split-basic"}),o.a.createElement(se.a.Menu,null,v)),e.state.changed&&o.a.createElement(g.a,{onClick:e.sendForm,className:"btn",size:"sm",style:{marginLeft:"1em",backgroundColor:"#82b77c"}},"Try Again"))}return o.a.createElement("div",{style:{height:"1em",textAlign:"left"},className:"nluFixerComponent"},o.a.createElement("div",{style:{marginLeft:"0.5em",marginRight:"0.5em",clear:"both",width:"90%"}},o.a.createElement("form",{style:{clear:"both"},onSubmit:e.sendFormQuestion},o.a.createElement("input",{ref:e.questionInput,onKeyUp:this.onQuestionKeyup,onFocus:this.onQuestionFocus,onBlur:this.onQuestionBlur,onSelect:this.onQuestionSelect,style:{clear:"both",fontSize:"1.3em",width:"100%"},id:"text_input",type:"text",value:e.props.hermodClient.question,onChange:e.props.setQuestion,placeholder:"Ask a question"}))),o.a.createElement("div",{style:{zIndex:999}},s))}return null}},{key:"sendFormQuestion",value:function(e){if(e.preventDefault(),this.props.hermodClient&&this.props.hermodClient.question){var t={text:this.props.hermodClient.question};this.props.api.client.sendMessage("hermod/"+this.props.hermodClient.config.site+"/asr/text",t),this.setState({changed:!1})}return!1}},{key:"sendForm",value:function(e){if(this.props.hermodClient&&this.props.hermodClient.nlu_json){var t=this.props.hermodClient.nlu_json;t.text=this.props.hermodClient.question,e.preventDefault(),this.props.api.client.sendMessage("hermod/"+this.props.hermodClient.config.site+"/nlu/intent",t)}return this.setState({changed:!1}),!1}},{key:"getQuestionSelection",value:function(e){var t=e.target.value.substring(e.target.selectionStart,e.target.selectionEnd);return t||""}},{key:"setQuestionSelection",value:function(e,t){var n=this.questionInput.current;n&&this.createSelection(n,e,t)}},{key:"createSelection",value:function(e,t,n){if(e.createTextRange){var a=e.createTextRange();a.collapse(!0),a.moveStart("character",t),a.moveEnd("character",n-t),a.select()}else e.setSelectionRange?e.setSelectionRange(t,n):e.selectionStart&&(e.selectionStart=t,e.selectionEnd=n);e.focus()}},{key:"getQuestionSelectionRange",value:function(e){return[e.target.selectionStart?e.target.selectionStart:0,e.target.selectionEnd?e.target.selectionEnd:0]}},{key:"onQuestionSelect",value:function(e){this.setState({selection:this.getQuestionSelection(e),selectionRange:this.getQuestionSelectionRange(e),showAddButton:!0})}},{key:"onQuestionBlur",value:function(e){this.setState({questionIsFocussed:!1,showAddButton:!1})}},{key:"onQuestionFocus",value:function(e){this.setState({questionIsFocussed:!0})}},{key:"onQuestionKeyup",value:function(e){}}]),n}(a.Component),ue=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"hermodHeader",style:{backgroundColor:"#b5a5f3",minHeight:"9em",width:"100%",top:0,left:0,position:"fixed"}},o.a.createElement(oe,{hermodClient:this.props.hermodClient,toggleMicrophone:this.props.toggleMicrophone,api:this.props.api}),o.a.createElement(re,{hermodClient:this.props.hermodClient}),o.a.createElement("div",{id:"buttons",style:{float:"left",marginRight:"0.5em",padding:"0.5em"}},o.a.createElement("span",{className:"fixedButtons",id:"fixedButtons",style:{float:"left",marginRight:"0.5em"}},o.a.createElement(h.b,{to:"/"},o.a.createElement(g.a,{style:{float:"left"},variant:"secondary",size:"lg"},"Home")),this.props.hermodClient.slots&&this.props.hermodClient.slots.crossword&&o.a.createElement(h.b,{to:"/crossword/"+this.props.hermodClient.slots.crossword},o.a.createElement(g.a,{style:{marginLeft:"0.3em",float:"left"},variant:"secondary"},"Crossword")),1!==this.props.hermodClient.microphoneState&&o.a.createElement(h.b,{to:"/about_edison"},o.a.createElement(g.a,{style:{marginLeft:"0.3em",float:"left"},variant:"secondary"},"Help"))),o.a.createElement(ie,{buttons:this.props.hermodClient.buttons,sendMessage:this.props.sendMessage,showFrame:this.props.showFrame,showWindow:this.props.showWindow})),o.a.createElement("div",{style:{float:"left",marginLeft:"0.5em",marginRight:"0.5em",clear:"both",width:"90%"}},o.a.createElement(le,{intents:[],entities:[],hermodClient:this.props.hermodClient,api:this.props.api,setQuestion:this.props.setQuestion})))}}]),n}(a.Component);var de=function(e){var t=[],n=0;for(n in e.slots)e.slots[n]&&e.slots[n].length>0&&t.push(o.a.createElement(g.a,{key:n,variant:"light"},n," ",e.slots[n]));return o.a.createElement("div",{style:{float:"left",marginRight:"0.5em",padding:"0.5em",clear:"both"},className:"slotList",id:"slotList"},t)},he=function(e){return o.a.createElement("div",{className:"hermodFooter",style:{overflowY:"scroll",backgroundColor:"rgba(137, 140, 224, 0.81)",textAlign:"left",borderTop:"1px solid black",height:"2.2em",width:"100%",position:"fixed",left:0,bottom:0}},o.a.createElement(h.b,{style:{float:"right",marginRight:"0.8em"},to:"/about"},o.a.createElement(g.a,{style:{float:"left"},variant:"primary",size:"sm"},"About the Software  ")),o.a.createElement("b",{style:{float:"left",marginRight:"0.8em"}},"\xa0\xa0",o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",style:{color:"lightgrey"},href:"https://github.com/syntithenai/hermod"},"Copyleft Steve Ryan"),"\xa0\xa0"),o.a.createElement(de,{slots:e.slots}))},me={left:0,top:0,overflowY:"hidden",width:"100%",height:"100%",overflow:"hidden",border:"None"},pe=function(e){return e.hermodClient.frame&&e.hermodClient.frame.length>0?o.a.createElement("div",{className:"component iframeComponent",style:{height:"90em"}},o.a.createElement("iframe",{title:"External",style:me,src:e.hermodClient.frame})):o.a.createElement(p.a,{to:"/"})},fe=n(135),ge={height:"600",playerVars:{autoplay:1}};function be(e){}var ye=function(e){return e.hermodClient.youtube&&e.hermodClient.youtube.length>0?o.a.createElement("div",{className:"component youtubeComponent"},o.a.createElement(fe.a,{videoId:e.hermodClient.youtube,opts:ge,onReady:be})):o.a.createElement(p.a,{to:"/"})},ve=function(){return o.a.createElement("div",{className:"component first-component",style:{textAlign:"left",marginLeft:"1em"}},o.a.createElement("h2",null,"About This Software"),o.a.createElement("div",null,"This software is a demonstration for Hermod, a suite of tools for building applications with voice."),o.a.createElement("br",null),o.a.createElement("div",null,"The software is freely available under a FreeBSD Open Source License.",o.a.createElement("br",null)),o.a.createElement("a",{target:"_new",href:"https://github.com/syntithenai/hermod"},o.a.createElement(g.a,{style:{marginLeft:"1em"}},"Developer Documentation")),o.a.createElement("a",{href:"https://github.com/syntithenai/hermod/issues",target:"_new"},o.a.createElement(g.a,{style:{marginLeft:"1em"}},"Report a problem")),o.a.createElement("br",null),o.a.createElement("div",null,"Built using",o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{target:"_new",href:"https://rasa.com/docs/rasa/nlu/about/"},"RASA")),o.a.createElement("li",null,o.a.createElement("a",{target:"_new",href:"https://github.com/mozilla/DeepSpeech"},"Deepspeech Voice Recognition")),o.a.createElement("li",null,o.a.createElement("a",{target:"_new",href:"https://picovoice.ai/"},"Picovoice Hotword Recognition")),o.a.createElement("li",null,"and many other open source projects"))),o.a.createElement("div",null,"Help improve Deepspeech",o.a.createElement("br",null),o.a.createElement("a",{target:"_new",href:"https://voice.mozilla.org/en/speak"},o.a.createElement(g.a,{variant:"success"},"Contribute your voice to the Mozilla Open Source Voice Dataset"))),o.a.createElement("br",null),o.a.createElement("div",null,"This software brings together information from",o.a.createElement("ul",null,o.a.createElement("li",null,"Wikipedia, Wiktionary and Wikidata to answer questions ",o.a.createElement("a",{target:"_new",href:"https://donate.wikimedia.org/w/index.php?title=Special:LandingPage&country=AU&uselang=en&utm_medium=donatewiki_page&utm_source=Ways_to_Give&utm_campaign=donate_now_btn"},"Support the Wikimedia Foundation")),o.a.createElement("li",null,"Images from ",o.a.createElement("a",{target:"_new",href:"https://unsplash.com/"},"Unsplash")),o.a.createElement("li",null,"and Videos from ",o.a.createElement("a",{target:"_new",href:"https://youtube.com/"},"Youtube")))))},we=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){if(this.props.images&&this.props.images.length>0){for(var e=[],t=0;t<this.props.images.length;t++)e.push(o.a.createElement("span",{key:t},o.a.createElement("img",{alt:this.props.images[t].attribution,src:this.props.images[t].url,style:{width:"90%"}}),o.a.createElement("div",null,this.props.images[t].attribution)));return o.a.createElement("div",{className:"images-list"},e,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null))}return o.a.createElement(p.a,{to:"/"})}}]),n}(a.Component),Ee=n(138),Ce=function(e){console.log(e)};var ke=function(){return o.a.createElement("div",{className:"Login"},o.a.createElement(Ee.GoogleLogin,{clientId:"589552091078-p6ccsnt8kchep5r46t9hfuti328fofjr.apps.googleusercontent.com",buttonText:"Login",onSuccess:Ce,onFailure:Ce,cookiePolicy:"single_host_origin"}))},Oe=n(74),Se=(n(91),n(165)),je=Object(p.f)(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={isListening:!1,isSpeaking:!1,isPlaying:!1,microphoneState:0,slots:[],transcript:"",nlu:"",nlu_json:{},say:"",isWaiting:!1,question:"",frame:"",images:[],image:"",buttons:[],connected:!1},a.useAnalytics=!1,a.toggleMicrophone=a.toggleMicrophone.bind(Object(l.a)(a)),a.setQuestion=a.setQuestion.bind(Object(l.a)(a)),a.initClient=a.initClient.bind(Object(l.a)(a)),a.showFrame=a.showFrame.bind(Object(l.a)(a)),a.showWindow=a.showWindow.bind(Object(l.a)(a)),a.analyticsEvent=a.analyticsEvent.bind(Object(l.a)(a)),a.startWaiting=a.startWaiting.bind(Object(l.a)(a)),a.stopWaiting=a.stopWaiting.bind(Object(l.a)(a)),a.sendMessage=a.sendMessage.bind(Object(l.a)(a)),a.navigateTo=a.navigateTo.bind(Object(l.a)(a)),a.setNluJson=a.setNluJson.bind(Object(l.a)(a)),a}return Object(c.a)(n,[{key:"navigateTo",value:function(e){this.props.history.push(e)}},{key:"initClient",value:function(){var e=this;fetch("/config").then((function(e){return e.json()})).then((function(t){var n="ws://";"https:"===window.location.protocol&&(n="wss://"),t.server||(t.server=n+window.location.hostname+":9001"),e.setState({config:t});var a=null;t.analytics_code&&t.analytics_code.length>0&&(e.useAnalytics=!0,Oe.a.initialize(t.analytics_code),Oe.a.pageview(window.location.pathname+window.location.search)),t.javascript_environment="react",e.client=new Se(t),e.setState({client:e.client}),e.client.bind("hotwordDetected",(function(){})),e.client.bind("hotwordReady",(function(){e.setState({hotwordReady:!0})})),e.client.bind("microphoneStart",(function(){e.setState({microphoneState:3})})),e.client.bind("hotwordStart",(function(){e.setState({microphoneState:2})})),e.client.bind("hotwordStop",(function(){e.setState({microphoneState:1})})),e.client.bind("microphoneStop",(function(){e.setState({microphoneState:2})})),e.client.bind("disconnect",(function(){e.setState({microphoneState:0,connected:!1})})),e.client.bind("reconnect",(function(){e.setState({microphoneState:0,connected:!0})})),e.client.bind("connect",(function(){e.setState({microphoneState:1,connected:!0}),e.client.sendMessage("hermod/"+t.site+"/rasa/get_domain",{})})),e.client.bind("startSpeaking",(function(){e.setState({isSpeaking:!0})})),e.client.bind("stopSpeaking",(function(){e.setState({isSpeaking:!1})})),e.client.bind("startPlaying",(function(){e.setState({isPlaying:!0})})),e.client.bind("stopPlaying",(function(){e.setState({isPlaying:!1})})),e.client.bind("message",(function(t,n){var o,r=t.split("/"),i="",s={};o=function(e){var t={};try{t=JSON.parse(e.toString())}catch(n){}return t}(n);var c=t.split("/");c[1]="+";var l=c.join("/");if(e.props.bindTopic&&l in e.props.bindTopic&&null!==e.props.bindTopic[l])try{e.props.bindTopic[l](o)}catch(p){console.log(p)}if(r.length>3&&"display"===r[2]&&"show"===r[3])o.url&&o.url.length>0&&e.client.showUrl(o.url),o.frame&&o.frame.length>0&&e.showFrame(o.frame),o.youtube&&o.youtube.length>0&&e.showYoutube(o.youtube),o.image&&o.image.length>0&&e.showImages([o.image]),o.images&&o.images.length>0&&e.showImages(o.images),o.buttons&&o.buttons.length>0&&e.setState({buttons:o.buttons}),o.navigate&&o.navigate.length>0&&e.navigateTo(o.navigate);else if(r.length>3&&"dialog"===r[2]&&"slots"===r[3])e.setState({slots:o});else if(r.length>3&&"rasa"===r[2]&&"domain"===r[3])e.setState({domain:o});else if(r.length>3&&"asr"===r[2]&&"text"===r[3])e.setState({question:o.text,transcript:o.text,nlu:"",say:""}),a&&clearTimeout(a),a=setTimeout((function(){e.setState({transcript:""})}),3e3);else if(r.length>3&&"dialog"===r[2]&&"end"===r[3])e.setState({transcript:""});else if(r.length>3&&"nlu"===r[2]&&"intent"===r[3]){if(s={},(i=o.intent&&o.intent.name?o.intent.name:"").length>0&&o.entities){for(var u in o.entities){var d=o.entities[u];d.entity&&d.entity.length>0&&d.value&&d.value.length>0&&(s[d.entity]=d.value)}e.setState({nlu_json:o,nlu_json_original:JSON.stringify(o),nlu:i+JSON.stringify(s),buttons:[]}),e.analyticsEvent(i+JSON.stringify(s))}}else if(r.length>3&&"nlu"===r[2]&&"externalintent"===r[3]){if(s={},(i=o.intent&&o.intent.name?o.intent.name:"").length>0&&o.entities){for(var h in o.entities){var m=o.entities[h];m.entity&&m.entity.length>0&&m.value&&m.value.length>0&&(s[m.entity]=m.value)}e.setState({nlu_json:o,nlu:i+JSON.stringify(s)})}}else r.length>2&&"tts"===r[2]&&"say"===r[3]?e.setState({say:o.text}):r.length>3&&"display"===r[2]&&"startwaiting"===r[3]?e.setState({isWaiting:!0}):r.length>3&&"display"===r[2]&&"stopwaiting"===r[3]&&e.setState({isWaiting:!1})})),e.client.connect()})).catch((function(e){console.log("parsing failed",e)}))}},{key:"componentDidMount",value:function(){this.initClient()}},{key:"toggleMicrophone",value:function(){var e=this.state.microphoneState;this.state.isPlaying?(this.client.stopPlaying(),this.client.sendMessage("hermod/"+this.state.config.site+"/tts/finished",{})):1===e?(this.client.stopMicrophone(),this.client.stopHotword(),this.client.sendMessage("hermod/"+this.state.config.site+"/dialog/end",{})):2===e?(this.client.stopHotword(),this.client.startMicrophone(),this.client.sendMessage("hermod/"+this.state.config.site+"/hotword/detected",{})):3===e&&(this.client.stopMicrophone(),this.client.stopHotword(),this.client.sendMessage("hermod/"+this.state.config.site+"/dialog/end",{}))}},{key:"setNluJson",value:function(e){this.setState({nlu_json:e})}},{key:"setQuestion",value:function(e){this.setState({question:e.target.value})}},{key:"analyticsEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Navigation";this.useAnalytics&&Oe.a.event({category:t,action:e})}},{key:"showFrame",value:function(e){this.setState({frame:e}),this.props.history.push("/frame")}},{key:"showYoutube",value:function(e){this.setState({youtube:e}),this.props.history.push("/youtube")}},{key:"showImages",value:function(e){this.setState({images:e}),this.props.history.push("/images")}},{key:"showWindow",value:function(e){var t=null;t&&t.close(),t=window.open(e)}},{key:"startWaiting",value:function(){this.setState({isWaiting:!0})}},{key:"stopWaiting",value:function(){this.setState({isWaiting:!1})}},{key:"sendMessage",value:function(e){this.client.sendASRTextMessage(this.state.config.site,e)}},{key:"render",value:function(){if(this.state.config){var e={toggleMicrophone:this.toggleMicrophone,setQuestion:this.setQuestion,client:this.state.client,showFrame:this.showFrame,showWindow:this.showWindow,startWaiting:this.startWaiting,stopWaiting:this.stopWaiting,sendMessage:this.sendMessage,setNluJson:this.setNluJson};return o.a.createElement("div",{className:"HermodClient"},this.props.children(this.state,e))}return null}}]),n}(a.Component)),xe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={crosswords:[],searchFor:"",difficulty:"0"},a.searchCrosswords=a.searchCrosswords.bind(Object(l.a)(a)),a.updateSearchFor=a.updateSearchFor.bind(Object(l.a)(a)),a.sendForm=a.sendForm.bind(Object(l.a)(a)),a.updateSearchFor=a.updateSearchFor.bind(Object(l.a)(a)),a.searchDifficulty=a.searchDifficulty.bind(Object(l.a)(a)),a.searchTimeout=null,a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=[];if(localStorage.getItem("crossword_list_entry"))try{t=JSON.parse(localStorage.getItem("crossword_list_entry")),this.setState({crosswords:t})}catch(n){this.searchCrosswords().then((function(){localStorage.setItem("crossword_list_entry",JSON.stringify(e.state.crosswords))}))}t&&0!==t.length||this.searchCrosswords().then((function(){localStorage.setItem("crossword_list_entry",JSON.stringify(e.state.crosswords))})),this.crossword=o.a.createRef(),e.props.match&&e.props.match.params&&e.props.match.params.difficulty&&e.props.match.params.difficulty.length>0&&e.searchCrosswords()}},{key:"componentWillUpdate",value:function(e,t){console.log("component did update"),console.log([e.match.params,this.props.match.params]);this.props.match&&this.props.match.params&&this.props.match.params.difficulty&&e.match&&e.match.params&&e.match.params.difficulty&&e.match.params.difficulty!=this.props.match.params.difficulty&&this.searchCrosswords()}},{key:"updateSearchFor",value:function(e){this.setState({searchFor:e.target.value}),this.sendForm(e)}},{key:"searchCrosswords",value:function(){var e=this;return new Promise((function(t,n){var a=[];e.state.searchFor.length>0&&a.push("search="+e.state.searchFor),e.props.match&&e.props.match.params&&e.props.match.params.difficulty&&e.props.match.params.difficulty.length>0&&a.push("difficulty="+e.props.match.params.difficulty);e.props.startWaiting&&e.props.startWaiting(),fetch("/api/crosswords?"+a.join("&")).then((function(e){return e.json()})).then((function(t){e.setState({crosswords:t})})).finally((function(){e.props.stopWaiting&&e.props.stopWaiting(),t()}))}))}},{key:"sendForm",value:function(e){return e.preventDefault(),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(this.searchCrosswords,1e3),!1}},{key:"searchDifficulty",value:function(e){this.setState({difficulty:e}),parseInt(e)>0&&this.searchCrosswords()}},{key:"render",value:function(){var e=[],t={1:"Kids",10:"Junior Primary",11:"Middle Primary",12:"Senior Primary",13:"Junior High",14:"Senior High",2:"Easy",3:"Medium",4:"Hard",5:"Cryptic"},n=["1","10","11","12","13","15","2","3","4","5"],a={};for(var r in this.state.crosswords){var i=this.state.crosswords[r],s=Number(i.difficulty>0?i.difficulty:1).toString();a.hasOwnProperty(s)||(a[s]=[]),a[s].push(o.a.createElement("div",{key:r,style:{width:"90%",textAlign:"left"}},o.a.createElement(h.b,{to:"/crossword/"+i._id},o.a.createElement(g.a,{variant:"secondary",style:{minWidth:"18em"}},"Start the ",i.title," crossword")))),e.push(o.a.createElement("div",{key:r,style:{width:"90%",textAlign:"left",padding:"1em"}},o.a.createElement(h.b,{to:"/crossword/"+i._id},o.a.createElement(g.a,{variant:"secondary",style:{minWidth:"18em"}},o.a.createElement("span",{style:{float:"right",marginLeft:"0.5em"},className:"badge badge-light"},t.hasOwnProperty(i.difficulty)?t[i.difficulty]:"Unknown"),"Start the ",i.title," crossword"))))}var c={backgroundColor:"orange",minWidth:"30%",float:"left",minHeight:"7em",border:"1px solid blue",marginLeft:"0.8em",marginTop:"0.8em",fontSize:"2em",textAlign:"center",align:"center"},l=[];for(var u in n){var d=n[u];a[Number(d)]&&a[Number(d)].length>0&&l.push(o.a.createElement("div",{className:"col-10 col-md-5",style:c,key:d},o.a.createElement(h.b,{to:"/crosswords/"+d},t.hasOwnProperty(d)?t[d]:"Unknown"),o.a.createElement("div",null,a[Number(d)])))}return o.a.createElement("div",{className:"crosswordListComponent row"},o.a.createElement("div",{style:{marginLeft:"0.5em",marginRight:"0.5em",clear:"both",width:"50%"}},o.a.createElement("form",{onSubmit:this.sendForm},o.a.createElement("input",{style:{fontSize:"1.8em",width:"100%"},id:"text_input",type:"text",value:this.state.searchFor,onChange:this.updateSearchFor,placeholder:"Search crosswords"}))),o.a.createElement("div",{className:"crosswordSearchResults",style:{clear:"both",width:"100%"}},0===this.state.searchFor.length&&l),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null))}}]),n}(a.Component),Me=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).fillCrossword=a.fillCrossword.bind(Object(l.a)(a)),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.crossword=o.a.createRef()}},{key:"fillCrossword",value:function(e){this.crossword&&this.crossword.current.fillAnswer(e.direction,e.number,e.word)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement(h.a,null,o.a.createElement(je,{bindTopic:{"hermod/+/crossword/fill":this.fillCrossword}},(function(t,n){return o.a.createElement("div",null,o.a.createElement(f,{path:"/",hermodClient:t,component:ue,api:n,showFrame:n.showFrame,showWindow:n.showWindow,sendMessage:n.sendMessage,toggleMicrophone:n.toggleMicrophone,setQuestion:n.setQuestion}),o.a.createElement("div",{style:{marginTop:"9em"}},o.a.createElement("div",null,JSON.stringify(e.props.hermodClient)),o.a.createElement(f,{exact:!0,path:"/",hermodClient:t,component:xe,sendMessage:n.sendMessage}),o.a.createElement(f,{exact:!0,path:"/home",hermodClient:t,component:y,sendMessage:n.sendMessage}),o.a.createElement(f,{exact:!0,path:"/crossword",connected:t.connected,site:t.config.site,api:n,hermodClient:t,component:te,crosswordRef:e.crossword,startWaiting:n.startWaiting,stopWaiting:n.stopWaiting}),o.a.createElement(f,{exact:!0,path:"/crossword/:id",connected:t.connected,site:t.config.site,api:n,hermodClient:t,component:te,crosswordRef:e.crossword,startWaiting:n.startWaiting,stopWaiting:n.stopWaiting}),o.a.createElement(f,{exact:!0,path:"/crosswords",hermodClient:t,component:xe,startWaiting:n.startWaiting,stopWaiting:n.stopWaiting}),o.a.createElement(f,{exact:!0,path:"/crosswords/:difficulty",hermodClient:t,component:xe,startWaiting:n.startWaiting,stopWaiting:n.stopWaiting}),o.a.createElement(f,{exact:!0,path:"/frame",hermodClient:t,component:pe}),o.a.createElement(f,{exact:!0,path:"/youtube",hermodClient:t,component:ye}),o.a.createElement(f,{exact:!0,path:"/about",hermodClient:t,component:ve}),o.a.createElement(f,{exact:!0,path:"/login",hermodClient:t,component:ke}),o.a.createElement(f,{exact:!0,path:"/images",images:t.images,component:we}),o.a.createElement(f,{exact:!0,path:"/about_edison",hermodClient:t,component:y,sendMessage:n.sendMessage})),o.a.createElement(he,{slots:t.slots,adsenseClient:t.adsenseClient,adsenseSlot:t.adsenseSlot}))}))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,n){}},[[142,1,2]]]);
//# sourceMappingURL=main.0eba21c3.chunk.js.map