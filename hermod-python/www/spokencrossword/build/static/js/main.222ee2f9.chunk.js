(this.webpackJsonpspokencrossword=this.webpackJsonpspokencrossword||[]).push([[0],{117:function(e,t){e.exports=function(e){var t;onmessage=function(e){switch(e.data.command){case"init":o=e.data.inputSampleRate,t=o;break;case"process":!function(e){for(var o=0;o<e.length;o++)n.push(32767*e[o]);for(;16e3*n.length/t>512;){for(var a=new Int16Array(512),r=0,i=0,s=0,l=0;s<512;){for(r=0,i=0;l<Math.min(n.length,(s+1)*t/16e3);)r+=n[l],i++,l++;a[s]=r/i,s++}postMessage(a),n=n.slice(l)}}(e.data.inputFrame);break;case"reset":n=[]}var o};var n=[]}},123:function(e,t,n){e.exports=n.p+"static/media/waiting_small.d362cb3f.gif"},136:function(e,t,n){e.exports=n(292)},141:function(e,t,n){},147:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},161:function(e,t,n){(function(t){var o=n(164),a=n(167),r=n(169),i=n(258);var s=function(e){var s=n(287),l=n(291);try{window.PorcupineManager=s}catch(q){}var c=null,u=!1,d=!1,h=!1,m={},p={},g=!1,f=!1,b=window.AudioContext||window.webkitAudioContext,v=null,y=null,w=null,E=null,C=null,O=null,S=!1,k=[],j=null,N=null,x=[],T=new Float32Array([.9]),A={"hermod/+/speaker/cache/+":function(e,t,n){x.push(n)},"hermod/+/speaker/play/+":function(e,t,n){console.log(["speaker play",t,n]);var a,r=e.split("/"),i="no_id";if(r.length>4&&(i=r[4]),t&&t.length>0){var s={};try{s=JSON.parse(n)}catch(q){}s&&s.url?(p.hasOwnProperty("startPlaying")&&p.startPlaying(),(a=s.url,console.log("PLAY url "+a),h=!0,new Promise((function(e,t){(C=new Audio(a)).addEventListener("canplaythrough",(function(e){C.play()})),C.addEventListener("ended",(function(t){h=!1,e()})),C.addEventListener("error",(function(t){h=!1,e()}))}))).then((function(){c.publish("hermod/"+t+"/speaker/finished",JSON.stringify({id:i})),p.hasOwnProperty("stopPlaying")&&p.stopPlaying()}))):(c.publish("hermod/"+t+"/speaker/started",JSON.stringify({id:i})),p.hasOwnProperty("startPlaying")&&p.startPlaying(),x.push(n),J(function(e){var t=e.reduce((function(e,t){return e+t.length}),0);if(!e.length)return null;var n,a=new Uint8Array(t),r=0,i=o(e);try{for(i.s();!(n=i.n()).done;){var s=n.value;a.set(s,r),r+=s.length}}catch(l){i.e(l)}finally{i.f()}return a}(x)).then((function(){x=[],c.publish("hermod/"+t+"/speaker/finished",JSON.stringify({id:i})),p.hasOwnProperty("stopPlaying")&&p.stopPlaying()})))}},"hermod/+/nlu/intent":function(e,t,n){var o,a,r=JSON.parse(n);if(r&&r.intent&&r.intent.name){var i=r.intent.name,s=[];if(r.entities){for(var l in r.entities)s.push(r.entities[l].entity);s.length>0&&(i+="::"+s.join("__"))}o=i,a=t,console.log(["LOG ANLYT",o,a])}},"hermod/+/tts/say":function(e,t,n){p.hasOwnProperty("startSpeaking")&&p.startSpeaking()},"hermod/+/tts/finished":function(e,t,n){p.hasOwnProperty("stopSpeaking")&&p.stopSpeaking()},"hermod/+/speaker/volume":function(e,t,n){var o={};try{(o=JSON.parse(n)).volume&&W(o.volume)}catch(q){}},"hermod/+/asr/start":function(e,t,n){L(),z()},"hermod/+/asr/stop":function(e,t,n){Y(),F()},"hermod/+/hotword/start":function(e,t,n){U()},"hermod/+/hotword/stop":function(e,t,n){B()},"hermod/+/ready":function(e,t,n){console.log("reload on server restart"),P(t)}};function M(e,t){if(console.log(["MESSAGE ",e,t]),m.hasOwnProperty(e))c.unsubscribe(e),m[e](e,t),delete m[e];else{var n=e.split("/");(n.length>4&&"speaker"===n[2]&&"play"===n[3]||n.length>4&&"speaker"===n[2]&&"cache"===n[3]||n.length>4&&"speaker"===n[2]&&"stream_mp3"===n[3]||n.length>4&&"speaker"===n[2]&&"stream_wav"===n[3])&&(n[4]="+");var o=n[1];n[1]="+";var a=n.join("/");A.hasOwnProperty(a)&&A[a](e,o,t)}p.hasOwnProperty("message")&&p.message(e,t)}function P(e){R("hermod/"+e+"/dialog/init",{platform:"web",url:window.location.origin,supports:["audio","display"]})}function I(){return new Promise((function(t,n){var o={clientId:e.username,protocolId:"MQTT",protocolVersion:4,clean:!1,username:e.username,password:e.password,rejectUnauthorized:!1},a="ws://";"https:"==window.location.protocol&&(a="wss://");var i=null;i=e.server?e.server:a+window.location.hostname+":9001",(c=r.connect(i,o)).on("connect",(function(){console.log("connected"),console.log(e),e.subscribe&&e.subscribe.length>0?c.subscribe("hermod/rasa/ready",(function(n){c.unsubscribe(e.subscribe,(function(n){n&&console.log(["unSUBSCRIBE ERROR",n]),c.subscribe(e.subscribe,(function(n){n&&console.log(["SUBSCRIBE ERROR",n]),console.log(["init subscribed to "+e.subscribe]),R("hermod/"+e.site+"/asr/activate",{}),p.hasOwnProperty("connect")&&p.connect(),P(e.site),t()}))}))})):(P(e.site),p.hasOwnProperty("connect")&&p.connect(),t())})),c.on("error",(function(e){console.log("error"),console.log(e),p.hasOwnProperty("disconnect")&&p.disconnect()})),c.on("disconnect",(function(e){console.log("disconnect"),console.log(e),p.hasOwnProperty("disconnect")&&p.disconnect()})),c.on("reconnect",(function(e){console.log("reconnect"),p.hasOwnProperty("reconnect")&&p.reconnect()})),c.on("message",M)}))}function R(e,t){c.publish(e,JSON.stringify(t))}function _(e,t){c.publish(e,t)}function D(e,t,n){return new Promise((function(o,a){c.subscribe(n),m[n]=function(){o()},c.publish(e,JSON.stringify(t))}))}function W(e){E&&E.gain&&(E.gain.value=e/100)}function L(){E&&E.gain&&(N=E.gain.value,E.gain.value=.05)}function F(){null!=N&&E&&E.gain&&(E.gain.value=N,N=E.gain.value)}function U(){if(p.hasOwnProperty("hotwordStart")&&p.hotwordStart(),f=!0,!g){var t=!1;console.log(e.javascript_environment),console.log(e),"react"===e.javascript_environment&&(t=!0),s("./porcupine/porcupine_worker.js",t).start(l,T,(function(t){t&&f&&(z(),R("hermod/"+e.site+"/hotword/detected",{}),p.hasOwnProperty("hotwordDetected")&&p.hotwordDetected(t))}),(function(e){console.log(e)}),(function(){console.log("hotword ready"),!0,p.hasOwnProperty("hotwordReady")&&p.hotwordReady()})),console.log("HOW STARYTED"),g=!0}}function B(){p.hasOwnProperty("hotwordStop")&&p.hotwordStop(),f=!1}function Q(){console.log("bind speaking"),navigator.getUserMedia||(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia);try{navigator.getUserMedia?navigator.getUserMedia({audio:!0},(function(t){console.log("bind speaking have audoi");var n=a(t,{});n.on("speaking",(function(){clearTimeout(O),console.log("speaking"),function(e){for(var t in console.log(["SEND BUFFER"]),k)_("hermod/"+e+"/microphone/audio",k[t]);k=[]}(e.site),S=!0,p.hasOwnProperty("speaking")&&p.speaking()})),n.on("stopped_speaking",(function(){O=setTimeout((function(){clearTimeout(O),S=!1,p.hasOwnProperty("stopspeaking")&&p.stopspeaking()}),3e3)}))}),(function(e){console.log(["MIC Error capturing audio.",e])})):console.log("MIC getUserMedia not supported in this browser.")}catch(q){console.log(q)}}function z(){d=!0,L(),p.hasOwnProperty("microphoneStart")&&p.microphoneStart()}function G(e,n){for(var o="default",a={},r=0;r!==e.length;++r){var i=e[r];"audioinput"===i.kind&&(console.log(i.label),console.log(i.deviceId),a[i.label]=i.deviceId,i.label&&-1!==i.label.toLowerCase().indexOf("speakerphone")&&(o=i.deviceId)),a.FINAL=o}!function(e,n){if(u)return;u=!0,navigator.getUserMedia||(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia);try{navigator.getUserMedia?navigator.getUserMedia({audio:!0},(function(n){v=new b,(y=v.createGain()).gain.value=1;var o=v.createMediaStreamSource(n);function a(e){if(e){for(var t=e.length,n=new Int16Array(t);t--;)n[t]=32767*Math.min(1,e[t]);return n.buffer}}var r=v.createScriptProcessor(4096,1,1);r.onaudioprocess=function(n){u&&d&&function(e,t,n){for(var o=new OfflineAudioContext(e.numberOfChannels,e.duration*e.numberOfChannels*t,t),a=o.createBuffer(e.numberOfChannels,e.length,e.sampleRate),r=0;r<e.numberOfChannels;r++)a.copyToChannel(e.getChannelData(r),r);var i=o.createBufferSource();i.buffer=e,i.connect(o.destination),i.start(0),o.oncomplete=function(e){var t=e.renderedBuffer.getChannelData(0);n(t)},o.startRendering()}(n.inputBuffer,16e3,(function(n){var o;h?console.log("BAN DURING PLAY"):S&&u&&d?_("hermod/"+e+"/microphone/audio",t.from(a(n))):(setTimeout((function(){Y(),U()}),5e3),o=t.from(a(n)),k.push(o),k.length>30&&k.shift())}))},y.connect(r),o.connect(y),r.connect(v.destination)}),(function(e){console.log(["dMIC Error capturing audio.",e])})):console.log("MIC getUserMedia not supported in this browser.")}catch(q){console.log(q)}}(n)}function H(e){console.log("navigator.MediaDevices.getUserMedia error: ",e.message,e.name)}function J(e,t){return t||(t=0),h=!0,new Promise((function(t,n){try{if(e){var o=new Uint8Array(e.length);o.set(new Uint8Array(e),0),w=new b,(E=w.createGain()).gain.value=1,w.decodeAudioData(o.buffer,(function(e){(j=w.createBufferSource()).buffer=e,j.connect(E),E.connect(w.destination);try{j.start(0)}catch(q){console.log("play sound error starting"),console.log(q),h=!1,t()}j.onended=function(){console.log("PLAY SOUND BYTES source ended"),h=!1,t()},j.onerror=function(){console.log("PLAY SOUND BYTES source error"),h=!1,t()}}),(function(e){console.log("PLAY SOUND BYTES decode FAIL"),console.log(e),h=!1,t()}))}else console.log("PLAY SOUND BYTES no bytes"),h=!1,t()}catch(q){console.log("PLAY SOUND BYTES err"),h=!1,console.log(q),t()}}))}function Y(){d=!1,p.hasOwnProperty("microphoneStop")&&p.microphoneStop(),F()}return navigator&&navigator.mediaDevices&&(navigator.mediaDevices.enumerateDevices().then((function(t){G(t,e.site)})).catch(H),Q()),{setVolume:W,muteVolume:L,unmuteVolume:F,playSound:J,stopPlaying:function(){console.log("STOP PLAY"),h=!1,j&&(console.log("STOP PLAY real"),j.stop()),C&&C.pause(),p.hasOwnProperty("stopPlaying")&&p.stopPlaying()},say:function(t){return D("hermod/"+e.site+"/tts/say",{text:t},"hermod/"+e.site+"/tts/finished")},stopAll:function(){B(),Y()},bind:function(e,t){p[e]=t},unbind:function(e){delete p[e]},startMicrophone:z,stopMicrophone:Y,sendAndWaitFor:D,sendAudioAndWaitFor:function(e,t,n){return new Promise((function(o,a){c.subscribe(n),m[n]=function(){i.stop(),o()},i.start(c,e,t)}))},sendMessage:R,sendNLUMessage:function(e,t,n){n||(n=[]),c.publish("hermod/"+e+"/nlu/intent",JSON.stringify({intent:{name:t},entities:n}))},sendASRTextMessage:function(e,t){console.log("send text message "+e+t),c.publish("hermod/"+e+"/asr/text",JSON.stringify({text:t}))},authenticate:function(){},connect:I,disconnect:function(){p.hasOwnProperty("disconnect")&&p.disconnect(),c.end(),setTimeout((function(){I()}),3e3)},startHotword:U,stopHotword:B}};e.exports=s;try{window&&(window.HermodWebClient=s)}catch(l){}}).call(this,n(13).Buffer)},172:function(e,t){},174:function(e,t){},253:function(e,t){},254:function(e,t){},258:function(e,t,n){var o=n(259),a=n(70),r=(a.Readable,a.Writable,n(112)),i=null;e.exports={start:function(e,t,a){var s=o(512,{flush:!0});s.on("data",(function(n){e.publish("hermod/"+t+"/microphone/audio",n)})),i=r.createReadStream(a),console.log("stream "+a);var l=new(n(270).Reader)({channels:1,sampleRate:16e3,bitDepth:16}),c=!1;l.on("format",(function(e){c=!0})),l.on("data",(function(e){c&&(console.log("read body"),console.log(e&&e.buffer?e.buffer.length:-1),s.write(e))})),i.pipe(l)},stop:function(e){!1,i&&(i.pause(),i.destroy())}}},261:function(e,t){},263:function(e,t){},279:function(e,t){},287:function(e,t,n){var o=n(288);PorcupineManager=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=function(a,r,i,s,l){(t=new Worker(e)).postMessage({command:"init",keywordIDs:a,sensitivities:r}),t.onmessage=function(e){e.data.ready?(console.log("WORKER MSG"),console.log(e.data),l()):i(e.data.keyword)},o.start([this],s,n)},r=function(){o.stop(),t.postMessage({command:"release"})},i=function(e){t.postMessage({command:"process",inputFrame:e})};return{start:a,processFrame:i,stop:r}};try{e.exports=PorcupineManager}catch(a){}try{window.PorcupineManager=PorcupineManager}catch(a){}},288:function(e,t,n){var o=n(289),a=n(290);WebVoiceProcessor=function(){var e=!1;return{start:function(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];navigator.mediaDevices.getUserMedia({audio:!0}).then((function(r){var s,l=new(window.AudioContext||window.webkitAudioContext),c=l.createMediaStreamSource(r),u=l.createScriptProcessor(4096,1,1);u.onaudioprocess=function(t){e&&s.postMessage({command:"process",inputFrame:t.inputBuffer.getChannelData(0)})},c.connect(u),u.connect(l.destination),(s=i?a(117):o(n(117))).postMessage({command:"init",inputSampleRate:c.context.sampleRate}),s.onmessage=function(e){t.forEach((function(t){t.processFrame(e.data)}))}})).catch(r),e=!0},stop:function(){e=!1,(void 0).postMessage({command:"reset"})}}}(),e.exports=WebVoiceProcessor;try{window.WebVoiceProcessor=WebVoiceProcessor}catch(r){}},291:function(e,t){var n={"Hey Edison":new Uint8Array([118,237,148,135,159,220,36,201,56,239,145,237,180,93,2,141,52,25,146,185,64,57,215,232,206,126,81,225,148,220,233,125,208,20,155,99,250,111,85,62,137,213,98,126,95,153,72,52,111,249,44,213,197,123,110,70,228,216,115,70,151,98,25,130,57,222,81,112,215,229,127,232,165,197,192,156,201,244,137,20,50,109,9,238,58,247,222,38,229,187,241,206,10,21,41,124,192,63,24,24,48,176,53,104,217,134,233,160,198,236,140,172,100,134,146,72,12,52,188,214,229,137,61,153,85,28,217,217,182,147,245,151,247,9,226,202,165,184,72,39,37,167,52,17,133,49,180,127,74,67,100,41,124,72,112,172,252,71,209,210,189,143,0,49,172,213,21,83,205,66,79,46,245,229,246,234,89,169,6,130,188,11,37,192,108,101,219,130,64,37,74,57,60,230,134,142,206,104,185,128,178,88,183,55,101,213,227,212,156,107,119,112,129,57,182,209,7,164,55,199,187,118,118,132,199,153,255,172,243,20,132,36,77,111,56,87,156,76,7,95,199,137,125,94,33,210,211,103,16,67,84,255,12,88,157,51,149,153,34,9,209,175,177,210,27,211,89,204,189,117,34,173,63,31,172,97,118,245,207,179,22,1,50,65,228,130,185,68,4,175,173,148,42,70,211,7,198,105,191,125,237,202,147,217,105,227,191,37,132,218,184,157,184,23,65,24,155,206,155,104,213,63,20,243,33,184,18,65,97,50,131,3,148,78,196,85,252,210,183,10,228,172,25,150,233,10,104,4,179,98,194,5,106,1,207,148,91,135,152,57,133,215,28,236,255,217,58,225,64,59,95,207,149,137,15,150,8,26,83,120,1,68,96,52,254,171,145,10,252,49,234,15,18,180,73,126,135,0,37,109,188,54,222,133,58,249,162,220,56,20,204,133,46,91,208,186,176,204,93,126,36,151,51,18,207,53,78,177,2,105,167,107,66,183,184,210,75,210,251,169,136,97,235,17,161,81,57,125,83,193,224,159,17,94,243,148,181,167,28,93,208,111,198,190,123,134,59,96,222,158,178,198,225,90,196,191,231,79,172,51,85,85,100,157,93,137,246,87,113,238,44,17,168,29,213,1,116,27,102,29,192,177,97,160,182,234,6,146,74,106,131,157,212,227,93,213,178,229,47,75,226,57,109,187,201,39,77,136,206,112,122,154,138,4,245,187,105,125,166,159,84,42,86,231,80,127,37,182,232,229,35,61,212,65,99,10,249,236,255,252,18,87,91,172,176,175,195,238,77,243,22,112,195,51,41,251,157,58,234,25,2,188,59,171,110,168,164,105,150,226,39,91,134,96,232,116,243,125,140,165,58,156,212,241,93,111,242,38,105,207,237,207,137,217,9,210,104,243,51,248,198,197,138,68,20,136,44,162,110,21,54,99,122,104,141,11,156,164,233,141,224,244,152,121,68,7,77,91,76,139,249,89,214,43,151,53,247,89,134,108,149,8,71,221,135,103,196,53,235,198,175,1,248,94,11,78,238,132,8,161,114,197,148,243,129,6,193,47,145,10,189,135,96,112,200,163,226,109,0,170,139,212,44,78,157,107,207,221,54,154,48,162,33,242,160,56,18,101,163,250,102,154,143,174,155,97,128,248,221,224,245,228,250,219,235,106,85,150,25,36,170,154,206,250,174,35,138,91,74,193,70,8,197,51,52,98,243,202,177,138,242,186,142,46,177,45,38,65,135,199,240,168,134,78,172,231,156,64,33,102,19,226,81,190,31,205,64,57,239,112,46,47,23,186,38,19,75,252,185,84,96,111,199,104,237,105,60,90,192,120,240,207,79,159,53,254,67,252,212,139,188,65,94,25,128,139,166,41,175,87,243,184,200,179,166,228,247,170,75,43,253,42,44,15,224,15,140,184,172,210,138,240,239,52,86,148,53,20,2,112,87,244,230,197,130,38,129,107,210,200,128,112,193,166,107,100,9,231,82,175,178,127,170,160,252,26,77,28,233,53,226,168,249,124,52,136,1,57,125,2,255,111,64,23,89,227,232,86,24,135,116,79,225,47,242,157,87,209,93,66,229,1,33,244,141,255,11,15,209,138,129,64,164,173,112,114,117,58,176,161,154,191,223,60,171,97,82,247,214,241,15,64,21,87,70,166,198,140,117,57,192,138,182,250,14,17,150,248,150,105,184,31,177,249,244,180,2,60,185,67,206,215,43,244,118,99,40,45,235,85,131,146,84,152,243,22,67,51,41,201,206,47,71,40,210,129,239,232,149,220,160,68,229,100,105,121,52,127,112,128,245,240,145,67,81,5,244,191,18,107,46,117,185,124,59,125,186,146,34,37,209,131,22,128,147,33,139,97,124,207,17,38,173,142,103,249,241,12,83,170,71,243,51,33,156,221,196,125,98,247,41,143,209,60,32,83,27,246,172,153,88,72,244,255,65,124,95,41,117,211,134,208,227,102,68,9,55,134,53,33,129,123,196,134,108,151,184,33,217,218,74,221,171,189,239,147,163,17,72,170,60,254,28,165,31,172,61,80,101,152,181,206,227,74,191,77,160,182,134,99,131,54,150,67,25,141,234,175,14,52,239,188,55,95,194,230,48,8,28,69,223,229,41,73,60,125,74,10,165,43,180,162,177,173,115,117,155,30,25,128,49,12,236,160,197,175,8,254,18,30,238,160,77,162,147,112,191,63,22,178,62,0,29,92,156,76,191,180,98,171,42,243,228,206,35,237,180,166,198,118,85,187,27,125,198,154,200,228,194,231,38,83,140,46,18,210,13,36,144,96,204,191,209,38,161,94,33,250,166,0,24,150,101,232,174,214,62,51,47,168,228,171,182,1,152,247,171,140,154,14,228,108,204,242,170,16,133,246,103,154,98,41,56,63,111,8,75,170,187,34,77,108,36,58,231,59,232,184,84,32,223,215,150,62,153,29,82,85,130,29,113,35,245,154,92,103,241,54,246,216,78,174,148,160,199,78,208,196,119,245,255,127,200,134,31,246,254,160,208,60,25,191,192,64,4,19,27,110,39,196,195,122,34,182,220,80,214,236,99,131,117,172,24,80,185,64,220,172,121,185,121,84,69,139,46,13,92,39,156,194,94,50,77,145,21,21,165,237,180,136,47,223,60,71,19,109,145,184,3,248,191,172,114,98,155,101,86,200,207,23,45,166,211,22,55,104,94,17,217,173,64,36,7,86,97,12,0,23,24,246,109,172,232,134,136,194,82,172,18,189,71,158,138,246,182,101,110,151,214,210,64,192,192,76,46,107,78,35,39,144,95,74,224,100,85,174,249,52,26,174,23,236,248,145,120,180,111,58,157,60,172,16,89,250,124,131,165,10,33,99,200,48,123,234,89,214,92,212,106,175,226,190,202,109,7,105,142,176,20,132,162,115,142,207,135,72,251,238,87,17,123,53,234,63,100,223,238,120,176,57,143,171,0,64,239,56,30,64,23,133,36,254,228,189,233,56,104,37,216,16,24,218,108,180,33,67,176,251,168,169,108,90,61,100,106,14,231,147,213,63,77,188,176,50,162,234,218,116,54,96,172,129,127,2,134,180,3,157,160,238,129,124,5,198,86,156,65,196,93,8,55,18,83,213,195,238,18,154,211,126,150,39,46,165,7,181,11,196,208,8,73,100,93,67,170,125,86,34,72,209,116,14,224,140,167,63,132,221,161,252,2,219,50,160,28,146,110,192,105,90,69,91,183,115,55,213,161,64,95,243,87,7,164,87,69,179,61,18,71,44,92,188,224,49,146,218,182,41,90,211,101,213,212,103,208,38,106,118,12,92,180,31,97,211,0,169,206,29,233,61,126,190,146,198,160,225,119,88,7,199,49,150,86,105,73,52,246,189,66,19,134,228,18,86,174,11,178,241,229,246,186,194,207,168,228,34,134,221,42,134,238,124,197,30,63,12,233,60,98,195,151,198,64,168,83,130,207,220,136,66,183,118,126,108,193,3,246,249,26,147,96,68,177,80,227,158,167,0,46,115,136,53,142,94,219,223,99,165,34,80,26,49,45,40,230,241,190,228,77,5,96,1,99,88,113,82,17,17,241,159,231,72,29,103,195,90,80,53,233,78,207,218,39,4,149,96,214,90,194,50,248,0,41,91,70,172,154,34,214,147,227,26,162,234,86,74,184,240,8,80,23,204,158,244,128,92,18,202,135,35,3,49,222,99,24,68,146,127,255,251,178,104,187,85,15,198,104,204,205,218,88,91,42,157,89,142,76,128,147,110,247,96,65,113,19,78,65,95,218,127,234,57,28,197,6,121,254,71,192,71,47,94,100,75,145,130,144,225,23,149,93,235,13,147,129,188,122,149,126,217,103,198,248,239,23,138,100,141,20,82,176,58,172,206,234,118,213,216,193,100,132,186,255,102,11,20,228,19,135,161,110,56,25,40,230,71,124,106,197,168,4,211,36,97,34,242,40,11,252,36,5,145,230,5,72,46,193,195,236,165,108,191,3,68,55,22,11,86,215,170,33,174,4,28,205,139,246,227,171,70,101,59,113,150,152,10,206,149,199,143,106,27,250,11,111,234,172,131,9,25,214,105,11,91,254,19,133,129,239,179,14,121,86,78,68,95,75,45,24,10,185,23,93,81,178,115,236,223,152,76,2,42,161,61,253,137,222,82,78,94,124,138,178,49,203,32,234,125,96,97,31,29,146,193,230,103,169,16,26,176,161,140,236,44,199,242,107,37,167,244,65,239,185,52,108,125,124,229,193,176,165,17,148,206,31,171,57,135,247,22,177,44,11,66,99,48,68,13,70,187,138,45,219,129,3,85,28,157,241,250,231,136,212,206,152,123,252,14,19,111,16,220,88,27,66,244,137,208,131,220,155,151,254,96,166,171,255,251,53,207,32,54,202,69,172,192,159,39,26,139,97,53,13,50,23,61,230,139,69,130,76,240,185,223,73,110,47,47,212,133,192,219,207,145,96,32,35,29,186,176,179,113,220,88,58,171,37,14,23,82,43,236,249,204,194,34,38,0,227,176,83,196,122,66,171,106,14,116,104,203,110,178,248,93,44,183,192,50,4,236,35,184,221,24,106,152,113,19,89,75,182,76,12,251,76,18,42,160,35,182,148,29,184,32,148,13,30,109,105,65,36,60,131,245,27,116,61,54,252,244,145,217,215,138,41,205,110,156,2,192,199,125,98,21,168,128,246,90,138,42,94,180,6,26,241,15,224,141,231,197,103,57,199,176,247,12,244,240,228,95,7,59,29,206,68,201,73,253,40,168,97,52,84,116,114,241,32,39,85,52,254,13,47,231,223,30,201,84,14,6,226,218,66,194,20,43,103,174,91,49,127,89,10,115,222,198,250,231,172,136,14,96,169,66,165,202,108,64,21,7,255,229,35,2,14,151,32,0,23,5,30,147,100,149,121,52,27,140,48,206,197,94,147,22,6,65,129,74,116,214,46,236,96,23,144,151,62,48,72,158,185,103,184,240,193,221,151,113,207,72,208,235,78,36,196,103,108,202,149,81,33,13,118,211,129,125,142,232,255,221,195,9,214,171,38,196,72,233,252,105,12,67,161,242,53,202,90,191,26,189,234,70,34,153,117,101,43,206,22,115,217,245,64,43,126,60,148,228,121,253,94,185,154,153,221,88,78,226,207,45,54,66,38,21,89,251,212,225,183,90,81,227,204,127,95,204,143,198,78,132,162,215,219,117,225,76,177,13,103,18,17,72,13,51,107,255,252,218,216,237,55,254,126,65,11,115,142,16,47,7,42,227,220,249,152,79,213,190,161,214,74,119,59,34,204,212,87,198,44,2,218,77,248,202,33,33,198,85,45,246,69,219,117,168,250,254,244,89,79,241,11,105,109,55,254,146,35,87,133,49,174,68,107,215,159,40,140,76,208,201,202,248,142,27,39,130,29,239,245,179,241,143,40,113,222,184,28,250,42,233,138,64,109,146,132,142,99,66,4,36,23,24,178,128,228,190,88,106,180,245,21,30,27,8,197,63,166,223,217,201,70,218,243,18,205,199,2,58,222,69,230,238,222,54,58,140,200,251,58,165,26,51,129,225,158,85,250,107,211,133,54,146,214,131,134,157,111,238,255,166,39,237,77,232,63,52,189,69,50,90,171,153,2,153,12,163,255,121,175,101,34,86,119,172,73,175,186,23,171,214,21,65,243,134,120,95,189,92,94,52,65,126,50,79,168,164,202,227,59,109,28,37,121,208,253,194,96,47,14,34,95,65,67,180,252,246,58,163,117,186,230,248,30,246,55,101,193,136,183,168,183,199,59,117,41,33,199,237,64,14,201,215,221,157,176,46,235,27,255,242,31,35,243,213,100,226,137,107,107,88,251,208,187,181,91,43,99,79,179,108,140,63,176,138,82,10,160,200,118,89,166,10,225,224,209,215,108,119,51,237,85,16,136,107,239,7,149,199,219,30,6,75,94,228,216,153,179,36,226,33,25,118,208,60,45,138,168,190,127,83,88,168,86,234,30,112,127,28,142,247,202,245,185,203,47,117,148,81,113,120,16,38,7,229,246,58,40,114,56,135,35,198,110,45,0,149,34,178,169,61,42,95,50,128,98,94,53,59,55,41,0,60,6,17,164,142,196,235,222,91,187,214,136,164,51,232,57,234,202,199,105,137,134,185,69,3,81,211,132,65,255,175,47,109,18,51,72,123,40,64,177,54,174,163,187,108,208,173,137,124,245,168,195,221,169,88,46,3,133,157,165,203,162,105,150,46,38,153,113,201,22,254,183,17,183,94,119,192,99,150,130,240,198,132,249,46,78,165,5,193,6,152,165,28,164,91,165,58,47,62,200,57,14,5,106,129,85,135,190,239])};e.exports=n},292:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(58),i=n.n(r),s=(n(141),n(8)),l=n(9),c=n(2),u=n(11),d=n(10),h=(n(65),n(142),n(7)),m=n(61),p=n(6),g=function(e){var t=e.component,n=Object(m.a)(e,["component"]);return a.a.createElement(p.b,Object.assign({},n,{render:function(e){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=Object.assign.apply(Object,[{}].concat(n));return a.a.createElement(e,r)}(t,e,n)}}))},f=n(118),b=(n(147),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"component",style:{marginLeft:"0.3em"}},a.a.createElement("h2",{style:{clear:"both"}},"Hi, I'm Edison"),a.a.createElement("div",null,"Say ",a.a.createElement("b",null,'"Hey Edison"')," or click on the microphone to trigger me,  then ask a question. I turn ",a.a.createElement("b",null,"Green")," when I'm listening. "),a.a.createElement("div",null,"Ask me a question and I'll do my best to answer. Click or say the examples below."),a.a.createElement("div",{style:{marginTop:"0.5em",clear:"both"},className:"helpSampleButtons"},a.a.createElement(f.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},"What's the date"),a.a.createElement(f.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},'Define the word "colloquial"'),a.a.createElement(f.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},"Tell me about celery")),a.a.createElement("div",{style:{marginTop:"0.5em",clear:"both"},className:"helpSampleButtons"},a.a.createElement(f.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},"What's the capital of Australia"),a.a.createElement(f.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},'Spell the word "fuzy"'),a.a.createElement(f.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},"Search youtube for funny cats"),a.a.createElement(f.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},"Show me a picture of a motorbike"),a.a.createElement(f.a,{variant:"primary",onClick:function(t){e.props.sendMessage(t.target.innerText)}},"What are some synonyms for weak")),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("div",{className:"helpSampleButtons"},a.a.createElement("div",{style:{clear:"both"}},"As we chat I'll suggest some follow up questions in the top menu."),a.a.createElement("div",{className:"helpSampleButtons"},a.a.createElement(f.a,{variant:"secondary"},"And what's the population"),a.a.createElement(f.a,{variant:"secondary"},"Tell me more")),a.a.createElement("br",null)," ",a.a.createElement("br",null),"  ",a.a.createElement("br",null),a.a.createElement("hr",null),a.a.createElement("div",{style:{clear:"both"}},"I can also help you fill in the answers of crosswords by speaking. (You need to be looking at the crossword for this to work.)"),a.a.createElement(f.a,{variant:"secondary"},"One across is Canberra"),a.a.createElement("br",null),"     ",a.a.createElement("div",{style:{clear:"both"}},"With all that information at hand, lets see if you can solve a crossword"),a.a.createElement(h.b,{to:"/crossword"},a.a.createElement(f.a,{variant:"success",size:"lg"},"Start a crossword"))),a.a.createElement("br",null)," ",a.a.createElement("br",null),"  ",a.a.createElement("br",null),a.a.createElement("hr",null),a.a.createElement("div",{style:{clear:"both"}},"I'm still learning to speak your language. If I make a mistake you can update your question with the tools at the top of the page.",a.a.createElement("br",null),a.a.createElement("b",null,"Select some text from your question and then press one of the buttons to update the search values."),a.a.createElement("br",null),"As well as getting to the information you want, your updates will be integrated to improve the language models so we get it right next time."),a.a.createElement("br",null),"  ",a.a.createElement("br",null),"  ",a.a.createElement("br",null),a.a.createElement("br",null),"  ",a.a.createElement("br",null),"  ",a.a.createElement("br",null),a.a.createElement("br",null),"  ",a.a.createElement("br",null),"  ",a.a.createElement("br",null))}}]),n}(o.Component)),v=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"component homePageComponent"},a.a.createElement(b,{sendMessage:this.props.sendMessage}))}}]),n}(o.Component),y=n(19),w=a.a.createContext({focused:!1,selectedDirection:null,selectedNumber:null}),E=a.a.createContext({cellSize:0,cellPadding:0,cellInner:0,cellHalf:0,fontSize:0});function C(e){var t=e.cellData,n=e.onClick,r=e.focus,i=e.highlight,s=Object(o.useContext)(E),l=s.cellSize,c=s.cellPadding,u=s.cellInner,d=s.cellHalf,h=s.fontSize,m=Object(o.useContext)(y.a),p=m.cellBackground,g=m.cellBorder,f=m.textColor,b=m.numberColor,v=m.focusBackground,w=m.highlightBackground,C=Object(o.useCallback)((function(e){e.preventDefault(),n&&n(t)}),[t,n]),O=t.row,S=t.col,k=t.guess,j=t.number,N=S*l,x=O*l;return a.a.createElement("g",{onClick:C,style:{cursor:"default",fontSize:"".concat(h,"px")}},a.a.createElement("rect",{x:N+c,y:x+c,width:u,height:u,fill:r?v:i?w:p,stroke:g,strokeWidth:l/50}),j&&a.a.createElement("text",{x:N+4*c,y:x+4*c,textAnchor:"start",dominantBaseline:"hanging",style:{fontSize:"50%",fill:b}},j),a.a.createElement("text",{x:N+d,y:x+d+1,textAnchor:"middle",dominantBaseline:"middle",style:{fill:f}},k))}C.defaultProps={focus:!1,highlight:!1,onClick:null};var O=n(42);function S(){var e=Object(O.a)(["\n  cursor: default;\n  background-color: ",";\n"]);return S=function(){return e},e}var k=y.c.div.attrs((function(e){return{className:"clue".concat(e.correct?" correct":"")}}))(S(),(function(e){return e.highlight?e.highlightBackground:"transparent"}));function j(e){var t=e.direction,n=e.number,r=e.children,i=e.correct,s=Object(m.a)(e,["direction","number","children","correct"]),l=Object(o.useContext)(y.a).highlightBackground,c=Object(o.useContext)(w),u=c.focused,d=c.selectedDirection,h=c.selectedNumber,p=c.onClueSelected,g=Object(o.useCallback)((function(e){e.preventDefault(),p&&p(t,n)}),[t,n,p]);return a.a.createElement(k,Object.assign({highlightBackground:l,highlight:u&&t===d&&n===h,correct:i},s,{onClick:g,"aria-label":"clue-".concat(n,"-").concat(t)}),n,": ",r)}function N(e){var t=e.direction,n=e.clues;return a.a.createElement("div",{className:"direction"},a.a.createElement("h3",{className:"header"},t.toUpperCase()),n.map((function(e){var n=e.number,o=e.clue,r=e.correct;return a.a.createElement(j,{key:n,direction:t,number:n,correct:r},o)})))}j.defaultProps={children:void 0,correct:void 0},N.defaultProps={};var x=n(36),T=n(12),A=n(25),M=n(77),P=n(21),I={across:{primary:"col",orthogonal:"row"},down:{primary:"row",orthogonal:"col"}},R=Object.keys(I);function _(e){return"across"===e}function D(e){return _(e)?"down":"across"}function W(e,t){var n,o=I[t],a=0,r=0;return Object.entries(e[t]).forEach((function(e){var t=Object(T.a)(e,2),n=(t[0],t[1]),i=n[o.primary]+n.answer.length-1;i>a&&(a=i);var s=n[o.orthogonal];s>r&&(r=s)})),n={},Object(P.a)(n,o.primary,a),Object(P.a)(n,o.orthogonal,r),n}var L={used:!1,number:null,answer:"",guess:"",locked:!1,across:null,down:null};function F(e,t,n,o){var a=I[o];Object.entries(n[o]).forEach((function(n){for(var r=Object(T.a)(n,2),i=r[0],s=r[1],l=s.row,c=s.col,u=s.clue,d=s.answer,h=0;h<d.length;h++){var m=l+("row"===a.primary?h:0),p=c+("col"===a.primary?h:0),g=e[m][p];g.used=!0,g.answer=d[h],g[o]=i,0===h&&(g.number=i)}t[o].push({number:i,clue:u})})),t[o].sort(B)}function U(e){var t=W(e,"across"),n=W(e,"down"),o=Math.max.apply(Math,Object(M.a)(Object.values(t)).concat(Object(M.a)(Object.values(n))))+1,a=function(e){for(var t=Array(e),n=0;n<e;n++){t[n]=Array(e);for(var o=0;o<e;o++)t[n][o]=Object(x.a)(Object(x.a)({},L),{},{row:n,col:o})}return t}(o),r={across:[],down:[]};return F(a,r,e,"across"),F(a,r,e,"down"),{size:o,gridData:a,clues:r}}function B(e,t){return Number.parseInt(e.number,10)-Number.parseInt(t.number,10)}function Q(e,t){var n=window.localStorage;if(n){var o=function(e){return console.log(e),e.reduce((function(e,t,n){return t.reduce((function(e,t,o){return""!==t.guess&&(e["".concat(n,"_").concat(o)]=t.guess),e}),e)}),{})}(e),a={date:Date.now(),guesses:o};n.setItem(t,JSON.stringify(a))}}function z(e,t){var n=window.localStorage;if(n){var o=n.getItem(t);if(o)!function(e,t){Object.entries(t).forEach((function(t){var n=Object(T.a)(t,2),o=n[0],a=n[1],r=o.split("_"),i=Object(T.a)(r,2),s=i[0],l=i[1];s<=e.length-1&&l<=e[0].length-1&&(e[s][l].guess=a)}))}(e,JSON.parse(o).guesses)}}function G(){var e=Object(O.a)(["\n  padding: 0 1em;\n  flex: 1 2 25%;\n\n  @media (max-width: ",") {\n    margin-top: 2em;\n  }\n\n  .direction {\n    margin-bottom: 2em;\n    /* padding: 0 1em;\n    flex: 1 1 20%; */\n\n    .header {\n      margin-top: 0;\n      margin-bottom: 0.5em;\n    }\n\n    div {\n      margin-top: 0.5em;\n    }\n  }\n"]);return G=function(){return e},e}function H(){var e=Object(O.a)(["\n  /* position: relative; */\n  min-width: 20rem;\n  max-width: 60rem; /* Should the size matter? */\n  width: auto;\n  flex: 2 1 50%;\n"]);return H=function(){return e},e}function J(){var e=Object(O.a)(["\n  margin: 0;\n  padding: 0;\n  border: 0;\n  /* position: relative; */\n  /* width: 40%; */\n  display: flex;\n  flex-direction: row;\n\n  @media (max-width: ",") {\n    flex-direction: column;\n  }\n"]);return J=function(){return e},e}var Y={columnBreakpoint:"768px",gridBackground:"rgb(0,0,0)",cellBackground:"rgb(255,255,255)",cellBorder:"rgb(0,0,0)",textColor:"rgb(0,0,0)",numberColor:"rgba(0,0,0, 0.25)",focusBackground:"rgb(255,255,0)",highlightBackground:"rgb(255,255,204)"},q=y.c.div.attrs((function(e){return{className:"crossword".concat(e.correct?" correct":"")}}))(J(),(function(e){return e.theme.columnBreakpoint})),V=y.c.div.attrs((function(e){return{className:"grid"}}))(H()),K=y.c.div.attrs((function(e){return{className:"clues"}}))(G(),(function(e){return e.theme.columnBreakpoint})),X=a.a.forwardRef((function(e,t){var n=e.data,r=e.onCorrect,i=e.onLoadedCorrect,s=e.onCrosswordCorrect,l=e.onCellChange,c=e.useStorage,u=e.theme,d=e.storageKey,h=d||"guesses",m=Object(o.useState)(null),p=Object(T.a)(m,2),g=p[0],f=p[1],b=Object(o.useState)(null),v=Object(T.a)(b,2),O=v[0],S=v[1],k=Object(o.useState)(null),j=Object(T.a)(k,2),M=j[0],P=j[1],I=Object(o.useState)(!1),W=Object(T.a)(I,2),L=W[0],F=W[1],B=Object(o.useState)(0),G=Object(T.a)(B,2),H=G[0],J=G[1],X=Object(o.useState)(0),$=Object(T.a)(X,2),Z=$[0],ee=$[1],te=Object(o.useState)("across"),ne=Object(T.a)(te,2),oe=ne[0],ae=ne[1],re=Object(o.useState)("1"),ie=Object(T.a)(re,2),se=ie[0],le=ie[1],ce=Object(o.useState)(null),ue=Object(T.a)(ce,2),de=ue[0],he=ue[1],me=Object(o.useState)([]),pe=Object(T.a)(me,2),ge=pe[0],fe=pe[1],be=Object(o.useState)(!1),ve=Object(T.a)(be,2),ye=ve[0],we=ve[1],Ee=Object(o.useRef)(),Ce=Object(o.useContext)(y.a),Oe=Object(o.useCallback)((function(e,t){return e>=0&&e<g&&t>=0&&t<g?O[e][t]:{row:e,col:t,used:!1,outOfBounds:!0}}),[g,O]),Se=Object(o.useCallback)((function(e,t,n){var o=Oe(e,t);o.used&&o.guess!==n&&(S(Object(A.a)((function(o){o[e][t].guess=n}))),fe(Object(A.a)((function(n){n.push({row:e,col:t})}))),l&&l(e,t,n))}),[Oe,l]),ke=Object(o.useCallback)((function(e,t,n){r&&r(e,t,n)}),[r]),je=Object(o.useCallback)((function(e,t){var o=Oe(e,t);R.forEach((function(e){var t=_(e),a=o[e];if(a){var r=n[e][a],i=o.guess===o.answer;if(i)for(var s=0;s<r.answer.length;s++){if(Oe(r.row+(t?0:s),r.col+(t?s:0)).guess!==r.answer[s]){i=!1;break}}P(Object(A.a)((function(t){t[e].find((function(e){return e.number===a})).correct=i}))),i&&ke(e,a,r.answer)}}))}),[Oe]);Object(o.useEffect)((function(){0!==ge.length&&(ge.forEach((function(e){var t=e.row,n=e.col;return je(t,n)})),fe([]))}),[ge,je]),Object(o.useEffect)((function(){we(M&&R.every((function(e){return M[e].every((function(e){return e.correct}))})))}),[M]),Object(o.useEffect)((function(){s&&s(ye)}),[ye,s]);var Ne=Object(o.useCallback)((function(){Ee.current&&(Ee.current.focus(),F(!0))}),[]),xe=Object(o.useCallback)((function(e,t,n){var o=null!==n&&void 0!==n?n:oe,a=Oe(e,t);return!!a.used&&(a[o]||(o=D(o)),J(e),ee(t),ae(o),le(a[o]),a)}),[Oe]),Te=Object(o.useCallback)((function(e,t){var n;return 0!==e&&0===t?n="down":0===e&&0!==t&&(n="across"),xe(H+e,Z+t,n)}),[H,Z,xe]),Ae=Object(o.useCallback)((function(){var e=_(oe);Te(e?0:1,e?1:0)}),[oe,Te]),Me=Object(o.useCallback)((function(){var e=_(oe);Te(e?0:-1,e?-1:0)}),[oe,Te]),Pe=Object(o.useCallback)((function(e){Se(H,Z,e.toUpperCase()),Ae()}),[H,Z,Se,Ae]),Ie=Object(o.useCallback)((function(e){if(!(e.ctrlKey||e.altKey||e.metaKey)){var t=!0,o=e.key;switch(o){case"ArrowUp":Te(-1,0);break;case"ArrowDown":Te(1,0);break;case"ArrowLeft":Te(0,-1);break;case"ArrowRight":Te(0,1);break;case" ":case"Tab":var a=D(oe),r=Oe(H,Z);r[a]&&(ae(a),le(r[a]));break;case"Backspace":case"Delete":Se(H,Z,""),"Backspace"===o&&Me();break;case"Home":case"End":var i=n[oe][se],s=i.answer.length,l=i.row,c=i.col;if("End"===o)_(oe)?c+=s-1:l+=s-1;xe(l,c);break;default:if(1!==o.length){t=!1;break}Pe(o)}t&&e.preventDefault()}}),[n,H,Z,oe,se,Oe,Se,Te]),Re=Object(o.useCallback)((function(e){e.preventDefault(),he(e.target.value)}),[]);Object(o.useEffect)((function(){de&&(Pe(de[0]),he(1===de.length?null:de.substring(1)))}),[de,Pe]),Object(o.useEffect)((function(){var e,t=U(n),o=t.size,a=t.gridData,r=t.clues;c&&(z(a,h),(e=function(e,t){var n=[];return R.forEach((function(o){var a=_(o);Object.entries(e[o]).forEach((function(e){for(var r=Object(T.a)(e,2),i=r[0],s=r[1],l=s.row,c=s.col,u=!0,d=0;d<s.answer.length;d++){var h=a?c+d:c;if(t[a?l:l+d][h].guess!==s.answer[d]){u=!1;break}}u&&n.push([o,i,s.answer])}))})),n}(n,a)).forEach((function(e){var t=Object(T.a)(e,2),n=t[0],o=t[1];r[n].find((function(e){return e.number===o})).correct=!0}))),f(o),S(a),P(r),J(0),ee(0),ae("across"),le("1"),he(null),e&&e.length>0&&i&&i(e)}),[n,i,c]),Object(o.useEffect)((function(){null!==O&&c&&Q(O,h)}),[O,c]);var _e=Object(o.useCallback)((function(e){var t=e.row,n=e.col,o=D(oe);J(t),ee(n);var a=oe;(!e[oe]||L&&t===H&&n===Z&&e[o])&&(ae(o),a=o),le(e[a]),Ne()}),[L,H,Z,oe,Ne]),De=Object(o.useCallback)((function(e){var t=D(oe),n=Oe(H,Z),o=oe;L&&n[t]&&(ae(t),o=t),le(n[o]),Ne()}),[oe,H,Z,Oe,Ne]),We=Object(o.useCallback)((function(e,t){var o=n[e][t];xe(o.row,o.col,e),Ne()}),[n,xe,Ne]);Object(o.useImperativeHandle)(t,(function(){return{focus:function(){Ne()},reset:function(){S(Object(A.a)((function(e){e.forEach((function(e){e.forEach((function(e){e.used&&(e.guess="")}))}))}))),P(Object(A.a)((function(e){R.forEach((function(t){e[t].forEach((function(e){delete e.correct}))}))}))),c&&function(e){window.localStorage&&window.localStorage.removeItem(e)}(h)},fillAnswer:function(e,t,o){if(S(Object(A.a)((function(n){n.forEach((function(n){n.forEach((function(n){n.used&&("across"===e?n.across===t.toString()&&(n.guess=n.answer):"down"===e&&n.down===t.toString()&&(n.guess=n.answer))}))}))}))),P(Object(A.a)((function(e){R.forEach((function(t){e[t].forEach((function(e){e.correct=!0}))}))}))),i){var a=[];R.forEach((function(e){Object.entries(n[e]).forEach((function(t){var n=Object(T.a)(t,2),o=n[0],r=n[1];a.push([e,o,r.answer])}))})),i(a)}},fillAllAnswers:function(){if(S(Object(A.a)((function(e){e.forEach((function(e){e.forEach((function(e){e.used&&(e.guess=e.answer)}))}))}))),P(Object(A.a)((function(e){R.forEach((function(t){e[t].forEach((function(e){e.correct=!0}))}))}))),i){var e=[];R.forEach((function(t){Object.entries(n[t]).forEach((function(n){var o=Object(T.a)(n,2),a=o[0],r=o[1];e.push([t,a,r.answer])}))})),i(e)}},isCrosswordCorrect:function(){return ye}}}),[n,i,c,Ne,ye]);var Le=100/g,Fe=Le-.25,Ue=Le/2,Be=.7*Fe,Qe={focused:L,selectedDirection:oe,selectedNumber:se,onClueSelected:We},ze=Object(x.a)(Object(x.a)(Object(x.a)({},Y),Ce),u),Ge=[];return O&&O.forEach((function(e,t){e.forEach((function(e,n){e.used&&Ge.push(a.a.createElement(C,{key:"R".concat(t,"C").concat(n),cellData:e,focus:L&&t===H&&n===Z,highlight:L&&se&&e[oe]===se,onClick:_e}))}))})),a.a.createElement(w.Provider,{value:Qe},a.a.createElement(E.Provider,{value:{cellSize:Le,cellPadding:.125,cellInner:Fe,cellHalf:Ue,fontSize:Be}},a.a.createElement(y.b,{theme:ze},a.a.createElement(q,{correct:ye},a.a.createElement(V,null,a.a.createElement("div",{style:{margin:0,padding:0,position:"relative"}},a.a.createElement("svg",{viewBox:"0 0 100 100"},a.a.createElement("rect",{x:0,y:0,width:100,height:100,fill:ze.gridBackground}),Ge),a.a.createElement("input",{ref:Ee,"aria-label":"crossword-input",type:"text",onClick:De,onKeyDown:Ie,onChange:Re,value:"",autoComplete:"off",spellCheck:"false",autoCorrect:"off",style:{position:"absolute",top:"calc(".concat(H*Le*.995,"% + 2px)"),left:"calc(".concat(Z*Le,"% + 2px)"),width:"calc(".concat(Le,"% - 4px)"),height:"calc(".concat(Le,"% - 4px)"),fontSize:"".concat(6*Be,"px"),textAlign:"center",textAnchor:"middle",backgroundColor:"transparent",caretColor:"transparent",margin:0,padding:0,border:0,cursor:"default"}}))),a.a.createElement(K,null,M&&R.map((function(e){return a.a.createElement(N,{key:e,direction:e,clues:M[e]})}))),a.a.createElement("br",null),"  ",a.a.createElement("br",null),"  ",a.a.createElement("br",null),a.a.createElement("br",null),"  ",a.a.createElement("br",null),"  ",a.a.createElement("br",null)))))}));X.displayName="Crossword",X.defaultProps={theme:null,useStorage:!0,onCorrect:null,onLoadedCorrect:null,onCrosswordCorrect:null,onCellChange:null};var $=X,Z={across:{},down:{}},ee=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={_id:"",title:"",data:Z,forcereload:0},o.onCorrect=o.onCorrect.bind(Object(c.a)(o)),o.onLoadedCorrect=o.onLoadedCorrect.bind(Object(c.a)(o)),o.onCrosswordCorrect=o.onCrosswordCorrect.bind(Object(c.a)(o)),o.onCellChange=o.onCellChange.bind(Object(c.a)(o)),o.loadCrossword=o.loadCrossword.bind(Object(c.a)(o)),o}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log(["ATUPmnt",this.props.match]),setTimeout((function(){console.log("TRIGGER"),e.setState({forcereload:23})}),500)}},{key:"componentDidUpdate",value:function(e,t){console.log(["ATUPDATE"]),console.log(t.forcereload),console.log(this.state.forcereload),console.log(e.api.connected),console.log(this.props.api.connected),e.hermodClient.connected==e.hermodClient.connected&&this.state.forcereload==t.forcereload||(console.log(["ATUPDATErea"]),this.loadCrossword())}},{key:"onCorrect",value:function(e){console.log("oncorrect")}},{key:"onLoadedCorrect",value:function(e){console.log("loadedcorrect")}},{key:"onCrosswordCorrect",value:function(e){console.log("crosswordcorrect")}},{key:"onCellChange",value:function(e){console.log("cellchange")}},{key:"loadCrossword",value:function(){console.log("LOADCW");var e=this,t={};try{localStorage.getItem("crosswords")&&(t=JSON.parse(localStorage.getItem("crosswords")))}catch(n){}console.log(this.props),console.log("SEARCHcw"),e.setState({_id:"",data:null,title:""}),this.props.match&&this.props.match.params&&this.props.match.params.id&&this.props.match.params.id.length>0&&(console.log("SEARCHcwISD"+this.props.match.params.id),t.hasOwnProperty(this.props.match.params.id)?e.setState(t[this.props.match.params.id]):(this.props.startWaiting&&this.props.startWaiting(),console.log(this.props.hermodClient),this.props.hermodClient&&this.props.hermodClient.config&&this.props.hermodClient.config.site&&fetch("/api/crossword?id="+this.props.match.params.id+"&site="+this.props.hermodClient.config).then((function(e){return e.json()})).then((function(n){console.log("LOADED CW******************************"),console.log(n);var o={_id:n._id,data:n.data,title:n.title,author:n.author,copyright:n.copyright?n.copyright.replace(/[^\w\s!?]/g,""):"",copyright_link:n.copyright_link,link:n.link};t[n._id]=o,localStorage.setItem("crosswords",JSON.stringify(t)),e.setState(o)})).finally((function(){e.props.stopWaiting&&e.props.stopWaiting()}))),console.log(["SENDMESSAGE",e.props,e.props.api,e.props.site,{slots:[{crossword:e.props.match.params.id}]}]),e.props.api&&e.props.api.client&&e.props.api.client.sendMessage("hermod/"+e.props.site+"/rasa/set_slots",{slots:[{slot:"crossword",value:e.props.match.params.id}]}))}},{key:"render",value:function(){return this.props.match.params.id?a.a.createElement("div",{className:"componentd dfirst-component",style:{width:"100%"}},a.a.createElement("div",{className:"acontent-block",style:{width:"100%"}},a.a.createElement("a",{style:{float:"left",marginLeft:"0.2em"},target:"_new",href:this.state.link},a.a.createElement(f.a,null,"Download")),a.a.createElement(h.b,{style:{float:"right",marginRight:"0.2em"},to:"/crosswords"},a.a.createElement(f.a,{variant:"success"},"Start a new crossword")),a.a.createElement("h3",{style:{clear:"both",marginRight:"0.2em",width:"100%"}},this.state.title," "),a.a.createElement("div",null),this.state.copyright&&a.a.createElement("span",null,this.state.author&&a.a.createElement("span",null," by ",this.state.author),a.a.createElement("span",null," \xa9 ",a.a.createElement("a",{target:"_new",href:this.state.copyright_link},this.state.copyright))),!this.state.copyright&&a.a.createElement("span",null,this.state.author&&a.a.createElement("span",null," by ",a.a.createElement("a",{target:"_new",href:this.state.copyright_link},this.state.author,">"))),this.state.data&&this.props.hermodClient.connected&&a.a.createElement($,{data:this.state.data,storageKey:"guesses_"+this.props.match.params.ids,ref:this.props.crosswordRef,onCorrect:this.onCorrect,onLoadedCorrect:this.onLoadedCorrect,onCrosswordCorrect:this.onCrosswordCorrect,onCellChange:this.onCellChange}))):a.a.createElement(p.a,{to:"/crosswords"})}}]),n}(o.Component),te=n(123),ne=n.n(te),oe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e="",t="";this.props.hermodClient.isPlaying?(e="green",t="lightblue"):(e="black",t="grey",1===this.props.hermodClient.microphoneState?(e="green",t="grey"):2===this.props.hermodClient.microphoneState&&this.props.hermodClient.hotwordReady?(e="red",t="pink"):3===this.props.hermodClient.microphoneState&&(e="green",t="green"));var n={position:"fixed",top:"0.5em",right:"0.5em",fontSize:"1.2em",backgroundColor:t,border:"2px solid "+e,borderRadius:"2em",height:"4em",width:"4em",textDecoration:"none",outline:"none"},o=a.a.createElement("svg",{style:{position:"fixed",top:"0.9em",right:"0.9em",height:"3.1em",width:"3.1em",padding:"0.3em",zIndex:60},"aria-hidden":"true",id:"micImage",focusable:"false","data-prefix":"fas","data-icon":"microphone",className:"microphoneImage",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},a.a.createElement("path",{fill:"currentColor",d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"}));return a.a.createElement("button",{id:"microphoneButton",onClick:this.props.toggleMicrophone,style:n},a.a.createElement("div",null,this.props.hermodClient.isWaiting&&a.a.createElement("img",{style:{position:"fixed",top:"0.8em",right:"0.8em",height:"3.2em",opacity:.2,zIndex:50},alt:"microphone",id:"waitingOverlay",src:ne.a}),o))}}]),n}(o.Component),ae=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=!1;return this.props.hermodClient.transcript&&this.props.hermodClient.transcript.length>0&&(e=!0),a.a.createElement("div",{style:{position:"fixed",top:"4em",right:"8em",minWidth:"15em",zIndex:99},className:"speechBubbleComponent"},e&&a.a.createElement("div",{style:{position:"relative",background:"#38cedc",borderRadius:".4em",minHeight:"3em",width:"100%",padding:"0.5em",textDecoration:"none",textAlign:"left"},id:"speechbubble",className:"speech-bubble"},a.a.createElement("div",{style:{fontWeight:"bold"}},this.props.hermodClient.transcript),this.props.hermodClient.say&&a.a.createElement("div",null,this.props.hermodClient.say)))}}]),n}(o.Component);var re=function(e){var t=[],n=0,o=function(t){e.sendMessage(t.target.getAttribute("data-message"))},r=function(t){e.showFrame(t.target.getAttribute("data-frame"))},i=function(t){e.showWindow(t.target.getAttribute("data-url"))};for(n in e.buttons)e.buttons[n].text?t.push(a.a.createElement(f.a,{key:n,variant:"primary","data-message":e.buttons[n].text,onClick:o},e.buttons[n].label?e.buttons[n].label:e.buttons[n].text)):e.buttons[n].frame?t.push(a.a.createElement(f.a,{key:n,variant:"primary","data-frame":e.buttons[n].frame,onClick:r},e.buttons[n].label)):e.buttons[n].url&&t.push(a.a.createElement(f.a,{key:n,variant:"primary","data-url":e.buttons[n].url,onClick:i},e.buttons[n].label));return a.a.createElement("span",{style:{float:"left",marginRight:"0.5em",padding:"0.5em"},className:"dynamicButtons",id:"dynamicButtons"},t)},ie=n(297),se=n(296),le=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).getPrettyIntentName=o.getPrettyIntentName.bind(Object(c.a)(o)),o.onIntentChanged=o.onIntentChanged.bind(Object(c.a)(o)),o.onEntityChanged=o.onEntityChanged.bind(Object(c.a)(o)),o.onEntityClicked=o.onEntityClicked.bind(Object(c.a)(o)),o.sendForm=o.sendForm.bind(Object(c.a)(o)),o.sendFormQuestion=o.sendFormQuestion.bind(Object(c.a)(o)),o.onQuestionSelect=o.onQuestionSelect.bind(Object(c.a)(o)),o.onQuestionBlur=o.onQuestionBlur.bind(Object(c.a)(o)),o.onQuestionFocus=o.onQuestionFocus.bind(Object(c.a)(o)),o.onQuestionKeyup=o.onQuestionKeyup.bind(Object(c.a)(o)),o.getQuestionSelection=o.getQuestionSelection.bind(Object(c.a)(o)),o.getQuestionSelectionRange=o.getQuestionSelectionRange.bind(Object(c.a)(o)),o.newEntity=o.newEntity.bind(Object(c.a)(o)),o.addOrUpdateEntityValue=o.addOrUpdateEntityValue.bind(Object(c.a)(o)),o.addOrUpdateEntityType=o.addOrUpdateEntityType.bind(Object(c.a)(o)),o.onEntityDeleted=o.onEntityDeleted.bind(Object(c.a)(o)),o.setQuestionSelection=o.setQuestionSelection.bind(Object(c.a)(o)),o.onEntityListExpanded=o.onEntityListExpanded.bind(Object(c.a)(o)),o.allowIntent=o.allowIntent.bind(Object(c.a)(o)),o.canShowEntity=o.canShowEntity.bind(Object(c.a)(o)),o.questionInput=a.a.createRef(),o.state={selection:"",selectionRange:[0,0]},o.keyupTimeout=null,console.log("NLUFIXER"),console.log(e.api),o.state={changed:!1,questionIsFocussed:!1,showAddButton:!1},o}return Object(l.a)(n,[{key:"getPrettyIntentName",value:function(e){return this.props.intentNames&&this.props.intentNames.hasOwnProperty(e)&&this.props.intentNames[e].length>0?this.props.intentNames[e]:e}},{key:"getPrettyEntityName",value:function(e){return this.props.entityNames&&this.props.entityNames.hasOwnProperty(e)&&this.props.entityNames[e].length>0?this.props.entityNames[e]:e}},{key:"onIntentChanged",value:function(e){var t=JSON.parse(this.props.hermodClient.nlu_json_original);console.log(["ON INTENT CHANGED",e.target.attributes.value.textContent,t]),t.intent.name=e.target.attributes.value.textContent,this.props.api.setNluJson(t),this.setState({changed:!0})}},{key:"onEntityClicked",value:function(e){console.log(["ON ENTITY CLICKED",e.target.attributes.value.textContent]),this.state.selection?this.addOrUpdateEntityValue(e.target.attributes.value.textContent,this.state.selection):this.setQuestionSelection(e.target.attributes.start.textContent,e.target.attributes.end.textContent)}},{key:"onEntityListExpanded",value:function(e){this.state.selection&&this.addOrUpdateEntityValue(e.target.attributes.value.textContent,this.state.selection)}},{key:"onEntityChanged",value:function(e){console.log(["ON ENTITY CHANGED",this,e]),console.log(["ON ENTITY CHANGED",e.target.attributes.value.textContent,e.target.attributes.oldvalue.textContent]),this.addOrUpdateEntityType(e.target.attributes.oldvalue.textContent,e.target.attributes.value.textContent,this.state.selection)}},{key:"onEntityDeleted",value:function(e){if(console.log(["ON ENTITY DEL",e.target]),e.target.attributes.value&&e.target.attributes.value.textContent){var t=e.target.attributes.value.textContent,n=this.props.hermodClient.nlu_json,o=this.props.hermodClient.nlu_json.entities,a=[];for(var r in o)o[r].entity!=t&&a.push(o[r]);console.log(["ON INTENT del",a]),n.entities=a,this.props.api.setNluJson(n),this.setState({changed:!0,selection:"",selectionRange:[0,0]})}}},{key:"addOrUpdateEntityType",value:function(e,t,n){console.log("ADDOR UPDATE ENTITY type"),console.log([e,t,n]);var o=this.props.hermodClient.nlu_json,a=this.props.hermodClient.nlu_json.entities,r=!1;for(var i in a)a[i].entity==e&&(r=!0,a[i].entity=t,n&&(a[i].value=n));if(!r){var s=this.state.selectionRange;a.push({entity:t,start:s[0],end:s[1],value:this.state.selection})}console.log(["ON INTENT CHANGED",a]),o.entities=a,this.props.api.setNluJson(o),this.setState({changed:!0,selection:"",selectionRange:[0,0],showAddButton:!1})}},{key:"addOrUpdateEntityValue",value:function(e,t){if(console.log("ADDOR UPDATE ENTITY"),console.log([e,t]),t){var n=this.props.hermodClient.nlu_json,o=this.props.hermodClient.nlu_json.entities,a=!1;for(var r in o)o[r].entity==e&&(a=!0,o[r].value=t);if(!a){var i=this.state.selectionRange;o.push({entity:e,start:i[0],end:i[1],value:this.state.selection})}console.log(["ON INTENT CHANGED",o]),n.entities=o,this.props.api.setNluJson(n),this.setState({changed:!0,selection:"",selectionRange:[0,0],showAddButton:!1})}}},{key:"newEntity",value:function(e){if(console.log("NEWENTITY"),e.target.attributes.value&&e.target.attributes.value.textContent){var t=e.target.attributes.value.textContent;console.log(t);var n=this.props.hermodClient.nlu_json,o=this.props.hermodClient.nlu_json.entities,a=[];for(var r in o)o[r].entity!=t&&a.push(o[r]);var i=this.state.selectionRange;a.push({entity:t,start:i[0],end:i[1],value:this.state.selection}),console.log(["ON INTENT CHANGED",a]),n.entities=a,this.props.api.setNluJson(n),this.setState({changed:!0,selection:"",selectionRange:[0,0]})}}},{key:"allowIntent",value:function(e){return!this.props.allowedIntents||e in this.props.allowedIntents}},{key:"canShowEntity",value:function(e,t){return!0}},{key:"render",value:function(){var e=this;if(this.props.hermodClient){var t,n=this.props.hermodClient&&this.props.hermodClient.nlu_json&&this.props.hermodClient.nlu_json.intent&&this.props.hermodClient.nlu_json.intent.name?this.props.hermodClient.nlu_json.intent.name:"",o=this.props.hermodClient&&this.props.hermodClient.nlu_json&&this.props.hermodClient.nlu_json.entities?this.props.hermodClient.nlu_json.entities:[],r={};for(var i in o)r[o[i].entity]=o[i];var s=[a.a.createElement("option",{key:-1,value:""})],l=null;if(e.props.hermodClient.question&&this.props.hermodClient.domain&&this.props.hermodClient.domain.entities){var c=[a.a.createElement("option",{key:-1,value:""})],u={};for(var d in this.props.hermodClient.nlu_json.intent_ranking){var h=this.props.hermodClient.nlu_json.intent_ranking[d].name;c.push(a.a.createElement(ie.a.Item,{key:d,value:h,onClick:function(t){e.onIntentChanged(t)}},this.getPrettyIntentName(h))),u[h]=!0}for(var d in this.props.hermodClient.domain.intents){var m=this.props.hermodClient.domain.intents[d];m[h=Object.keys(m)[0]];u.hasOwnProperty(h)||c.push(a.a.createElement(ie.a.Item,{key:d+this.props.hermodClient.domain.intents.length,value:h,onClick:function(t){e.onIntentChanged(t)}},this.getPrettyIntentName(h)))}for(var d in this.props.hermodClient.domain.entities){var p=this.props.hermodClient.domain.entities[d];s.push(a.a.createElement(ie.a.Item,{key:d,value:p,onClick:function(t){e.onEntityChanged(t)}},this.getPrettyEntityName(p)))}var g=[];for(var d in this.props.hermodClient.domain.entities){p=this.props.hermodClient.domain.entities[d];var b=[];for(var v in this.props.hermodClient.domain.entities){var y=this.props.hermodClient.domain.entities[v];this.canShowEntity(n,y)&&(p!==y?b.push(a.a.createElement(ie.a.Item,{key:v,oldvalue:p,value:y,onClick:function(t){e.onEntityChanged(t)}},this.getPrettyEntityName(y))):b.push(a.a.createElement(ie.a.Item,{style:{backgroundColor:"lightgrey",fontWeight:"bold"},key:v,oldvalue:p,value:y,onClick:function(t){e.onEntityChanged(t)}},this.getPrettyEntityName(y))))}b.push(a.a.createElement(ie.a.Divider,{key:v+1})),b.push(a.a.createElement(ie.a.Item,{key:v+2},a.a.createElement(f.a,{value:p,onClick:function(t){e.onEntityDeleted(t)},className:"btn btn-danger"},"Delete"))),r.hasOwnProperty(p)&&g.push(a.a.createElement(ie.a,{key:d,style:{border:"1px solid #6a4077",marginLeft:"0.3em",backgroundColor:"#c88eda",zIndex:1},as:se.a},a.a.createElement(ie.a.Toggle,{split:!0,style:{marginLeft:"0.3em",backgroundColor:"#c88eda",border:"none"},size:"sm",id:"dropdown-split-basic"}),a.a.createElement(f.a,{onClick:function(t){e.onEntityClicked(t)},value:p,start:r[p].start,end:r[p].end,style:{marginLeft:"0.3em",backgroundColor:"#c88eda",border:"none"},size:"sm"},r[p].value),a.a.createElement(ie.a.Menu,null,b)))}var w=[];for(var d in this.props.hermodClient.domain.entities){y=this.props.hermodClient.domain.entities[d];w.push(a.a.createElement(ie.a.Item,{key:d,oldvalue:p,value:y,onClick:function(t){e.newEntity(t)}},"\xa0",this.getPrettyEntityName(y),"\xa0"))}l=a.a.createElement("form",{onSubmit:function(){return!1},style:{display:"inline"}},n&&a.a.createElement(ie.a,{key:d,style:{clear:"both",border:"1px solid #6a4077",marginLeft:"0.3em",backgroundColor:"#c88eda",zIndex:1},as:se.a},a.a.createElement(ie.a.Toggle,{split:!0,style:{marginLeft:"0.3em",backgroundColor:"#c88eda",border:"none"},size:"sm",id:"dropdown-split-basic"},n),a.a.createElement(ie.a.Menu,null,c)),g,this.state.showAddButton&&this.state.selection&&a.a.createElement(ie.a,{show:!0,style:{border:"1px solid #6a4077",marginLeft:"0.3em",backgroundColor:"#c88eda",zIndex:1},as:se.a},a.a.createElement(ie.a.Toggle,{split:!0,style:{marginLeft:"0.3em",backgroundColor:"#c88eda",border:"none"},size:"sm",id:"dropdown-split-basic"}),a.a.createElement(ie.a.Menu,null,w)),this.state.changed&&a.a.createElement(f.a,{onClick:this.sendForm,className:"btn",size:"sm",style:{marginLeft:"1em",backgroundColor:"#82b77c"}},"Try Again"))}return a.a.createElement("div",{style:{height:"1em",textAlign:"left"},className:"nluFixerComponent"},a.a.createElement("div",{style:{float:"left",marginLeft:"0.5em",marginRight:"0.5em",clear:"both",width:"90%"}},a.a.createElement("form",{style:{clear:"both"},onSubmit:e.sendFormQuestion},a.a.createElement("input",(t={style:{clear:"both"},ref:e.questionInput,onKeyUp:this.onQuestionKeyup,onFocus:this.onQuestionFocus,onBlur:this.onQuestionBlur,onSelect:this.onQuestionSelect},Object(P.a)(t,"style",{fontSize:"1.3em",width:"100%"}),Object(P.a)(t,"id","text_input"),Object(P.a)(t,"type","text"),Object(P.a)(t,"value",e.props.hermodClient.question),Object(P.a)(t,"onChange",e.props.setQuestion),Object(P.a)(t,"placeholder","Ask a question"),t)))),l)}return null}},{key:"sendFormQuestion",value:function(e){if(console.log("SEMD FORM q"),e.preventDefault(),this.props.hermodClient&&this.props.hermodClient.question){var t={text:this.props.hermodClient.question};console.log(["SEMD FORM q real",t]),this.props.api.client.sendMessage("hermod/"+this.props.hermodClient.config.site+"/asr/text",t)}return!1}},{key:"sendForm",value:function(e){if(console.log("SEMD FORM"),console.log(this.props.hermodClient),this.props.hermodClient&&this.props.hermodClient.nlu_json&&this.props.hermodClient.nlu_json.id){var t=this.props.hermodClient.nlu_json;e.preventDefault(),console.log(["SEMD FORM real",{id:t.id,query:t}]),this.props.api.client.sendMessage("hermod/"+this.props.hermodClient.config.site+"/nlu/intent",t)}return!1}},{key:"getQuestionSelection",value:function(e){var t=e.target.value.substring(e.target.selectionStart,e.target.selectionEnd);return t||""}},{key:"setQuestionSelection",value:function(e,t){console.log(["SET SELECTION",e,t]);var n=this.questionInput.current;console.log(["SET SELECTION",n]),n&&(console.log("SETRANGE"),this.createSelection(n,e,t))}},{key:"createSelection",value:function(e,t,n){if(e.createTextRange){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",t),o.moveEnd("character",n-t),o.select()}else e.setSelectionRange?e.setSelectionRange(t,n):e.selectionStart&&(e.selectionStart=t,e.selectionEnd=n);e.focus()}},{key:"getQuestionSelectionRange",value:function(e){return[e.target.selectionStart?e.target.selectionStart:0,e.target.selectionEnd?e.target.selectionEnd:0]}},{key:"onQuestionSelect",value:function(e){console.log("SELECT"),console.log(e.target.value),console.log([e.target.selectionStart,e.target.selectionEnd,this.getQuestionSelection(e)]),this.setState({selection:this.getQuestionSelection(e),selectionRange:this.getQuestionSelectionRange(e),showAddButton:!0})}},{key:"onQuestionBlur",value:function(e){console.log("BLUR"),console.log(e.target.value),console.log([e.target.selectionStart,e.target.selectionEnd]),this.setState({questionIsFocussed:!1,showAddButton:!1})}},{key:"onQuestionFocus",value:function(e){console.log("FOCUS"),console.log(e.target.value),console.log([e.target.selectionStart,e.target.selectionEnd]),this.setState({questionIsFocussed:!0})}},{key:"onQuestionKeyup",value:function(e){console.log("KEYUP")}}]),n}(o.Component),ce=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"hermodHeader",style:{backgroundColor:"#b5a5f3",minHeight:"9em",width:"100%",top:0,left:0,position:"fixed"}},a.a.createElement(oe,{hermodClient:this.props.hermodClient,toggleMicrophone:this.props.toggleMicrophone}),a.a.createElement(ae,{hermodClient:this.props.hermodClient}),a.a.createElement("div",{id:"buttons",style:{float:"left",marginRight:"0.5em",padding:"0.5em"}},a.a.createElement("span",{className:"fixedButtons",id:"fixedButtons",style:{float:"left",marginRight:"0.5em"}},a.a.createElement(h.b,{to:"/"},a.a.createElement(f.a,{style:{float:"left"},variant:"secondary",size:"lg"},"Home")),this.props.hermodClient.slots&&this.props.hermodClient.slots.crossword&&a.a.createElement(h.b,{to:"/crossword/"+this.props.hermodClient.slots.crossword},a.a.createElement(f.a,{style:{marginLeft:"0.3em",float:"left"},variant:"secondary"},"Crossword")),!(this.props.hermodClient.slots&&this.props.hermodClient.slots.crossword)&&a.a.createElement(h.b,{to:"/crosswords"},a.a.createElement(f.a,{style:{marginLeft:"0.3em",float:"left"},variant:"secondary"},"Crossword"))),a.a.createElement(re,{buttons:this.props.hermodClient.buttons,sendMessage:this.props.sendMessage,showFrame:this.props.showFrame,showWindow:this.props.showWindow})),a.a.createElement("div",{style:{float:"left",marginLeft:"0.5em",marginRight:"0.5em",clear:"both",width:"90%"}},a.a.createElement(le,{intents:[],entities:[],hermodClient:this.props.hermodClient,api:this.props.api,setQuestion:this.props.setQuestion})))}}]),n}(o.Component);n(149);var ue=function(e){var t=[],n=0;for(n in e.slots)e.slots[n]&&e.slots[n].length>0&&t.push(a.a.createElement(f.a,{key:n,variant:"light"},n," ",e.slots[n]));return a.a.createElement("div",{style:{float:"left",marginRight:"0.5em",padding:"0.5em",clear:"both"},className:"slotList",id:"slotList"},t)},de=function(e){return a.a.createElement("div",{className:"hermodFooter",style:{overflowY:"scroll",backgroundColor:"rgba(137, 140, 224, 0.81)",textAlign:"left",borderTop:"1px solid black",height:"2.2em",width:"100%",position:"fixed",left:0,bottom:0}},a.a.createElement(h.b,{style:{float:"right",marginRight:"0.8em"},to:"/about"},a.a.createElement(f.a,{style:{float:"left"},variant:"primary",size:"sm"},"About the Software  ")),a.a.createElement("b",{style:{float:"left",marginRight:"0.8em"}},"\xa0\xa0",a.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://github.com/syntithenai/hermod"},"Copyleft Steve Ryan"),"\xa0\xa0"),a.a.createElement("span",{style:{float:"left",marginLeft:"1.8em",color:"#e64848"}},"\xa0\xa0",a.a.createElement("b",null,a.a.createElement("i",null,"WARNING: Your questions are used to improve our language models."))),a.a.createElement(ue,{slots:e.slots}))},he={left:0,top:0,overflowY:"hidden",width:"100%",height:"100%",overflow:"hidden",border:"None"},me=function(e){return e.hermodClient.frame&&e.hermodClient.frame.length>0?a.a.createElement("div",{className:"component iframeComponent",style:{height:"90em"}},a.a.createElement("iframe",{title:"Wikipedia",style:he,src:e.hermodClient.frame})):a.a.createElement(p.a,{to:"/"})},pe=n(130),ge={height:"600",playerVars:{autoplay:1}};function fe(e){}var be=function(e){return e.hermodClient.youtube&&e.hermodClient.youtube.length>0?a.a.createElement("div",{className:"component youtubeComponent"},a.a.createElement(pe.a,{videoId:e.hermodClient.youtube,opts:ge,onReady:fe})):a.a.createElement(p.a,{to:"/"})},ve=function(){return a.a.createElement("div",{className:"component first-component",style:{textAlign:"left",marginLeft:"1em"}},a.a.createElement("h2",null,"About This Software"),a.a.createElement("div",null,"This software is a demonstration for Hermod, a suite of tools for building applications with voice."),a.a.createElement("br",null),a.a.createElement("div",null,"The software is freely available under a FreeBSD Open Source License.",a.a.createElement("br",null)),a.a.createElement("a",{target:"_new",href:"https://github.com/syntithenai/hermod"},"Github"),a.a.createElement("br",null),a.a.createElement("div",null,"Built using",a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("a",{target:"_new",href:"https://rasa.com/docs/rasa/nlu/about/"},"RASA")),a.a.createElement("li",null,a.a.createElement("a",{target:"_new",href:"https://github.com/mozilla/DeepSpeech"},"Deepspeech Voice Recognition")),a.a.createElement("li",null,a.a.createElement("a",{target:"_new",href:"https://picovoice.ai/"},"Picovoice Hotword Recognition")),a.a.createElement("li",null,"and many other open source projects"))),a.a.createElement("div",null,"Help improve Deepspeech",a.a.createElement("br",null),a.a.createElement("a",{target:"_new",href:"https://voice.mozilla.org/en/speak"},a.a.createElement(f.a,{variant:"success"},"Contribute your voice to the Mozilla Open Source Voice Dataset"))),a.a.createElement("br",null),a.a.createElement("div",null,"This software brings together information from",a.a.createElement("ul",null,a.a.createElement("li",null,"Wikipedia, Wiktionary and Wikidata to answer questions ",a.a.createElement("a",{target:"_new",href:"https://donate.wikimedia.org/w/index.php?title=Special:LandingPage&country=AU&uselang=en&utm_medium=donatewiki_page&utm_source=Ways_to_Give&utm_campaign=donate_now_btn"},"Support the Wikimedia Foundation")),a.a.createElement("li",null,"Images from ",a.a.createElement("a",{target:"_new",href:"https://unsplash.com/"},"Unsplash")),a.a.createElement("li",null,"and Videos from ",a.a.createElement("a",{target:"_new",href:"https://youtube.com/"},"Youtube")))))},ye=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){console.log(this.props.images);if(this.props.images&&this.props.images.length>0){for(var e=[],t=0;t<this.props.images.length;t++)e.push(a.a.createElement("span",{key:t},a.a.createElement("img",{alt:this.props.images[t].attribution,src:this.props.images[t].url,style:{width:"90%"}}),a.a.createElement("div",null,this.props.images[t].attribution)));return a.a.createElement("div",{className:"images-list"},e,a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null))}return a.a.createElement(p.a,{to:"/"})}}]),n}(o.Component),we=n(133),Ee=function(e){console.log(e)};var Ce=function(){return a.a.createElement("div",{className:"Login"},a.a.createElement(we.GoogleLogin,{clientId:"589552091078-p6ccsnt8kchep5r46t9hfuti328fofjr.apps.googleusercontent.com",buttonText:"Login",onSuccess:Ee,onFailure:Ee,cookiePolicy:"single_host_origin"}))},Oe=n(63),Se=(n(81),n(161)),ke=Object(p.f)(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={isListening:!1,isSpeaking:!1,isPlaying:!1,microphoneState:0,slots:[],transcript:"",nlu:"",nlu_json:{},say:"",isWaiting:!1,question:"",frame:"",images:[],image:"",buttons:[],connected:!1},o.useAnalytics=!1,o.toggleMicrophone=o.toggleMicrophone.bind(Object(c.a)(o)),o.setQuestion=o.setQuestion.bind(Object(c.a)(o)),o.initClient=o.initClient.bind(Object(c.a)(o)),o.showFrame=o.showFrame.bind(Object(c.a)(o)),o.showWindow=o.showWindow.bind(Object(c.a)(o)),o.analyticsEvent=o.analyticsEvent.bind(Object(c.a)(o)),o.startWaiting=o.startWaiting.bind(Object(c.a)(o)),o.stopWaiting=o.stopWaiting.bind(Object(c.a)(o)),o.sendMessage=o.sendMessage.bind(Object(c.a)(o)),o.navigateTo=o.navigateTo.bind(Object(c.a)(o)),o.setNluJson=o.setNluJson.bind(Object(c.a)(o)),console.log("hc constr"),console.log(o.props.history),o}return Object(l.a)(n,[{key:"navigateTo",value:function(e){console.log("NAV "+e),this.props.history.push(e)}},{key:"initClient",value:function(){var e=this;fetch("/config").then((function(e){return e.json()})).then((function(t){var n="ws://";"https:"===window.location.protocol&&(n="wss://"),t.server||(t.server=n+window.location.hostname+":9001"),e.setState({config:t});var o=null;console.log(["GOT CONFIG",t]),t.analytics_code&&t.analytics_code.length>0&&(console.log("INIT ANALYTICS "+t.analytics_code),e.useAnalytics=!0,Oe.a.initialize(t.analytics_code),Oe.a.pageview(window.location.pathname+window.location.search)),t.javascript_environment="react",e.client=new Se(t),e.setState({client:e.client}),console.log("CREATED CLIENT"),e.client.bind("hotwordDetected",(function(){})),e.client.bind("hotwordReady",(function(){e.setState({hotwordReady:!0})})),e.client.bind("microphoneStart",(function(){e.setState({microphoneState:3})})),e.client.bind("hotwordStart",(function(){e.setState({microphoneState:2})})),e.client.bind("hotwordStop",(function(){e.setState({microphoneState:1})})),e.client.bind("microphoneStop",(function(){e.setState({microphoneState:2})})),e.client.bind("disconnect",(function(){e.setState({microphoneState:0,connected:!1})})),e.client.bind("reconnect",(function(){e.setState({microphoneState:0,connected:!0})})),e.client.bind("connect",(function(){e.setState({microphoneState:1,connected:!0}),e.client.sendMessage("hermod/"+t.site+"/rasa/get_domain",{})})),e.client.bind("startSpeaking",(function(){console.log("START SPEAKING"),e.setState({isSpeaking:!0})})),e.client.bind("stopSpeaking",(function(){console.log("STOP SPEAKING"),e.setState({isSpeaking:!1})})),e.client.bind("startPlaying",(function(){console.log("START PLAYING"),e.setState({isPlaying:!0})})),e.client.bind("stopPlaying",(function(){console.log("STOP PLAYING"),e.setState({isPlaying:!1})})),e.client.bind("message",(function(t,n){var a,r=t.split("/");a=function(e){var t={};try{t=JSON.parse(e.toString())}catch(n){}return t}(n);var i=t.split("/");i[1]="+";var s=i.join("/");if(e.props.bindTopic&&s in e.props.bindTopic&&null!==e.props.bindTopic[s])try{e.props.bindTopic[s](a)}catch(h){console.log(h)}if(r.length>3&&"display"===r[2]&&"show"===r[3])a.url&&a.url.length>0&&e.client.showUrl(a.url),a.frame&&a.frame.length>0&&e.showFrame(a.frame),a.youtube&&a.youtube.length>0&&e.showYoutube(a.youtube),a.image&&a.image.length>0&&e.showImages([a.image]),a.images&&a.images.length>0&&e.showImages(a.images),a.buttons&&a.buttons.length>0&&e.setState({buttons:a.buttons}),a.navigate&&a.navigate.length>0&&(console.log("NAVMSG"),console.log(a),e.navigateTo(a.navigate));else if(r.length>3&&"dialog"===r[2]&&"slots"===r[3])console.log("SET SLOTS"),console.log(a),e.setState({slots:a});else if(r.length>3&&"rasa"===r[2]&&"domain"===r[3])console.log("SET DOMAIN"),console.log(a),e.setState({domain:a});else if(r.length>3&&"asr"===r[2]&&"text"===r[3])e.setState({question:a.text,transcript:a.text,nlu:"",say:""}),o&&clearTimeout(o),o=setTimeout((function(){e.setState({transcript:""})}),3e3);else if(r.length>3&&"dialog"===r[2]&&"end"===r[3])e.setState({transcript:""});else if(r.length>3&&"nlu"===r[2]&&"intent"===r[3]){var l={};if((d=a.intent&&a.intent.name?a.intent.name:"").length>0&&a.entities){for(var c in a.entities){var u=a.entities[c];console.log(u),u.entity&&u.entity.length>0&&u.value&&u.value.length>0&&(l[u.entity]=u.value)}e.setState({nlu_json:a,nlu_json_original:JSON.stringify(a),nlu:d+JSON.stringify(l),buttons:[]}),e.analyticsEvent(d+JSON.stringify(l))}}else if(r.length>3&&"nlu"===r[2]&&"externalintent"===r[3]){console.log("nlu external intent"),console.log(a);var d;l={};if((d=a.intent&&a.intent.name?a.intent.name:"").length>0&&a.entities){for(var c in a.entities){u=a.entities[c];console.log(u),u.entity&&u.entity.length>0&&u.value&&u.value.length>0&&(l[u.entity]=u.value)}e.setState({nlu_json:a,nlu:d+JSON.stringify(l)})}}else r.length>2&&"tts"===r[2]&&"say"===r[3]?(console.log("say text "+a.text),e.setState({say:a.text})):r.length>3&&"display"===r[2]&&"startwaiting"===r[3]?e.setState({isWaiting:!0}):r.length>3&&"display"===r[2]&&"stopwaiting"===r[3]&&e.setState({isWaiting:!1})})),e.client.connect()})).catch((function(e){console.log("parsing failed",e)}))}},{key:"componentDidMount",value:function(){console.log("APP MOUNT"),this.initClient()}},{key:"toggleMicrophone",value:function(){var e=this.state.microphoneState;this.state.isPlaying?(console.log("ONCLICK WHILE TALKING"),this.client.stopPlaying(),this.client.sendMessage("hermod/"+this.state.config.site+"/tts/finished",{})):1===e?(this.client.stopMicrophone(),this.client.stopHotword(),this.client.sendMessage("hermod/"+this.state.config.site+"/dialog/end",{})):2===e?(this.client.stopHotword(),this.client.startMicrophone(),this.client.sendMessage("hermod/"+this.state.config.site+"/hotword/detected",{})):3===e&&(this.client.stopMicrophone(),this.client.stopHotword(),this.client.sendMessage("hermod/"+this.state.config.site+"/dialog/end",{}))}},{key:"setNluJson",value:function(e){this.setState({nlu_json:e})}},{key:"setQuestion",value:function(e){this.setState({question:e.target.value})}},{key:"analyticsEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Navigation";this.useAnalytics&&(console.log(["ANALYTICS CURRENTPAGE",e]),Oe.a.event({category:t,action:e}))}},{key:"showFrame",value:function(e){this.setState({frame:e}),this.props.history.push("/frame")}},{key:"showYoutube",value:function(e){this.setState({youtube:e}),this.props.history.push("/youtube")}},{key:"showImages",value:function(e){this.setState({images:e}),this.props.history.push("/images")}},{key:"showWindow",value:function(e){console.log("show window "+e);var t=null;t&&t.close(),t=window.open(e)}},{key:"startWaiting",value:function(){this.setState({isWaiting:!0})}},{key:"stopWaiting",value:function(){this.setState({isWaiting:!1})}},{key:"sendMessage",value:function(e){console.log("SNED MESSAGE "+e),this.client.sendASRTextMessage(this.state.config.site,e)}},{key:"render",value:function(){if(this.state.config){var e={toggleMicrophone:this.toggleMicrophone,setQuestion:this.setQuestion,client:this.state.client,showFrame:this.showFrame,showWindow:this.showWindow,startWaiting:this.startWaiting,stopWaiting:this.stopWaiting,sendMessage:this.sendMessage,setNluJson:this.setNluJson};return a.a.createElement("div",{className:"HermodClient"},this.props.children(this.state,e))}return null}}]),n}(o.Component)),je=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={crosswords:[],searchFor:"",difficulty:""},o.searchCrosswords=o.searchCrosswords.bind(Object(c.a)(o)),o.updateSearchFor=o.updateSearchFor.bind(Object(c.a)(o)),o.sendForm=o.sendForm.bind(Object(c.a)(o)),o.updateSearchFor=o.updateSearchFor.bind(Object(c.a)(o)),o.searchTimeout=null,o}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.log("APP dMOUNT");var e=this,t=[];if(localStorage.getItem("crossword_list_entry"))try{t=JSON.parse(localStorage.getItem("crossword_list_entry")),this.setState({crosswords:t})}catch(n){this.searchCrosswords().then((function(){localStorage.setItem("crossword_list_entry",JSON.stringify(e.state.crosswords))}))}t&&0!==t.length||this.searchCrosswords().then((function(){localStorage.setItem("crossword_list_entry",JSON.stringify(e.state.crosswords))})),this.crossword=a.a.createRef()}},{key:"updateSearchFor",value:function(e){this.setState({searchFor:e.target.value}),this.sendForm(e)}},{key:"searchCrosswords",value:function(){var e=this;return new Promise((function(t,n){console.log("SEARCHcw");var o=[];e.state.searchFor.length>0&&o.push("search="+e.state.searchFor),e.state.difficulty.length>0&&o.push("difficulty="+e.state.difficulty),console.log("fetch"),console.log(o);e.props.startWaiting&&e.props.startWaiting(),fetch("/api/crosswords?"+o.join("&")).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({crosswords:t})})).finally((function(){e.props.stopWaiting&&e.props.stopWaiting(),t()}))}))}},{key:"sendForm",value:function(e){return console.log("SEMD FORM"),e.preventDefault(),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(this.searchCrosswords,1e3),!1}},{key:"render",value:function(){var e=[],t={1:"Kids",2:"Easy",3:"Medium",4:"Hard",5:"Cryptic"},n={};for(var o in this.state.crosswords){var r=this.state.crosswords[o],i=Number(r.difficulty>0?r.difficulty:1).toString();n.hasOwnProperty(i)||(n[i]=[]),n[i].push(a.a.createElement("div",{key:o,style:{width:"90%",textAlign:"left",padding:"1em"}},a.a.createElement(h.b,{to:"/crossword/"+r._id},a.a.createElement(f.a,{style:{minWidth:"18em"}},a.a.createElement("span",{style:{float:"right",marginLeft:"0.5em"},className:"badge badge-light"},t.hasOwnProperty(r.difficulty)?t[r.difficulty]:"Unknown"),"Start the ",r.title," crossword")))),e.push(a.a.createElement("div",{key:o,style:{width:"90%",textAlign:"left",padding:"1em"}},a.a.createElement(h.b,{to:"/crossword/"+r._id},a.a.createElement(f.a,{style:{minWidth:"18em"}},a.a.createElement("span",{style:{float:"right",marginLeft:"0.5em"},className:"badge badge-light"},t.hasOwnProperty(r.difficulty)?t[r.difficulty]:"Unknown"),"Start the ",r.title," crossword"))))}var s={backgroundColor:"orange",minWidth:"30%",float:"left",minHeight:"7em",border:"1px solid blue",marginLeft:"0.8em",marginTop:"0.8em",fontSize:"2em",textAlign:"center",align:"center"};console.log(n);var l=[];for(var o in n)l.push(a.a.createElement("span",{style:s,key:o},t.hasOwnProperty(o)?t[o]:"Unknown",a.a.createElement("div",null,n[o])));return a.a.createElement("div",{className:"crosswordListComponent"},a.a.createElement("div",{style:{float:"left",marginLeft:"0.5em",marginRight:"0.5em",clear:"both",width:"50%"}},a.a.createElement("form",{onSubmit:this.sendForm},a.a.createElement("input",{style:{fontSize:"1.8em",width:"100%"},id:"text_input",type:"text",value:this.state.searchFor,onChange:this.updateSearchFor,placeholder:"Search crosswords"}))),a.a.createElement("div",{className:"crosswordSearchResults",style:{clear:"both"}},this.state.searchFor.length>0&&e,0==this.state.searchFor.length&&l),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null))}}]),n}(o.Component),Ne=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).fillCrossword=o.fillCrossword.bind(Object(c.a)(o)),o}return Object(l.a)(n,[{key:"componentDidMount",value:function(){console.log("APP dMOUNT"),this.crossword=a.a.createRef()}},{key:"fillCrossword",value:function(e){console.log(["FILL CROSSWORD",e,this.crossword]),this.crossword&&(console.log("FILL CROSS have ref"),this.crossword.current.fillAnswer(e.direction,e.number,e.word))}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},a.a.createElement(h.a,null,a.a.createElement(ke,{bindTopic:{"hermod/+/crossword/fill":this.fillCrossword}},(function(t,n){return a.a.createElement("div",null,a.a.createElement(g,{path:"/",hermodClient:t,component:ce,api:n,showFrame:n.showFrame,showWindow:n.showWindow,sendMessage:n.sendMessage,toggleMicrophone:n.toggleMicrophone,setQuestion:n.setQuestion}),a.a.createElement("div",{style:{marginTop:"9em"}},a.a.createElement("div",null,JSON.stringify(e.props.hermodClient)),a.a.createElement(g,{exact:!0,path:"/",hermodClient:t,component:v,sendMessage:n.sendMessage}),a.a.createElement(g,{exact:!0,path:"/home",hermodClient:t,component:v,sendMessage:n.sendMessage}),a.a.createElement(g,{exact:!0,path:"/crossword",connected:t.connected,site:t.config.site,api:n,hermodClient:t,component:ee,crosswordRef:e.crossword,startWaiting:n.startWaiting,stopWaiting:n.stopWaiting}),a.a.createElement(g,{exact:!0,path:"/crossword/:id",connected:t.connected,site:t.config.site,api:n,hermodClient:t,component:ee,crosswordRef:e.crossword,startWaiting:n.startWaiting,stopWaiting:n.stopWaiting}),a.a.createElement(g,{exact:!0,path:"/crosswords",hermodClient:t,component:je,startWaiting:n.startWaiting,stopWaiting:n.stopWaiting}),a.a.createElement(g,{exact:!0,path:"/frame",hermodClient:t,component:me}),a.a.createElement(g,{exact:!0,path:"/youtube",hermodClient:t,component:be}),a.a.createElement(g,{exact:!0,path:"/about",hermodClient:t,component:ve}),a.a.createElement(g,{exact:!0,path:"/login",hermodClient:t,component:Ce}),a.a.createElement(g,{exact:!0,path:"/images",images:t.images,component:ye})),a.a.createElement(de,{slots:t.slots,adsenseClient:t.adsenseClient,adsenseSlot:t.adsenseSlot}))}))))}}]),n}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},65:function(e,t,n){}},[[136,1,2]]]);
//# sourceMappingURL=main.222ee2f9.chunk.js.map